<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>高阶面试题 | Aiden&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/Aiden124578/my_blog@1.8.3/docs/.vuepress/public/img/iconfont.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="code-JnW6yLy9qt">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/my_blog/assets/css/0.styles.7c9df909.css" as="style"><link rel="preload" href="/my_blog/assets/js/app.2b316682.js" as="script"><link rel="preload" href="/my_blog/assets/js/2.f62b317f.js" as="script"><link rel="preload" href="/my_blog/assets/js/84.0ee37f88.js" as="script"><link rel="prefetch" href="/my_blog/assets/js/10.91477b68.js"><link rel="prefetch" href="/my_blog/assets/js/100.1aa928d6.js"><link rel="prefetch" href="/my_blog/assets/js/101.a8a2090f.js"><link rel="prefetch" href="/my_blog/assets/js/102.99044dd2.js"><link rel="prefetch" href="/my_blog/assets/js/103.cb7d1bed.js"><link rel="prefetch" href="/my_blog/assets/js/104.cee6ecd2.js"><link rel="prefetch" href="/my_blog/assets/js/105.f701b9ec.js"><link rel="prefetch" href="/my_blog/assets/js/106.0f6a8554.js"><link rel="prefetch" href="/my_blog/assets/js/107.0eb11fb3.js"><link rel="prefetch" href="/my_blog/assets/js/108.4be81d6f.js"><link rel="prefetch" href="/my_blog/assets/js/109.9b426503.js"><link rel="prefetch" href="/my_blog/assets/js/11.4e8e3474.js"><link rel="prefetch" href="/my_blog/assets/js/110.22fa4235.js"><link rel="prefetch" href="/my_blog/assets/js/111.8568dd8b.js"><link rel="prefetch" href="/my_blog/assets/js/112.12bf7a27.js"><link rel="prefetch" href="/my_blog/assets/js/113.ea17c45a.js"><link rel="prefetch" href="/my_blog/assets/js/114.4c2e763f.js"><link rel="prefetch" href="/my_blog/assets/js/115.746e85ee.js"><link rel="prefetch" href="/my_blog/assets/js/116.0b54b75c.js"><link rel="prefetch" href="/my_blog/assets/js/117.cd537229.js"><link rel="prefetch" href="/my_blog/assets/js/118.7011ad16.js"><link rel="prefetch" href="/my_blog/assets/js/119.0bc7be76.js"><link rel="prefetch" href="/my_blog/assets/js/12.86f2c77c.js"><link rel="prefetch" href="/my_blog/assets/js/120.0e7a43be.js"><link rel="prefetch" href="/my_blog/assets/js/121.351abe50.js"><link rel="prefetch" href="/my_blog/assets/js/122.2a9b241f.js"><link rel="prefetch" href="/my_blog/assets/js/123.6af6bda0.js"><link rel="prefetch" href="/my_blog/assets/js/124.2322d897.js"><link rel="prefetch" href="/my_blog/assets/js/125.d1265c8d.js"><link rel="prefetch" href="/my_blog/assets/js/126.8e5335d3.js"><link rel="prefetch" href="/my_blog/assets/js/127.0b76e179.js"><link rel="prefetch" href="/my_blog/assets/js/128.a0cafb36.js"><link rel="prefetch" href="/my_blog/assets/js/129.f8a55fd8.js"><link rel="prefetch" href="/my_blog/assets/js/13.132de6f5.js"><link rel="prefetch" href="/my_blog/assets/js/130.65bc36f4.js"><link rel="prefetch" href="/my_blog/assets/js/131.1a0553c7.js"><link rel="prefetch" href="/my_blog/assets/js/132.646d25ba.js"><link rel="prefetch" href="/my_blog/assets/js/133.d0449594.js"><link rel="prefetch" href="/my_blog/assets/js/134.783e258d.js"><link rel="prefetch" href="/my_blog/assets/js/135.ea68a04f.js"><link rel="prefetch" href="/my_blog/assets/js/136.6ac90171.js"><link rel="prefetch" href="/my_blog/assets/js/137.07b988eb.js"><link rel="prefetch" href="/my_blog/assets/js/138.da999fd1.js"><link rel="prefetch" href="/my_blog/assets/js/139.ad70ed36.js"><link rel="prefetch" href="/my_blog/assets/js/14.ed7b4167.js"><link rel="prefetch" href="/my_blog/assets/js/140.b1bb39c4.js"><link rel="prefetch" href="/my_blog/assets/js/141.e6649b9d.js"><link rel="prefetch" href="/my_blog/assets/js/142.4d344215.js"><link rel="prefetch" href="/my_blog/assets/js/143.82c984f9.js"><link rel="prefetch" href="/my_blog/assets/js/144.d9627e4d.js"><link rel="prefetch" href="/my_blog/assets/js/145.dc19ee1a.js"><link rel="prefetch" href="/my_blog/assets/js/146.cd2f46fd.js"><link rel="prefetch" href="/my_blog/assets/js/147.4a7c4edf.js"><link rel="prefetch" href="/my_blog/assets/js/148.ed0aabe1.js"><link rel="prefetch" href="/my_blog/assets/js/149.a1e2b287.js"><link rel="prefetch" href="/my_blog/assets/js/15.1236807e.js"><link rel="prefetch" href="/my_blog/assets/js/150.9ec98438.js"><link rel="prefetch" href="/my_blog/assets/js/151.922ec022.js"><link rel="prefetch" href="/my_blog/assets/js/152.bbce0363.js"><link rel="prefetch" href="/my_blog/assets/js/153.8ed85f76.js"><link rel="prefetch" href="/my_blog/assets/js/154.32aad633.js"><link rel="prefetch" href="/my_blog/assets/js/155.4707b172.js"><link rel="prefetch" href="/my_blog/assets/js/156.2f4b802b.js"><link rel="prefetch" href="/my_blog/assets/js/157.59a7b40e.js"><link rel="prefetch" href="/my_blog/assets/js/158.d01f1465.js"><link rel="prefetch" href="/my_blog/assets/js/159.33dadf79.js"><link rel="prefetch" href="/my_blog/assets/js/16.b02853ec.js"><link rel="prefetch" href="/my_blog/assets/js/160.edcf99ab.js"><link rel="prefetch" href="/my_blog/assets/js/161.17fdb417.js"><link rel="prefetch" href="/my_blog/assets/js/162.9607cf30.js"><link rel="prefetch" href="/my_blog/assets/js/163.7a450240.js"><link rel="prefetch" href="/my_blog/assets/js/164.d6d1d9a8.js"><link rel="prefetch" href="/my_blog/assets/js/165.ee74b8e7.js"><link rel="prefetch" href="/my_blog/assets/js/166.75a0e2ec.js"><link rel="prefetch" href="/my_blog/assets/js/167.2fd488b1.js"><link rel="prefetch" href="/my_blog/assets/js/168.2435cb2e.js"><link rel="prefetch" href="/my_blog/assets/js/169.781a1b9d.js"><link rel="prefetch" href="/my_blog/assets/js/17.25a88a99.js"><link rel="prefetch" href="/my_blog/assets/js/170.05bc82d1.js"><link rel="prefetch" href="/my_blog/assets/js/171.7c01fc66.js"><link rel="prefetch" href="/my_blog/assets/js/172.08ed5429.js"><link rel="prefetch" href="/my_blog/assets/js/173.897e9178.js"><link rel="prefetch" href="/my_blog/assets/js/174.0520b37c.js"><link rel="prefetch" href="/my_blog/assets/js/175.de04559c.js"><link rel="prefetch" href="/my_blog/assets/js/176.98f16f1e.js"><link rel="prefetch" href="/my_blog/assets/js/177.37489dea.js"><link rel="prefetch" href="/my_blog/assets/js/178.af1019fa.js"><link rel="prefetch" href="/my_blog/assets/js/179.4d45a699.js"><link rel="prefetch" href="/my_blog/assets/js/18.936dcb4f.js"><link rel="prefetch" href="/my_blog/assets/js/180.9f53e7b7.js"><link rel="prefetch" href="/my_blog/assets/js/181.afbedf0b.js"><link rel="prefetch" href="/my_blog/assets/js/182.cc49f832.js"><link rel="prefetch" href="/my_blog/assets/js/183.f02e595a.js"><link rel="prefetch" href="/my_blog/assets/js/184.be3fcb17.js"><link rel="prefetch" href="/my_blog/assets/js/185.efb1dc1b.js"><link rel="prefetch" href="/my_blog/assets/js/186.1ef74232.js"><link rel="prefetch" href="/my_blog/assets/js/187.a3811744.js"><link rel="prefetch" href="/my_blog/assets/js/188.f2f3e85e.js"><link rel="prefetch" href="/my_blog/assets/js/189.5ab109dd.js"><link rel="prefetch" href="/my_blog/assets/js/19.03215bc7.js"><link rel="prefetch" href="/my_blog/assets/js/190.215b08da.js"><link rel="prefetch" href="/my_blog/assets/js/191.e99abccf.js"><link rel="prefetch" href="/my_blog/assets/js/192.d35f29cb.js"><link rel="prefetch" href="/my_blog/assets/js/193.a7235703.js"><link rel="prefetch" href="/my_blog/assets/js/194.6a9ad02c.js"><link rel="prefetch" href="/my_blog/assets/js/195.5e6cc055.js"><link rel="prefetch" href="/my_blog/assets/js/196.117e2c4a.js"><link rel="prefetch" href="/my_blog/assets/js/197.15ef330b.js"><link rel="prefetch" href="/my_blog/assets/js/198.850a55ff.js"><link rel="prefetch" href="/my_blog/assets/js/199.33e0246a.js"><link rel="prefetch" href="/my_blog/assets/js/20.a015b6eb.js"><link rel="prefetch" href="/my_blog/assets/js/200.646bb87e.js"><link rel="prefetch" href="/my_blog/assets/js/201.e198c2b5.js"><link rel="prefetch" href="/my_blog/assets/js/202.f8bd345f.js"><link rel="prefetch" href="/my_blog/assets/js/203.4730d03a.js"><link rel="prefetch" href="/my_blog/assets/js/204.36154b7f.js"><link rel="prefetch" href="/my_blog/assets/js/205.f3c189b2.js"><link rel="prefetch" href="/my_blog/assets/js/206.9701d004.js"><link rel="prefetch" href="/my_blog/assets/js/207.58a27838.js"><link rel="prefetch" href="/my_blog/assets/js/208.70b95eba.js"><link rel="prefetch" href="/my_blog/assets/js/209.4402ead2.js"><link rel="prefetch" href="/my_blog/assets/js/21.5dad3855.js"><link rel="prefetch" href="/my_blog/assets/js/210.2615ef76.js"><link rel="prefetch" href="/my_blog/assets/js/211.fd98901e.js"><link rel="prefetch" href="/my_blog/assets/js/212.be68f814.js"><link rel="prefetch" href="/my_blog/assets/js/213.8cd7757a.js"><link rel="prefetch" href="/my_blog/assets/js/214.6f212488.js"><link rel="prefetch" href="/my_blog/assets/js/215.b5c0f38e.js"><link rel="prefetch" href="/my_blog/assets/js/216.1a71a357.js"><link rel="prefetch" href="/my_blog/assets/js/217.cc8d30cb.js"><link rel="prefetch" href="/my_blog/assets/js/218.27f5e3db.js"><link rel="prefetch" href="/my_blog/assets/js/219.231ed249.js"><link rel="prefetch" href="/my_blog/assets/js/22.518752d6.js"><link rel="prefetch" href="/my_blog/assets/js/220.99e9fd60.js"><link rel="prefetch" href="/my_blog/assets/js/221.4fed77da.js"><link rel="prefetch" href="/my_blog/assets/js/222.6f493aff.js"><link rel="prefetch" href="/my_blog/assets/js/223.a2484693.js"><link rel="prefetch" href="/my_blog/assets/js/224.f87679c9.js"><link rel="prefetch" href="/my_blog/assets/js/225.0ebbdf69.js"><link rel="prefetch" href="/my_blog/assets/js/226.46c1e1e2.js"><link rel="prefetch" href="/my_blog/assets/js/227.965790e4.js"><link rel="prefetch" href="/my_blog/assets/js/228.05a1a504.js"><link rel="prefetch" href="/my_blog/assets/js/229.bd28b093.js"><link rel="prefetch" href="/my_blog/assets/js/23.cfb48774.js"><link rel="prefetch" href="/my_blog/assets/js/230.2c13c5e4.js"><link rel="prefetch" href="/my_blog/assets/js/231.ed0293f4.js"><link rel="prefetch" href="/my_blog/assets/js/232.0e18945d.js"><link rel="prefetch" href="/my_blog/assets/js/233.91e26768.js"><link rel="prefetch" href="/my_blog/assets/js/234.185f8950.js"><link rel="prefetch" href="/my_blog/assets/js/235.3f9eeef3.js"><link rel="prefetch" href="/my_blog/assets/js/236.659601f3.js"><link rel="prefetch" href="/my_blog/assets/js/237.63c5374f.js"><link rel="prefetch" href="/my_blog/assets/js/238.74e55c2f.js"><link rel="prefetch" href="/my_blog/assets/js/239.c1c9aced.js"><link rel="prefetch" href="/my_blog/assets/js/24.60f3ebaf.js"><link rel="prefetch" href="/my_blog/assets/js/240.3cd66de4.js"><link rel="prefetch" href="/my_blog/assets/js/241.a5e57ccb.js"><link rel="prefetch" href="/my_blog/assets/js/242.75d40824.js"><link rel="prefetch" href="/my_blog/assets/js/243.091950c2.js"><link rel="prefetch" href="/my_blog/assets/js/244.41b1bdb4.js"><link rel="prefetch" href="/my_blog/assets/js/245.702a6fc2.js"><link rel="prefetch" href="/my_blog/assets/js/246.9a347160.js"><link rel="prefetch" href="/my_blog/assets/js/247.a03705c1.js"><link rel="prefetch" href="/my_blog/assets/js/248.ff00d243.js"><link rel="prefetch" href="/my_blog/assets/js/249.69cdb86d.js"><link rel="prefetch" href="/my_blog/assets/js/25.29b5d176.js"><link rel="prefetch" href="/my_blog/assets/js/250.b1113c1d.js"><link rel="prefetch" href="/my_blog/assets/js/251.173005e7.js"><link rel="prefetch" href="/my_blog/assets/js/252.edc88d9f.js"><link rel="prefetch" href="/my_blog/assets/js/253.d7a08cef.js"><link rel="prefetch" href="/my_blog/assets/js/254.90362179.js"><link rel="prefetch" href="/my_blog/assets/js/255.ffaa0a8e.js"><link rel="prefetch" href="/my_blog/assets/js/256.b21aa51e.js"><link rel="prefetch" href="/my_blog/assets/js/257.38aae386.js"><link rel="prefetch" href="/my_blog/assets/js/258.77a30d51.js"><link rel="prefetch" href="/my_blog/assets/js/259.52cf6fd4.js"><link rel="prefetch" href="/my_blog/assets/js/26.de890bc6.js"><link rel="prefetch" href="/my_blog/assets/js/260.88ad0fb6.js"><link rel="prefetch" href="/my_blog/assets/js/261.6b4e2037.js"><link rel="prefetch" href="/my_blog/assets/js/262.526b706b.js"><link rel="prefetch" href="/my_blog/assets/js/263.6a4bf272.js"><link rel="prefetch" href="/my_blog/assets/js/264.111880a9.js"><link rel="prefetch" href="/my_blog/assets/js/265.66222dde.js"><link rel="prefetch" href="/my_blog/assets/js/266.e21c42f6.js"><link rel="prefetch" href="/my_blog/assets/js/267.7c3e4d30.js"><link rel="prefetch" href="/my_blog/assets/js/268.b063f4a2.js"><link rel="prefetch" href="/my_blog/assets/js/269.a41f4800.js"><link rel="prefetch" href="/my_blog/assets/js/27.714a5320.js"><link rel="prefetch" href="/my_blog/assets/js/28.2095b30e.js"><link rel="prefetch" href="/my_blog/assets/js/29.f81e0376.js"><link rel="prefetch" href="/my_blog/assets/js/3.8cd35247.js"><link rel="prefetch" href="/my_blog/assets/js/30.595d2dfa.js"><link rel="prefetch" href="/my_blog/assets/js/31.4c86fae3.js"><link rel="prefetch" href="/my_blog/assets/js/32.437b191d.js"><link rel="prefetch" href="/my_blog/assets/js/33.f948b446.js"><link rel="prefetch" href="/my_blog/assets/js/34.849abbac.js"><link rel="prefetch" href="/my_blog/assets/js/35.cef097e8.js"><link rel="prefetch" href="/my_blog/assets/js/36.276098dc.js"><link rel="prefetch" href="/my_blog/assets/js/37.ea8b8188.js"><link rel="prefetch" href="/my_blog/assets/js/38.ac79553e.js"><link rel="prefetch" href="/my_blog/assets/js/39.b36bd5a8.js"><link rel="prefetch" href="/my_blog/assets/js/4.0c1d4c03.js"><link rel="prefetch" href="/my_blog/assets/js/40.07d3b135.js"><link rel="prefetch" href="/my_blog/assets/js/41.2058ddef.js"><link rel="prefetch" href="/my_blog/assets/js/42.1cd3826a.js"><link rel="prefetch" href="/my_blog/assets/js/43.8d472c10.js"><link rel="prefetch" href="/my_blog/assets/js/44.710e5aff.js"><link rel="prefetch" href="/my_blog/assets/js/45.dd487eae.js"><link rel="prefetch" href="/my_blog/assets/js/46.2bf3ceff.js"><link rel="prefetch" href="/my_blog/assets/js/47.aaaa13b7.js"><link rel="prefetch" href="/my_blog/assets/js/48.1308ba74.js"><link rel="prefetch" href="/my_blog/assets/js/49.f0015fe5.js"><link rel="prefetch" href="/my_blog/assets/js/5.a4604477.js"><link rel="prefetch" href="/my_blog/assets/js/50.49fbd3fb.js"><link rel="prefetch" href="/my_blog/assets/js/51.91a655aa.js"><link rel="prefetch" href="/my_blog/assets/js/52.1f5aa004.js"><link rel="prefetch" href="/my_blog/assets/js/53.076ddceb.js"><link rel="prefetch" href="/my_blog/assets/js/54.ff01be55.js"><link rel="prefetch" href="/my_blog/assets/js/55.8a05b66b.js"><link rel="prefetch" href="/my_blog/assets/js/56.5c666260.js"><link rel="prefetch" href="/my_blog/assets/js/57.d19875f3.js"><link rel="prefetch" href="/my_blog/assets/js/58.79f303c8.js"><link rel="prefetch" href="/my_blog/assets/js/59.17a7e819.js"><link rel="prefetch" href="/my_blog/assets/js/6.702bf14a.js"><link rel="prefetch" href="/my_blog/assets/js/60.bf8f4096.js"><link rel="prefetch" href="/my_blog/assets/js/61.7c1d270c.js"><link rel="prefetch" href="/my_blog/assets/js/62.ebb2d647.js"><link rel="prefetch" href="/my_blog/assets/js/63.b9037487.js"><link rel="prefetch" href="/my_blog/assets/js/64.71856e25.js"><link rel="prefetch" href="/my_blog/assets/js/65.054e8360.js"><link rel="prefetch" href="/my_blog/assets/js/66.f87df7ed.js"><link rel="prefetch" href="/my_blog/assets/js/67.e54781d0.js"><link rel="prefetch" href="/my_blog/assets/js/68.459e77c3.js"><link rel="prefetch" href="/my_blog/assets/js/69.e909afa2.js"><link rel="prefetch" href="/my_blog/assets/js/7.121aaba6.js"><link rel="prefetch" href="/my_blog/assets/js/70.cf767b82.js"><link rel="prefetch" href="/my_blog/assets/js/71.5d687496.js"><link rel="prefetch" href="/my_blog/assets/js/72.334dd6be.js"><link rel="prefetch" href="/my_blog/assets/js/73.f30f2ca2.js"><link rel="prefetch" href="/my_blog/assets/js/74.c46ea4ff.js"><link rel="prefetch" href="/my_blog/assets/js/75.b8839bdb.js"><link rel="prefetch" href="/my_blog/assets/js/76.e6f464fe.js"><link rel="prefetch" href="/my_blog/assets/js/77.e506a508.js"><link rel="prefetch" href="/my_blog/assets/js/78.d7478c6b.js"><link rel="prefetch" href="/my_blog/assets/js/79.a7b8dd15.js"><link rel="prefetch" href="/my_blog/assets/js/8.2c6b16fc.js"><link rel="prefetch" href="/my_blog/assets/js/80.96f36ca5.js"><link rel="prefetch" href="/my_blog/assets/js/81.d42075ae.js"><link rel="prefetch" href="/my_blog/assets/js/82.a08fb156.js"><link rel="prefetch" href="/my_blog/assets/js/83.c45bc7de.js"><link rel="prefetch" href="/my_blog/assets/js/85.b1f39b5e.js"><link rel="prefetch" href="/my_blog/assets/js/86.ea374b89.js"><link rel="prefetch" href="/my_blog/assets/js/87.13e634dd.js"><link rel="prefetch" href="/my_blog/assets/js/88.be040338.js"><link rel="prefetch" href="/my_blog/assets/js/89.6b6ecc70.js"><link rel="prefetch" href="/my_blog/assets/js/9.30b9fac3.js"><link rel="prefetch" href="/my_blog/assets/js/90.12f92057.js"><link rel="prefetch" href="/my_blog/assets/js/91.f23b5ffd.js"><link rel="prefetch" href="/my_blog/assets/js/92.c8da7d07.js"><link rel="prefetch" href="/my_blog/assets/js/93.6ebcdc84.js"><link rel="prefetch" href="/my_blog/assets/js/94.e48cf467.js"><link rel="prefetch" href="/my_blog/assets/js/95.f554dd4e.js"><link rel="prefetch" href="/my_blog/assets/js/96.4ed11d68.js"><link rel="prefetch" href="/my_blog/assets/js/97.69938884.js"><link rel="prefetch" href="/my_blog/assets/js/98.e774d4da.js"><link rel="prefetch" href="/my_blog/assets/js/99.28954c3f.js">
    <link rel="stylesheet" href="/my_blog/assets/css/0.styles.7c9df909.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my_blog/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/Aiden124578/my_blog@1.8.3/docs/.vuepress/public/img/AD-logo.png" alt="Aiden's blog" class="logo"> <span class="site-name can-hide">Aiden's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my_blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/my_blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/5d463fbdb172d43b/" class="nav-link">Vue</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/note/javascript/" class="nav-link">JavaScript教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/js/" class="nav-link">JavaScript高级程序设计</a></li><li class="dropdown-subitem"><a href="/my_blog/note/es6/" class="nav-link">ES6 教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/690271/" class="nav-link">Vue3.0</a></li><li class="dropdown-subitem"><a href="/my_blog/note/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/my_blog/note/typescript-axios/" class="nav-link">TypeScript 从零实现 axios</a></li><li class="dropdown-subitem"><a href="/my_blog/note/git/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li><li class="dropdown-subitem"><a href="/my_blog/note/wx-miniprogram/" class="nav-link">小程序</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/f342ec/" class="nav-link">小程序云开发</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/echarts/" class="nav-link">Echarts</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/92a49d/" class="nav-link">微前端</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/e1dcd1/" class="nav-link">H5</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/my_blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/my_blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/pages/nodejs/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/my_blog/note/seo/baidu/" class="nav-link">搜索引擎</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2588a7/" class="nav-link">ES系列</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7d67e2/" class="nav-link">经典面试题</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7a69e8/" class="nav-link">知识点总结</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/uni-app/" class="nav-link">uni-app</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/leetcode/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/f4c038/" class="nav-link">Vue3实战</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/fcb539/" class="nav-link">小程序chatgpt</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/12985d/" class="nav-link">小程序配网流程</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/785e56/" class="nav-link">程序WIFI配网</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/b07c41/" class="nav-link">小程序WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/628a97/" class="nav-link">H5 WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/66e106/" class="nav-link">H5 TTS</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/8deb1d/" class="nav-link">Vue3实现OSS存储</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/d9915d/" class="nav-link">大文件分片上传</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/my_blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/my_blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/my_blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/my_blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/my_blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/my_blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Aiden124578/my_blog/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://pic.imgdb.cn/item/612859a444eaada739759616.jpg"> <div class="blogger-info"><h3>Aiden Wu</h3> <span>前端界的小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/my_blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/my_blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/5d463fbdb172d43b/" class="nav-link">Vue</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/note/javascript/" class="nav-link">JavaScript教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/js/" class="nav-link">JavaScript高级程序设计</a></li><li class="dropdown-subitem"><a href="/my_blog/note/es6/" class="nav-link">ES6 教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/690271/" class="nav-link">Vue3.0</a></li><li class="dropdown-subitem"><a href="/my_blog/note/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/my_blog/note/typescript-axios/" class="nav-link">TypeScript 从零实现 axios</a></li><li class="dropdown-subitem"><a href="/my_blog/note/git/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li><li class="dropdown-subitem"><a href="/my_blog/note/wx-miniprogram/" class="nav-link">小程序</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/f342ec/" class="nav-link">小程序云开发</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/echarts/" class="nav-link">Echarts</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/92a49d/" class="nav-link">微前端</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/e1dcd1/" class="nav-link">H5</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/my_blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/my_blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/pages/nodejs/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/my_blog/note/seo/baidu/" class="nav-link">搜索引擎</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2588a7/" class="nav-link">ES系列</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7d67e2/" class="nav-link">经典面试题</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7a69e8/" class="nav-link">知识点总结</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/uni-app/" class="nav-link">uni-app</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/leetcode/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/f4c038/" class="nav-link">Vue3实战</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/fcb539/" class="nav-link">小程序chatgpt</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/12985d/" class="nav-link">小程序配网流程</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/785e56/" class="nav-link">程序WIFI配网</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/b07c41/" class="nav-link">小程序WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/628a97/" class="nav-link">H5 WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/66e106/" class="nav-link">H5 TTS</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/8deb1d/" class="nav-link">Vue3实现OSS存储</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/d9915d/" class="nav-link">大文件分片上传</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/my_blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/my_blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/my_blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/my_blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/my_blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/my_blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Aiden124578/my_blog/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GitHub技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>博客搭建</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>搜索引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>经典面试题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my_blog/pages/7d67e2/" class="sidebar-link">初级面试题</a></li><li><a href="/my_blog/pages/429fa2/" class="sidebar-link">进阶面试题</a></li><li><a href="/my_blog/pages/13ff64/" aria-current="page" class="active sidebar-link">高阶面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#了解this嘛-bind-call-apply具体指什么" class="sidebar-link">了解this嘛，bind，call，apply具体指什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#this的指向" class="sidebar-link">this的指向</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#怎么改变this的指向" class="sidebar-link">怎么改变this的指向</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#箭头函数" class="sidebar-link">箭头函数</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#使用apply、call、bind" class="sidebar-link">使用apply、call、bind</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#js中函数的调用" class="sidebar-link">JS中函数的调用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#new-命令的原理" class="sidebar-link">new 命令的原理</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#匿名函数" class="sidebar-link">匿名函数</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#nan-是什么-typeof-会输出什么" class="sidebar-link">NaN 是什么，typeof 会输出什么？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#js-隐式转换-显示转换" class="sidebar-link">JS 隐式转换，显示转换</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#promise原理" class="sidebar-link">Promise原理</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#settimeout-fn-0-多久才执行-event-loop" class="sidebar-link">setTimeout(fn, 0)多久才执行，Event Loop</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#怎么加事件监听-两种" class="sidebar-link">怎么加事件监听，两种</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#什么是原型链" class="sidebar-link">什么是原型链？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#什么是原型继承" class="sidebar-link">什么是原型继承？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#说下对-js-的了解吧" class="sidebar-link">说下对 JS 的了解吧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#语言标准部分" class="sidebar-link">语言标准部分</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#宿主环境部分" class="sidebar-link">宿主环境部分</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#函数中的arguments是数组吗" class="sidebar-link">函数中的arguments是数组吗？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#类数组转数组的方法了解一下" class="sidebar-link">类数组转数组的方法了解一下？</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#用过-typescript-吗-它的作用是什么" class="sidebar-link">用过 TypeScript 吗？它的作用是什么？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#如果一个构造函数-bind了一个对象-用这个构造函数创建出的实例会继承这个对象的属性吗-为什么" class="sidebar-link">如果一个构造函数，bind了一个对象，用这个构造函数创建出的实例会继承这个对象的属性吗？为什么？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#知道-es6-的-class-嘛-static-关键字有了解嘛" class="sidebar-link">知道 ES6 的 Class 嘛？Static 关键字有了解嘛</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#事件循环机制-event-loop" class="sidebar-link">事件循环机制 （Event Loop）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#优先级" class="sidebar-link">优先级</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#手写扁平化" class="sidebar-link">手写扁平化</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#手写题-实现柯里化" class="sidebar-link">手写题：实现柯里化</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#手写题-数组去重" class="sidebar-link">手写题：数组去重</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#dom事件流" class="sidebar-link">DOM事件流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#事件委托的原理-重" class="sidebar-link">事件委托的原理（重）</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#事件委托的作用" class="sidebar-link">事件委托的作用</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#为什么要事件委托-重" class="sidebar-link">为什么要事件委托?（重）</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#事件委托小案例" class="sidebar-link">事件委托小案例</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#http是如何实现长连接的-什么时候会超时" class="sidebar-link">http是如何实现长连接的，什么时候会超时</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#_301与302的区别" class="sidebar-link">301与302的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#_1-缓存" class="sidebar-link">1. 缓存</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#_2-搜索引擎" class="sidebar-link">2. 搜索引擎</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#了解websocket嘛" class="sidebar-link">了解websocket嘛</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#连接保持-心跳" class="sidebar-link">连接保持+心跳</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#sec-websocket-key-accept的作用" class="sidebar-link">Sec-WebSocket-Key/Accept的作用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#你对-tcp-滑动窗口有了解嘛" class="sidebar-link">你对 TCP 滑动窗口有了解嘛？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#tcp与udp的区别" class="sidebar-link">TCP与UDP的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#备注" class="sidebar-link">备注</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#为什么-tcp-可靠" class="sidebar-link">为什么 TCP 可靠？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#dns-缓存" class="sidebar-link">DNS 缓存</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#什么是https" class="sidebar-link">什么是https</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#认识-ssl-tls" class="sidebar-link">认识 SSL/TLS</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#什么是垃圾回收-gc" class="sidebar-link">什么是垃圾回收（GC）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#并发时三色法存在的问题" class="sidebar-link">并发时三色法存在的问题</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#什么是写屏障" class="sidebar-link">什么是写屏障</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#如何解决白屏问题" class="sidebar-link">如何解决白屏问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#页面卡住了可能是因为什么" class="sidebar-link">页面卡住了可能是因为什么</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#pwa" class="sidebar-link">PWA</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#图层" class="sidebar-link">图层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#创建图层" class="sidebar-link">创建图层</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#重排" class="sidebar-link">重排</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#优化" class="sidebar-link">优化</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#阻塞" class="sidebar-link">阻塞</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#css阻塞" class="sidebar-link">css阻塞</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#优化-2" class="sidebar-link">优化</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#js阻塞" class="sidebar-link">js阻塞</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#备注-2" class="sidebar-link">备注</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#实现bigint类型-大数相加" class="sidebar-link">实现bigInt类型（大数相加）</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#websocket与ajax的区别" class="sidebar-link">WebSocket与Ajax的区别</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#head请求方式" class="sidebar-link">HEAD请求方式</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#fetch发送2次请求的原因" class="sidebar-link">fetch发送2次请求的原因</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#cookie如何防范xss攻击" class="sidebar-link">Cookie如何防范XSS攻击</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#设置一个元素的背景颜色-背景颜色会填充哪些区域" class="sidebar-link">设置一个元素的背景颜色，背景颜色会填充哪些区域</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#字节码缓存" class="sidebar-link">字节码缓存</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#跨页面通信" class="sidebar-link">跨页面通信</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#localstorage数据存储为有效期" class="sidebar-link">localStorage数据存储为有效期</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#_0-2-0-1-0-1为true-0-8-0-6-0-2为fale" class="sidebar-link">0.2-0.1==0.1为true，0.8-0.6==0.2为fale</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#clear的作用" class="sidebar-link">clear的作用</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#_1-2-3-map-parseint-1-nan-nan" class="sidebar-link">[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;].map(parseInt)=&gt;[1,NaN,NaN]</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#border-none与0的区别" class="sidebar-link">border:none与0的区别</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#白屏时间first-paint-和可交互时间dom-ready的关系是" class="sidebar-link">白屏时间first paint 和可交互时间dom ready的关系是？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#浏览器的多线程" class="sidebar-link">浏览器的多线程</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#weakmap-weakset" class="sidebar-link">WeakMap WeakSet</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#隐士转换" class="sidebar-link">隐士转换</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#jsonp" class="sidebar-link">JSONP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#流程" class="sidebar-link">流程：</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#jsonp和ajax请求的异同" class="sidebar-link">JSONP和AJAX请求的异同</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#ric" class="sidebar-link">RIC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#requestidlecallback" class="sidebar-link">requestIdleCallback</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#es5-es6-的继承除了写法以外还有什么区别" class="sidebar-link">ES5/ES6 的继承除了写法以外还有什么区别？</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#aop" class="sidebar-link">AOP</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#不同域名之间共享localstorage-sessionstorage" class="sidebar-link">不同域名之间共享localStorage/sessionStorage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#问题" class="sidebar-link">问题</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#实现原理" class="sidebar-link">实现原理</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#优化iframe" class="sidebar-link">优化iframe</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/13ff64/#示例" class="sidebar-link">示例</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#伪类与伪元素的区别" class="sidebar-link">伪类与伪元素的区别</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#delete关键字" class="sidebar-link">delete关键字</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#in关键字" class="sidebar-link">in关键字</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#手写红绿灯" class="sidebar-link">手写红绿灯</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#有利于seo" class="sidebar-link">有利于SEO</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/13ff64/#href与src的区别" class="sidebar-link">href与src的区别</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>知识点总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>uni-app</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue3实战</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序chatgpt</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序WIFI配网</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序配网流程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序WebSocket</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>H5 WebSocket</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>H5 TTS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue3实现OSS存储</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大文件分片上传</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/my_blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/my_blog/technology/#技术" data-v-06225672>技术</a></li><li data-v-06225672><a href="/my_blog/technology/#经典面试题" data-v-06225672>经典面试题</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Aiden124578" target="_blank" title="作者" class="beLink" data-v-06225672>wushengxin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2021-10-11</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">高阶面试题<!----></h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="了解this嘛-bind-call-apply具体指什么"><a href="#了解this嘛-bind-call-apply具体指什么" class="header-anchor">#</a> 了解this嘛，bind，call，apply具体指什么</h2> <h3 id="this的指向"><a href="#this的指向" class="header-anchor">#</a> this的指向</h3> <p>this永远指向最后调用它的那个对象</p> <p>例 1：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;windowsName&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;Cherry&quot;</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// windowsName</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;inner:&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// inner: Window</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;outer:&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">)</span>         <span class="token comment">// outer: Window</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>前面没有调用的对象那么就是全局对象 window</strong>，这就相当于是 <code>window.a()</code>；注意，这里我们没有使用严格模式，如果使用<strong>严格模式</strong>的话，<strong>全局对象</strong>就是 <code>undefined</code>，那么就会报错 <code>Uncaught TypeError: Cannot read property 'name' of undefined</code>。</p> <blockquote><p>注意：定时器、触发事件this指向window，即<strong>匿名函数（立即执行函数）的 this 永远指向 window</strong></p></blockquote> <p>例 2：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;windowsName&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Cherry&quot;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">fn</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// Cherry</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    window<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这里打印 Cherry 的原因也是因为刚刚那句话“<strong>this 永远指向最后调用它的那个对象</strong>”，最后调用它的对象仍然是对象 a。</p> <p>再来看一个比较坑的例子：
例 3：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;windowsName&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token comment">// name: &quot;Cherry&quot;,</span>
        <span class="token function-variable function">fn</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// windowsName</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> f <span class="token operator">=</span> a<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这里你可能会有疑问，为什么不是 <code>Cherry</code>，这是因为虽然将 a 对象的 fn 方法赋值给变量 f 了，但是没有调用，再接着跟我念这一句话：“<strong>this 永远指向最后调用它的那个对象</strong>”，由于刚刚的 f 并没有调用，所以 <code>fn()</code> 最后仍然是被 window 调用的。所以 this 指向的也就是 window。</p> <p>由以上五个例子我们可以看出，this 的指向并不是在创建的时候就可以确定的，在 es5 中，永远是<strong>this 永远指向最后调用它的那个对象</strong>。</p> <p>再来看一个例子：
例 4：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;windowsName&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Cherry'</span><span class="token punctuation">;</span>
        <span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">function</span> <span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// windowsName</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>读到现在了应该能够理解这是为什么了吧(oﾟ▽ﾟ)o。</p> <h3 id="怎么改变this的指向"><a href="#怎么改变this的指向" class="header-anchor">#</a> 怎么改变this的指向</h3> <ul><li>使用ES6的箭头函数</li> <li>在函数内部使用<code>_this = this</code></li> <li>使用<code>apply</code>、<code>call</code>、<code>bind</code></li> <li>new实例化一个对象</li></ul> <h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <p><strong>箭头函数的this始终指向函数定义的this，而非执行时</strong></p> <h3 id="使用apply、call、bind"><a href="#使用apply、call、bind" class="header-anchor">#</a> 使用apply、call、bind</h3> <ul><li><p>如果第一个参数的值是 null 或 undefined, 它将使用全局对象替代。</p></li> <li><p>如果第二个参数的值为null 或 undefined，则表示不需要传入任何参数。</p></li> <li><p>apply 和 call 的区别是 call 方法接受的是若干个参数列表，而 apply 接收的是一个包含多个参数的数组</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span> <span class="token operator">:</span> <span class="token string">&quot;Cherry&quot;</span><span class="token punctuation">,</span>

    <span class="token function-variable function">func1</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">func2</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment">// Cherry</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="js中函数的调用"><a href="#js中函数的调用" class="header-anchor">#</a> JS中函数的调用</h3> <ul><li>作为一个函数调用</li> <li>函数作为方法调用</li> <li>使用构造函数调用函数</li> <li>作为函数方法调用函数</li></ul> <h2 id="new-命令的原理"><a href="#new-命令的原理" class="header-anchor">#</a> new 命令的原理</h2> <p>使用<code>new</code>命令时，它后面的函数依次执行下面的步骤。</p> <ol><li>创建一个空对象，作为将要返回的实例对象。</li> <li>将这个空对象的原型，指向构造函数的<code>prototype</code>属性。</li> <li>将这个空对象赋值给函数内部的<code>this</code>关键字。</li> <li>开始执行构造函数内部的代码。（代码中this指向空对象（实例对象））</li> <li>返回实例对象（或自定义对象）</li></ol> <h2 id="匿名函数"><a href="#匿名函数" class="header-anchor">#</a> 匿名函数</h2> <p><strong>匿名函数的 this 永远指向 window</strong></p> <p>匿名函数都是怎么定义的，首先，我们通常写的匿名函数都是自执行的，就是在匿名函数后面加 <code>()</code> 让其自执行。其次就是虽然匿名函数不能被其他对象调用，但是可以被其他函数调用啊，比如 setTimeout</p> <h2 id="nan-是什么-typeof-会输出什么"><a href="#nan-是什么-typeof-会输出什么" class="header-anchor">#</a> NaN 是什么，typeof 会输出什么？</h2> <p>Not a Number，表示非数字，typeof NaN === 'number'</p> <h2 id="js-隐式转换-显示转换"><a href="#js-隐式转换-显示转换" class="header-anchor">#</a> JS 隐式转换，显示转换</h2> <p>一般非基础类型进行转换时会先调用 valueOf，如果 valueOf 无法返回基本类型值，就会调用 toString</p> <h2 id="promise原理"><a href="#promise原理" class="header-anchor">#</a> Promise原理</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resolvedCallbacks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rejectedCallbacks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">'PENDING'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
  <span class="token punctuation">}</span>
  
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'PENDING'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">'RESOLVED'</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
      
      <span class="token keyword">this</span><span class="token punctuation">.</span>resolvedCallbacks<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">cb</span> <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'PENDING'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">'REJECTED'</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
      
      <span class="token keyword">this</span><span class="token punctuation">.</span>rejectedCallbacks<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">cb</span> <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">onFulfilled<span class="token punctuation">,</span> onRejected</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'PENDING'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>resolvedCallbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>onFulfilled<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>rejectedCallbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    <span class="token punctuation">}</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'RESOLVED'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">onFulfilled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'REJECTED'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
      
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h2 id="settimeout-fn-0-多久才执行-event-loop"><a href="#settimeout-fn-0-多久才执行-event-loop" class="header-anchor">#</a> <code>setTimeout(fn, 0)</code>多久才执行，Event Loop</h2> <p>setTimeout 按照顺序放到队列里面，然后等待函数调用栈清空之后才开始执行，而这些操作进入队列的顺序，则由设定的延迟时间来决定</p> <h2 id="怎么加事件监听-两种"><a href="#怎么加事件监听-两种" class="header-anchor">#</a> 怎么加事件监听，两种</h2> <p>onclick 和 addEventListener</p> <h2 id="什么是原型链"><a href="#什么是原型链" class="header-anchor">#</a> 什么是原型链？</h2> <p>当对象查找一个属性的时候，如果没有在自身找到，那么就会查找自身的原型，如果原型还没有找到，那么会继续查找原型的原型，直到找到 Object.prototype 的原型时，此时原型为 null，查找停止。这种通过 通过原型链接的逐级向上的查找链被称为原型链</p> <h2 id="什么是原型继承"><a href="#什么是原型继承" class="header-anchor">#</a> 什么是原型继承？</h2> <p>一个对象可以使用另外一个对象的属性或者方法，就称之为继承。具体是通过将这个对象的原型设置为另外一个对象，这样根据原型链的规则，如果查找一个对象属性且在自身不存在时，就会查找另外一个对象，相当于一个对象可以使用另外一个对象的属性和方法了。</p> <h2 id="说下对-js-的了解吧"><a href="#说下对-js-的了解吧" class="header-anchor">#</a> 说下对 JS 的了解吧</h2> <ul><li><p>是基于原型的动态语言，主要独特特性有 this、原型和原型链。</p></li> <li><p>JS 严格意义上来说分为：语言标准部分（ECMAScript）+ 宿主环境部分</p></li></ul> <h3 id="语言标准部分"><a href="#语言标准部分" class="header-anchor">#</a> 语言标准部分</h3> <p>2015 年发布 ES6，引入诸多新特性使得能够编写大型项目变成可能，标准自 2015 之后以年号代号，每年一更</p> <h3 id="宿主环境部分"><a href="#宿主环境部分" class="header-anchor">#</a> 宿主环境部分</h3> <ul><li>在浏览器宿主环境包括 DOM + BOM 等</li> <li>在 Node，宿主环境包括一些文件、数据库、网络、与操作系统的交互等</li></ul> <h2 id="函数中的arguments是数组吗"><a href="#函数中的arguments是数组吗" class="header-anchor">#</a> 函数中的arguments是数组吗？</h2> <p>是类数组，是属于鸭子类型的范畴，长得像数组</p> <h3 id="类数组转数组的方法了解一下"><a href="#类数组转数组的方法了解一下" class="header-anchor">#</a> 类数组转数组的方法了解一下？</h3> <ul><li>... 运算符</li> <li>Array.from</li> <li>Array.prototype.slice.apply(arguments)</li></ul> <h2 id="用过-typescript-吗-它的作用是什么"><a href="#用过-typescript-吗-它的作用是什么" class="header-anchor">#</a> 用过 TypeScript 吗？它的作用是什么？</h2> <p>为 JS 添加类型支持，以及提供最新版的 ES 语法的支持，是的利于团队协作和排错，开发大型项目</p> <h2 id="如果一个构造函数-bind了一个对象-用这个构造函数创建出的实例会继承这个对象的属性吗-为什么"><a href="#如果一个构造函数-bind了一个对象-用这个构造函数创建出的实例会继承这个对象的属性吗-为什么" class="header-anchor">#</a> 如果一个构造函数，bind了一个对象，用这个构造函数创建出的实例会继承这个对象的属性吗？为什么？</h2> <p>不会继承，因为根据 this 绑定四大规则，new 绑定的优先级高于 bind 显示绑定，通过 new 进行构造函数调用时，会创建一个新对象，这个新对象会代替 bind 的对象绑定，作为此函数的 this，并且在此函数没有返回对象的情况下，返回这个新建的对象</p> <h2 id="知道-es6-的-class-嘛-static-关键字有了解嘛"><a href="#知道-es6-的-class-嘛-static-关键字有了解嘛" class="header-anchor">#</a> 知道 ES6 的 Class 嘛？Static 关键字有了解嘛</h2> <p>为这个类的函数对象直接添加方法，而不是加在这个函数对象的原型对象上</p> <h2 id="事件循环机制-event-loop"><a href="#事件循环机制-event-loop" class="header-anchor">#</a> 事件循环机制 （Event Loop）</h2> <p>事件循环机制从整体上告诉了我们 JavaScript 代码的执行顺序Event Loop即事件循环，是指浏览器或Node的一种<strong>解决javaScript单线程运行时不会阻塞的一种机制</strong>，也就是我们经常使用异步的原理。</p> <p>先执行宏任务队列，然后执行微任务队列，然后开始下一轮事件循环，继续先执行宏任务队列，再执行微任务队列。</p> <p>宏任务：script/setTimeout/setInterval/setImmediate/ I/O / UI Rendering</p> <p>微任务：process.nextTick()/Promise</p> <p>上诉的 setTimeout 和 setInterval 等都是任务源，真正进入任务队列的是他们分发的任务</p> <h3 id="优先级"><a href="#优先级" class="header-anchor">#</a> 优先级</h3> <ul><li>setTimeout = setInterval 一个队列</li> <li>setTimeout &gt; setImmediate</li> <li>process.nextTick &gt; Promise</li></ul> <p>总的结论就是，<strong>执行宏任务，然后执行该宏任务产生的微任务，若微任务在执行过程中产生了新的微任务，则继续执行微任务，微任务执行完毕后，再回到宏任务中进行下一轮循环</strong></p> <blockquote><p>注意：只有一个任务队列的情况下，一直会保持先进先出的原则执行，但这时候我突然有一个任务优先级很高，需要尽快能够得到执行，所以就设计了微任务队列，就有了微任务和宏任务之分</p></blockquote> <h2 id="手写扁平化"><a href="#手写扁平化" class="header-anchor">#</a> 手写扁平化</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">flatten</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
 
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">flatten</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="手写题-实现柯里化"><a href="#手写题-实现柯里化" class="header-anchor">#</a> 手写题：实现柯里化</h2> <p>预先设置一些参数</p> <p>柯里化是什么：是指这样一个函数，它接收函数 A，并且能返回一个新的函数，这个新的函数能够处理函数 A 的剩余参数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createCurry</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> argity <span class="token operator">=</span> func<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> args <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>_args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> argity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">createCurry</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> func<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="手写题-数组去重"><a href="#手写题-数组去重" class="header-anchor">#</a> 手写题：数组去重</h2> <ul><li>Array.form(new Set([1,2,2,2,2]))</li> <li>[...new Set([1,2,2,2])]</li></ul> <h2 id="dom事件流"><a href="#dom事件流" class="header-anchor">#</a> DOM事件流</h2> <p>事件流描述的是从页面中接收事件的顺序。</p> <p><strong>事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即DOM事件流</strong>。</p> <p>包括三个阶段：</p> <ol><li><strong>事件捕获阶段</strong></li> <li><strong>处于目标阶段</strong></li> <li><strong>事件冒泡阶段</strong></li></ol> <p>我们知道，在dom模型中，html是多层次的，当一个html元素上产生事件时，该事件会在dom树元素节点之间按照特定的顺序去传播。传播路径的每一个节点，都会收到这个事件，这就是dom事件流。当事件发生后，就会从内向外逐级传播，因为事件流本身没有处理事件的能力，所以，处理事件的函数并不会绑定在该事件源上。例如我们点击了一个按钮，产生了一个click事件，click事件就会开始向上传播，一直到到处理这个事件的代码中。</p> <p><code>事件捕获</code>：事件从最不精确的对象(document 对象)开始触发，然后到最精确(也可以在窗口级别捕获事件，不过必须由开发人员特别指定)。</p> <p><code>事件目标</code>：当到达目标元素之后，执行目标元素该事件相应的处理函数。如果没有绑定监听函数，那就不执行。</p> <p><code>事件冒泡</code>：事件按照从最特定的事件目标到最不特定的事件目标(document对象)的顺序触发，当一个元素接收到事件的时候会把他接收到的事件传给自己的父级，一直到window 。</p> <p>注意:</p> <ul><li>JS代码只能执行捕获或者冒泡其中的一个阶段</li> <li>onclick 和 attachEvent 只能得到冒泡阶段</li> <li>addEventListener (type, listener[, useCapture]) 第三个参数如果是true，表示在事件捕获阶段调用事件处理程序；如果是false（不写默认就是false），表示在事件<code>冒泡阶段</code>电泳事件处理程序。</li> <li>在实际开发中，我们很少使用事件捕获(低版本ie不兼容)，我们更关注事件冒泡</li> <li>有些事件是没有冒泡的，比如<code>onblur、onfocus、onmouseover、onmouseleave</code></li> <li>虽然事件冒泡有时候会带来麻烦，但是有时候又会巧妙的做某些事情，我们后面讲解</li></ul> <ol><li>**e.preventDefaule()**该方法阻止默认事件（默认行为）标准 ，比如不让链接跳转</li> <li>**e.stopPropagation()**阻止冒泡，标准</li></ol> <p>事件按DOM事件流的顺序执行事件处理程序：</p> <p>父级捕获</p> <p>子级捕获</p> <p>子级冒泡</p> <p>父级冒泡</p> <h3 id="事件委托的原理-重"><a href="#事件委托的原理-重" class="header-anchor">#</a> 事件委托的原理（重）</h3> <p>事件委托的原理：不给每个子节点单独设置事件监听器，而是设置在其父节点上，然后利用冒泡原理设置每个子节点。</p> <p><strong>例如：</strong> 给 ul 注册点击事件，然后利用事件对象的 target 来找到当前点击的 li ，然后事件冒泡到 ul 上， ul 有注册事件，就会触发事件监听器。</p> <h3 id="事件委托的作用"><a href="#事件委托的作用" class="header-anchor">#</a> 事件委托的作用</h3> <p>只操作了一次 DOM ，提高了程序的性能。</p> <h3 id="为什么要事件委托-重"><a href="#为什么要事件委托-重" class="header-anchor">#</a> 为什么要事件委托?（重）</h3> <p>在JavaScript中，添加到页面上的事件处理程序<code>数量将直接关系到页面的整体运行性能</code>，因为<code>需要不断的操作dom</code>,那么引起<code>浏览器重绘和回流</code>的可能也就越多，页面交互的事件也就变的越长，这也就是为什么要<code>减少dom操作的原因</code>。每一个事件处理函数，都是一个对象，那么多一个事件处理函数，内存中就会被多占用一部分空间。如果要用事件委托，就会将所有的操作放到js程序里面，<code>只对它的父级(如果只有一个父级)这一个对象进行操作，与dom的操作就只需要交互一次，这样就能大大的减少与dom的交互次数，提高性能</code>；</p> <h3 id="事件委托小案例"><a href="#事件委托小案例" class="header-anchor">#</a> <strong>事件委托小案例</strong></h3> <p>需求：鼠标放到li上，对应的li背景颜色变为灰色</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>222<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>333<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>444<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>普通实现</strong></p> <p>(给每个li都绑定一个事件让其变灰）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
　　　<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;background-color&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;gray&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;background-color&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面这种普通实现看似没有什么问题，但是如果在这段代码结束以后，我们动态的给ul又增加了一个li，那么新增的这个li是不带有事件的，如果有无数个li结点，我们的dom是吃不消的。</p> <p><strong>使用事件委托实现</strong></p> <p>js中事件是会冒泡的，所以<code>this是可以变化的，但event.target不会变化</code>，它永远是直接接受事件的目标DOM元素</p> <p>利用事件冒泡 只指定ul的事件处理 就可以控制ul下的所有的li的事件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;background-color&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gray&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;background-color&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;white&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><p>第一步：<code>给父元素绑定事件</code></p> <p>给元素ul添加绑定事件，绑定mouseover事件设置css（也可通过addEventListener为点击事件click添加绑定）</p></li> <li><p>第二步：<code>监听子元素的冒泡事件</code></p> <p>这里默认是冒泡，点击子元素li会向上冒泡</p></li> <li><p>第三步：<code>找到是哪个子元素的事件</code></p> <p>通过匿名回调函数的参数e用来接收事件对象，通过target获取触发事件的目标（可以通过判断target的类型来确定是哪一类的子元素对象执行事件）</p></li></ul> <h2 id="http是如何实现长连接的-什么时候会超时"><a href="#http是如何实现长连接的-什么时候会超时" class="header-anchor">#</a> http是如何实现长连接的，什么时候会超时</h2> <p>通过在头部（请求和响应头）设置 <strong>Connection: keep-alive</strong>，HTTP1.0协议支持，但是默认关闭，从HTTP1.1协议以后，连接默认都是长连接</p> <ul><li><p>HTTP头有<strong>Connection: Keep-alive</strong></p></li> <li><p>Keep-Alive: timeout=20，表示这个TCP通道可以保持20秒。另外还可能有max=XXX，表示这个长连接最多接收XXX次请求就断开。于客户端来说，如果服务器没有告诉客户端超时时间也没关系，服务端可能主动发起四次握手断开TCP连接，客户端能够知道该TCP连接已经无效；另外TCP还有心跳包来检测当前连接是否还活着，方法很多，避免浪费资源。</p></li> <li><p>不希望使用长连接，则要在HTTP请求报文首部加上Connection: close</p></li></ul> <h2 id="_301与302的区别"><a href="#_301与302的区别" class="header-anchor">#</a> 301与302的区别</h2> <h3 id="_1-缓存"><a href="#_1-缓存" class="header-anchor">#</a> 1. 缓存</h3> <p>定义上已经给出，对于301请求，浏览器是默认给一个很长的缓存。而302是不缓存的。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。</p> <h3 id="_2-搜索引擎"><a href="#_2-搜索引擎" class="header-anchor">#</a> 2. 搜索引擎</h3> <p>301: 旧地址A的资源不可访问了(永久移除), 重定向到网址B，搜索引擎会抓取网址B的内容，同时将网址保存为B网址。</p> <p>302: 旧地址A的资源仍可访问，这个重定向只是临时从旧地址A跳转到B地址，这时搜索引擎会抓取B网址内容，但是会将网址保存为A的。</p> <h4 id="_3-安全"><a href="#_3-安全" class="header-anchor">#</a> 3. 安全</h4> <p>尽量使用301跳转，以防止网址劫持！</p> <p>假如，A -&gt; B。大部分的搜索引擎在大部分情况下，当收到302 重定向时，有的时候搜索引擎，尤其是Google，并不能总是抓取目标网址。比如说，有的时候A 网址很短，但是它做了一个302 重定向到B 网址，而B 网址是一个很长的乱七八糟的URL 网址，甚至还有可能包含一些问号之类的参数。很自然的，A 网址更加用户友好，而B 网址既难看，又不用户友好。这时Google 很有可能会仍然显示网址A。由于搜索引擎排名算法只是程序而不是人，在遇到302 重定向的时候，并不能像人一样的去准确判定哪一个网址更适当，这就造成了网址URL 劫持的可能性。也就是说，一个不道德的人在他自己的网址A 做一个302 重定向到你的网址B，出于某种原因， Google 搜索结果所显示的仍然是网址A，但是所用的网页内容却是你的网址B 上的内容，这种情况就叫做网址URL 劫持。你辛辛苦苦所写的内容就这样被别人偷走了。302 重定向所造成的网址URL 劫持现象，已经存在一段时间了。不过到目前为止，似乎也没有什么更好的解决方法。在正在进行的谷歌大爸爸数据中心转换中，302 重定向问题也是要被解决的目标之一。从一些搜索结果来看，网址劫持现象有所改善，但是并没有完全解决。</p> <p>简单来说就是：有个坏人把他的电话来电转移到了一个明星那，让大家都以为他的电话是那个明星的。他的手机号成名后，就可以拉个微信群，大胆的假装明星，实现他的微shang梦，从此走上人生巅峰。</p> <h2 id="了解websocket嘛"><a href="#了解websocket嘛" class="header-anchor">#</a> 了解websocket嘛</h2> <p>HTML5开始提供的一种浏览器与服务器进行全双工通讯的网络技术，属于应用层协议。它基于TCP传输协议，并复用HTTP的握手通道。</p> <p>对大部分web开发者来说，上面这段描述有点枯燥，其实只要记住几点：</p> <ol><li>WebSocket可以在浏览器里使用</li> <li>支持双向通信</li> <li>使用很简单</li></ol> <h3 id="连接保持-心跳"><a href="#连接保持-心跳" class="header-anchor">#</a> 连接保持+心跳</h3> <p>WebSocket为了保持客户端、服务端的实时双向通信，需要确保客户端、服务端之间的TCP通道保持连接没有断开。然而，对于长时间没有数据往来的连接，如果依旧长时间保持着，可能会浪费包括的连接资源。</p> <p>但不排除有些场景，客户端、服务端虽然长时间没有数据往来，但仍需要保持连接。这个时候，可以采用心跳来实现。</p> <ul><li>发送方-&gt;接收方：ping</li> <li>接收方-&gt;发送方：pong</li></ul> <h3 id="sec-websocket-key-accept的作用"><a href="#sec-websocket-key-accept的作用" class="header-anchor">#</a> Sec-WebSocket-Key/Accept的作用</h3> <p>前面提到了，<code>Sec-WebSocket-Key/Sec-WebSocket-Accept</code>在主要作用在于提供基础的防护，减少恶意连接、意外连接。</p> <p>作用大致归纳如下：</p> <ol><li>避免服务端收到非法的websocket连接（比如http客户端不小心请求连接websocket服务，此时服务端可以直接拒绝连接）</li> <li>确保服务端理解websocket连接。因为ws握手阶段采用的是http协议，因此可能ws连接是被一个http服务器处理并返回的，此时客户端可以通过Sec-WebSocket-Key来确保服务端认识ws协议。（并非百分百保险，比如总是存在那么些无聊的http服务器，光处理Sec-WebSocket-Key，但并没有实现ws协议。。。）</li> <li>用浏览器里发起ajax请求，设置header时，Sec-WebSocket-Key以及其他相关的header是被禁止的。这样可以避免客户端发送ajax请求时，意外请求协议升级（websocket upgrade）</li> <li>可以防止反向代理（不理解ws协议）返回错误的数据。比如反向代理前后收到两次ws连接的升级请求，反向代理把第一次请求的返回给cache住，然后第二次请求到来时直接把cache住的请求给返回（无意义的返回）。</li> <li>Sec-WebSocket-Key主要目的并不是确保数据的安全性，因为Sec-WebSocket-Key、Sec-WebSocket-Accept的转换计算公式是公开的，而且非常简单，最主要的作用是预防一些常见的意外情况（非故意的）。</li></ol> <blockquote><p>强调：Sec-WebSocket-Key/Sec-WebSocket-Accept 的换算，只能带来基本的保障，但连接是否安全、数据是否安全、客户端/服务端是否合法的 ws客户端、ws服务端，其实并没有实际性的保证。</p></blockquote> <h2 id="你对-tcp-滑动窗口有了解嘛"><a href="#你对-tcp-滑动窗口有了解嘛" class="header-anchor">#</a> 你对 TCP 滑动窗口有了解嘛？</h2> <p>在 TCP 链接中，对于发送端和接收端而言，TCP 需要把发送的数据放到<strong>发送缓存区</strong>, 将接收的数据放到<strong>接收缓存区</strong>。而经常会存在发送端发送过多，而接收端无法消化的情况，所以就需要流量控制，就是在通过接收缓存区的大小，控制发送端的发送。如果对方的接收缓存区满了，就不能再继续发送了。而这种流量控制的过程就需要在发送端维护一个发送窗口，在接收端维持一个接收窗口。
TCP 滑动窗口分为两种: <strong>发送窗口</strong>和<strong>接收窗口</strong>。</p> <h2 id="tcp与udp的区别"><a href="#tcp与udp的区别" class="header-anchor">#</a> TCP与UDP的区别</h2> <ul><li>UDP：无连接（不需要三次握手）、单播、多播的功能、不可靠性（想发就发，不会关心对方是否已经正确接收数据了）、没有拥塞控制、传输效率高（优点）</li> <li>TCP：面向连接、可靠（判断是否丢包）、拥塞控制</li></ul> <h3 id="备注"><a href="#备注" class="header-anchor">#</a> 备注</h3> <ul><li>UDP适用于视频会议、电话、直播等</li> <li>TCP适用于文件传输</li></ul> <h2 id="为什么-tcp-可靠"><a href="#为什么-tcp-可靠" class="header-anchor">#</a> 为什么 TCP 可靠？</h2> <p>TCP 的可靠性体现在有状态和控制</p> <ul><li>会精准记录那些数据发送了，那些数据被对方接收了，那些没有被接收，而且保证数据包按序到达，不允许半点差错，这就是有状态</li> <li>当意识到丢包了或者网络环境不佳，TCP 会根据具体情况调整自己的行为，控制自己的发送速度或者重发，这是可控制的</li></ul> <p>反之 UDP 就是无状态的和不可控制的</p> <h2 id="dns-缓存"><a href="#dns-缓存" class="header-anchor">#</a> DNS 缓存</h2> <p>为了让我们更快的拿到想要的 IP，DNS 广泛使用了缓存技术。DNS 缓存的原理非常简单，在一个 DNS 查询的过程中，当某一台 DNS 服务器接收到一个 DNS 应答（例如，包含某主机名到 IP 地址的映射）时，它就能够将映射缓存到本地，下次查询就可以直接用缓存里的内容。当然，缓存并不是永久的，每一条映射记录都有一个对应的生存时间，一旦过了生存时间，这条记录就应该从缓存移出。</p> <p>事实上，<strong>有了缓存，大多数 DNS 查询都绕过了根 DNS 服务器</strong>，需要向根 DNS 服务器发起查询的请求很少。</p> <h2 id="什么是https"><a href="#什么是https" class="header-anchor">#</a> 什么是https</h2> <p>HTTPS 是在 HTTP 和 TCP 之间建立了一个安全层，HTTP 与 TCP 通信的时候，必须先进过一个安全层，对数据包进行加密，然后将加密后的数据包传送给 TCP，相应的 TCP 必须将数据包解密，才能传给上面的 HTTP。
浏览器传输一个 client_random 和加密方法列表，服务器收到后，传给浏览器一个 server_random、加密方法列表和数字证书（包含了公钥），然后浏览器对数字证书进行合法验证，如果验证通过，则生成一个 pre_random，然后用公钥加密传给服务器，服务器用 client_random、server_random 和 pre_random ，使用公钥加密生成 secret，然后之后的传输使用这个 secret 作为秘钥来进行数据的加解密。</p> <ul><li><p>由于 HTTP 天生明文传输的特性，在 HTTP 的传输过程中，任何人都有可能从中截获、修改或者伪造请求发送，所以可以认为 HTTP 是不安全的。</p></li> <li><p>在 HTTPS 中，使用<code>传输层安全性(TLS)</code>或<code>安全套接字层(SSL)</code>对通信协议进行加密。也就是 HTTP + SSL(TLS) = HTTPS。</p></li></ul> <p><strong>三个关键的指标</strong></p> <ul><li>加密(Encryption)</li> <li>数据一致性(Data integrity)</li> <li>身份认证(Authentication)</li></ul> <h3 id="认识-ssl-tls"><a href="#认识-ssl-tls" class="header-anchor">#</a> 认识 SSL/TLS</h3> <p><code>TLS(Transport Layer Security)</code> 是 <code>SSL(Secure Socket Layer)</code> 的后续版本，它们是用于在互联网两台计算机之间用于<code>身份验证</code>和<code>加密</code>的一种协议。</p> <p>TLS 在根本上使用<code>对称加密</code>（<strong>加密和解密时使用的密钥都是同样的密钥</strong>）和 <code>非对称加密</code> （<strong>公钥加密</strong>）两种形式。</p> <h2 id="什么是垃圾回收-gc"><a href="#什么是垃圾回收-gc" class="header-anchor">#</a> 什么是垃圾回收（GC）</h2> <p><code>垃圾回收算法</code> 中比较常见的有 <code>标记清除(Mark-Sweep)</code> 和 <code>引用计数(Reference Count)</code>，而Golang 采用 <code>标记清除法</code>。并在 <code>标记清除法</code> 上使用 <code>三色标记法</code> 和 <code>写屏障</code> 等技术大大提高工作效率。</p> <p><code>标记清除</code>收集器是 <code>跟踪式</code> 垃圾收集器，它的工作流程大致分为两个阶段：<code>标记(Mark)</code> 和 <code>清除(Sweep)</code>：</p> <ul><li>标记阶段 — 从 <code>根对象(root)</code> 开始查找并标记 <code>堆</code> 中 <code>所有存活对象</code></li> <li>清除阶段 — 回收 <code>堆中未被标记</code> 的垃圾对象 并 将 <code>回收的内存加入空闲链表</code></li></ul> <p>三色标记算法将程序中的对象分成<code>白色</code>、<code>黑色</code>、<code>灰色</code>三类。</p> <ul><li>白色：不确定对象</li> <li>灰色：存活对象，子对象待处理</li> <li>黑色：存活对象</li></ul> <h3 id="并发时三色法存在的问题"><a href="#并发时三色法存在的问题" class="header-anchor">#</a> 并发时三色法存在的问题</h3> <p>由于 <code>三色标记法</code> 多了一个 <code>白色状态</code> 来存放 <code>不确定对象</code>。 结合<code>并发执行</code>的后续标记阶段，就有可能会造成一些遗漏：比如早先被标记为<code>黑色对象</code> 可能目前已经<code>变不可达</code>。</p> <p>但 <code>并发情况下执行</code> 依然存在问题：<strong>GC 过程中对象、指针被改变</strong>。</p> <p>比如下面的例子：<code>A (黑) -&gt; B (灰) -&gt; C (白) -&gt; D (白)</code>
通常 D 对象最后加入黑色集合不被回收。</p> <p>但在并发情况下：A 获得了 D 的引用， 而C 对 D 的引用被用户删除 。
这是 GC并发运行，D 就在也没机会被标记为黑色（A 已经处理，这一轮不会再处理）</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>A (黑) -&gt; B (灰) -&gt; C (白) 
  ↓
 D (白)
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这显然是不允许的。</p> <h3 id="什么是写屏障"><a href="#什么是写屏障" class="header-anchor">#</a> 什么是写屏障</h3> <p>为了解决这个问题，Golang 的垃圾收集器使用了<code>写屏障（Write Barrier）</code>技术：</p> <blockquote><p>当对象<code>新增</code>、<code>更新</code>时，将对象着色为<code>灰色</code>。</p></blockquote> <p>写屏障主要做一件事情：修改原来写逻辑，在对象<code>新增</code>、<code>更新</code> 同时给它着色为灰色。 在并发情况下<code>写屏障</code>保证<code>三色标记法</code>的正确运行。</p> <p>如此一来：即使 GC与用户程序并发执行。对象引用发生变化，垃圾收集器也能正确处理。</p> <p>而写屏障标记成灰色的对象会在 <strong>在新的 GC 过程中所有已存对象 <code>又从白色开始</code> 逐步 按上面 <code>三色法标记过程</code> 分类处理</strong></p> <h2 id="如何解决白屏问题"><a href="#如何解决白屏问题" class="header-anchor">#</a> 如何解决白屏问题</h2> <p>网络延迟，JS加载延迟 ,会阻塞页面</p> <ul><li>预渲染（骨架屏）</li> <li>路由懒加载</li> <li>减少http请求</li> <li>图片懒加载</li> <li>在create发请求，减少loading时间</li> <li>ssr渲染</li> <li>Gzip压缩</li></ul> <h3 id="页面卡住了可能是因为什么"><a href="#页面卡住了可能是因为什么" class="header-anchor">#</a> 页面卡住了可能是因为什么</h3> <ul><li>渲染不及时，页面掉帧</li> <li>网页内存占用过高，运行卡顿</li></ul> <p><strong>长时间占用js线程 页面回流和重绘较多 资源加载阻塞</strong></p> <p><strong>内存泄漏导致内存过大</strong></p> <h2 id="pwa"><a href="#pwa" class="header-anchor">#</a> PWA</h2> <p>PWA的中文名叫做<strong>渐进式网页应用</strong>，<code>PWA</code> 可以将 <code>Web</code> 和 <code>App</code> 各自的优势融合在一起：渐进式、可响应、可离线、实现类似 <code>App</code> 的交互、即时更新、安全、可以被搜索引擎检索、可推送、可安装、可链接。<strong><code>PWA</code> 不是特指某一项技术，而是应用了多项技术的 <code>Web App</code>。其核心技术包括 <code>App Manifest</code>、<code>Service Worker</code>、<code>Web Push</code>，等等。</strong></p> <p><code>manifest.json</code> 是一个简单的JSON文件，我们在 <code>html</code> 页面如下引用他：它描述了我们的图标在主屏幕上如何显示，以及图标点击进去的启动页是什么</p> <h2 id="图层"><a href="#图层" class="header-anchor">#</a> 图层</h2> <h3 id="创建图层"><a href="#创建图层" class="header-anchor">#</a> 创建图层</h3> <ul><li>拥有具有3D变换的css属性</li> <li>拥有加速视频解码的video节点</li> <li>canvas节点</li> <li>css3动画的节点</li> <li>拥有css加速属性的元素will-change:transform</li></ul> <h3 id="重排"><a href="#重排" class="header-anchor">#</a> 重排</h3> <ul><li>增加、删除、修改DOM</li> <li>移动Dom</li> <li>修改css样式的时候</li> <li>resize窗口变化的时候</li> <li>修改网页的默认字体</li> <li>获取某些属性（width、height）</li> <li>display:none会触发，而visibility:hidden触发重绘</li></ul> <h3 id="优化"><a href="#优化" class="header-anchor">#</a> 优化</h3> <ul><li>transform来代替top和left等操作</li> <li>opacity+图层来代替visibility，即不触发重绘也不触发重排
<ul><li>opacity即触发重绘，也触发重排（GPU底层设计如此）</li></ul></li> <li>不要使用table布局，三倍渲染速度</li> <li>DOM离线后在修改
<ul><li>可以先将元素设置为display:none在对其元素进行操作</li></ul></li> <li>利用文档碎片（documentFragment），vue提升性能的方式</li> <li>动画实现过程中，启动GPU硬件加速：transform:translateZ(0)</li> <li>为动画元素新建图层，提高元素的z-index</li> <li>使用rAF编写动画</li></ul> <h2 id="阻塞"><a href="#阻塞" class="header-anchor">#</a> 阻塞</h2> <h3 id="css阻塞"><a href="#css阻塞" class="header-anchor">#</a> css阻塞</h3> <ul><li>style标签由html解析器解析，不阻塞浏览器渲染，也不阻塞DOM解析（可能闪屏）</li> <li>link引入的阻塞浏览器渲染，阻塞后面的js语句执行，不阻塞DOM解析（同步）</li></ul> <h3 id="优化-2"><a href="#优化-2" class="header-anchor">#</a> 优化</h3> <ul><li>CDN外部资源加速</li> <li>对css进行压缩</li> <li>减少http请求</li> <li>优化样式表代码</li></ul> <h3 id="js阻塞"><a href="#js阻塞" class="header-anchor">#</a> js阻塞</h3> <ul><li>阻塞DOM解析，渲染，原因：js可以给DOM设置样式</li> <li>阻塞后续js的执行（同步）</li></ul> <h3 id="备注-2"><a href="#备注-2" class="header-anchor">#</a> 备注</h3> <ul><li>css的解析和js的执行是互斥的，css解析的时候js停止执行，js执行的时候css停止解析</li> <li>无论是css阻塞，还是js阻塞，都不会阻塞浏览器加载外部资源（图片、视频、样式、脚本），都会先发送请求获取资源</li></ul> <h2 id="实现bigint类型-大数相加"><a href="#实现bigint类型-大数相加" class="header-anchor">#</a> 实现bigInt类型（大数相加）</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 实现bigInt类型</span>
<span class="token keyword">class</span> <span class="token class-name">BigInts</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token string">''</span> <span class="token operator">+</span> number
    <span class="token punctuation">}</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">addNumber</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> digist <span class="token operator">=</span> addNumber<span class="token punctuation">.</span>number <span class="token operator">+</span> <span class="token string">''</span>
        <span class="token keyword">let</span> carry <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> digist<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span>length <span class="token operator">:</span> digist<span class="token punctuation">.</span>length
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span>length<span class="token operator">&gt;</span>digist<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
            digist <span class="token operator">=</span> digist<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>digist<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>digist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token operator">%</span><span class="token number">10</span> <span class="token operator">+</span> carry
            carry <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>sum<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInts</span><span class="token punctuation">(</span><span class="token string">'234'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInts</span><span class="token punctuation">(</span><span class="token string">'12345678901234567890121111'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><strong>实现一个方法，输入是数据类型未知的value，有值返回true，无值返回false</strong></p> <p>eg：{} 为false</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token operator">||</span>value<span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">0</span><span class="token operator">||</span>value<span class="token operator">===</span><span class="token keyword">null</span><span class="token operator">||</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="websocket与ajax的区别"><a href="#websocket与ajax的区别" class="header-anchor">#</a> WebSocket与Ajax的区别</h2> <p>本质不同
Ajax 即异步 JavaScript 和 XML，是一种创建交互式网页的应用的网页开发技术
websocket 是 HTML5 的一种新协议，实现了浏览器和服务器的实时通信
生命周期不同：</p> <ul><li>websocket 是长连接，会话一直保持</li> <li>ajax 发送接收之后就会断开</li></ul> <p>适用范围：</p> <ul><li>websocket 用于前后端实时交互数据</li> <li>ajax 非实时</li></ul> <p>发起人：</p> <ul><li>AJAX 客户端发起</li> <li>WebSocket 服务器端和客户端相互推送</li></ul> <p>了解 WebSocket 嘛？
长轮询和短轮询，WebSocket 是长轮询。
具体比如在一个电商场景，商品的库存可能会变化，所以需要及时反映给用户，所以客户端会不停的发请求，然后服务器端会不停的去查变化，不管变不变，都返回，这个是短轮询。
而长轮询则表现为如果没有变，就不返回，而是等待变或者超时（一般是十几秒）才返回，如果没有返回，客户端也不需要一直发请求，所以减少了双方的压力。</p> <h2 id="head请求方式"><a href="#head请求方式" class="header-anchor">#</a> HEAD请求方式</h2> <p>类似于get请求，只不过返回的响应中没有具体的内容</p> <h2 id="fetch发送2次请求的原因"><a href="#fetch发送2次请求的原因" class="header-anchor">#</a> fetch发送2次请求的原因</h2> <p>fetch 发送post 请求的时候，总是发送2 次，第一次状态码是204，第二次才成功？原因很简单，因为你用fetch 的post 请求的时候，导致fetch 第一次发送了一个Options请求，询问服务器是否支持修改的请求头，如果服务器支持，则在第二次中发送真正的请求。</p> <h2 id="cookie如何防范xss攻击"><a href="#cookie如何防范xss攻击" class="header-anchor">#</a> Cookie如何防范XSS攻击</h2> <p>XSS（跨站脚本攻击）是指攻击者在返回的HTML 中嵌入javascript 脚本，为了减轻这些 攻击，需要在HTTP 头部配上，<code>set-cookie：</code> <code>httponly-</code>这个属性可以防止XSS,它会禁止javascript 脚本来访问cookie。 <code>secure -</code> 这个属性告诉浏览器仅在请求为https 的时候发送cookie。 结果应该是这样的：<code>Set-Cookie=&lt;cookie-value&gt;.....</code></p> <h2 id="设置一个元素的背景颜色-背景颜色会填充哪些区域"><a href="#设置一个元素的背景颜色-背景颜色会填充哪些区域" class="header-anchor">#</a> 设置一个元素的背景颜色，背景颜色会填充哪些区域</h2> <p>background-color 设置的背景颜色会填充元素的content、padding、border 区域。</p> <h2 id="字节码缓存"><a href="#字节码缓存" class="header-anchor">#</a> 字节码缓存</h2> <p><strong><code>字节码缓存（Bytecode Cache）</code>，是浏览器性能优化机制中重要的一项，通过缓存 解析（pasing）+编译（compilation）的结果，减少网站的启动时间</strong>；当前市面上主流的浏览器都实现了字节码缓存功能；</p> <h2 id="跨页面通信"><a href="#跨页面通信" class="header-anchor">#</a> 跨页面通信</h2> <p>监听storage（本地存储）的变化</p> <ul><li>key：修改或删除的key值，如果调用clear()，为null</li> <li>newVlue：新设置的值</li> <li>oldValue：调用改变钱的value值</li> <li>触发该脚本变的文档url</li> <li>storageArea：当前的storage对象</li></ul> <p><strong>使用方法：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'storage'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//此处写具体业务逻辑</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="localstorage数据存储为有效期"><a href="#localstorage数据存储为有效期" class="header-anchor">#</a> localStorage数据存储为有效期</h2> <p><strong>方法一：定时器法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Storage</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token function">setItem</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
person<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span><span class="token string">'小明'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>方法二：时间戳法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Storage</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          
    <span class="token punctuation">}</span>
    <span class="token comment">// 设置存储</span>
    <span class="token comment">// key:需要存储的数据</span>
    <span class="token comment">// value:需要存储的数据</span>
    <span class="token comment">// expres：过期时间，毫秒单位</span>
    <span class="token function">setItem</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value<span class="token punctuation">,</span>expires</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> value<span class="token punctuation">,</span>
            <span class="token literal-property property">expires</span><span class="token operator">:</span> expires<span class="token punctuation">,</span><span class="token comment">//有效时间</span>
            <span class="token literal-property property">startTime</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//记录存储数据的时间，转换为毫秒值存下来</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 判断是否设置了有效时间</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>expires<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果设置了时间，把obj转换数据类型转换为字符串对象存起来</span>
            localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 如果没有设置有效时间，直接把value值存进去</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取存储数据</span>
    <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 先定义一个变量临时存放提取的值</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">// 判断有没有设置expires属性</span>
        <span class="token comment">// 如果有，就需要判断是否到期了</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>expires<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">-</span> temp<span class="token punctuation">.</span>startTime <span class="token operator">&gt;</span> temp<span class="token punctuation">.</span>expires<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 此时说明数据已过期,清除掉</span>
                localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
                <span class="token comment">// 直接return</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// 如果没有过期就输出</span>
                <span class="token keyword">return</span> temp<span class="token punctuation">.</span>value
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 如果没有设置，直接输出</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
           <span class="token keyword">return</span> temp 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h2 id="_0-2-0-1-0-1为true-0-8-0-6-0-2为fale"><a href="#_0-2-0-1-0-1为true-0-8-0-6-0-2为fale" class="header-anchor">#</a> 0.2-0.1==0.1为true，0.8-0.6==0.2为fale</h2> <p>二进制只能精准表达2除尽的数字1/2, 1/4, 1/8</p> <h2 id="clear的作用"><a href="#clear的作用" class="header-anchor">#</a> clear的作用</h2> <p>指明该元素周围不可出现浮动元素</p> <h2 id="_1-2-3-map-parseint-1-nan-nan"><a href="#_1-2-3-map-parseint-1-nan-nan" class="header-anchor">#</a> [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;].map(parseInt)=&gt;[1,NaN,NaN]</h2> <p>[&quot;1&quot;,&quot;2&quot;,&quot;2&quot;,&quot;2&quot;,&quot;2&quot;,&quot;2&quot;].map(parseInt) =&gt; [1, NaN, NaN, 2, 2, 2]</p> <h2 id="border-none与0的区别"><a href="#border-none与0的区别" class="header-anchor">#</a> border:none与0的区别</h2> <ul><li><p>border:0表示边框宽度为0</p></li> <li><p>当定义border:none时，表示无边框样式，浏览器并不会对边框进行渲染，也就没有实际的宽度；</p></li> <li><p>定义边框时，除了设置宽度外，还必须设置边框的样式才能显示出来。</p></li></ul> <h2 id="白屏时间first-paint-和可交互时间dom-ready的关系是"><a href="#白屏时间first-paint-和可交互时间dom-ready的关系是" class="header-anchor">#</a> 白屏时间first paint 和可交互时间dom ready的关系是？</h2> <p>先触发first paint，后触发dom ready</p> <ol><li><p>这里的dom ready指的是dom元素都已经被解析。只有dom树渲染完毕后，才会有元素，不然就会一片空白，而影响dom ready的因素也有很多，才会有那么多的性能化策略。</p></li> <li><p>另一方面，在解析script时，dom加载会被阻塞。假如在dom加载之前出现alert提示框，在关闭提示框之前，页面都是一片空白。</p></li></ol> <h2 id="浏览器的多线程"><a href="#浏览器的多线程" class="header-anchor">#</a> 浏览器的多线程</h2> <ul><li>GUI渲染线程</li> <li>JavaScript引擎线程</li> <li>事件触发线程</li> <li>定时器触发器线程</li> <li>异步http请求线程</li></ul> <h2 id="weakmap-weakset"><a href="#weakmap-weakset" class="header-anchor">#</a> WeakMap WeakSet</h2> <ul><li>WeakMap只接受对象作为键名</li> <li>WeakSet的成员只能是对象（不可重复值）</li> <li>不计入垃圾回收机制</li> <li>都没有遍历操作，没有size属性、clear方法</li></ul> <h2 id="隐士转换"><a href="#隐士转换" class="header-anchor">#</a> 隐士转换</h2> <ul><li>基本数据类型：String=&gt;Number,Boolean=&gt;Number</li> <li>复杂数据类型：先调用valueOf()方法获取原始值，然后调用toString转为字符串</li> <li>布尔值类型为false情况：0、-0、NaN、undefined、null、&quot;&quot;、false、document.all() //可以判断浏览器是否是IE</li> <li>引用类型值在做数学运算的时候，会先调用valueOf，比较不了再调用toString()，无数学运算先调用toString()，如console.log(<code>${obj}</code>)为toString的值，并且类型为String</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">valueOf</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">toString</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token number">2</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//22</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//关系运算符：将其他数据类型转换为数字</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// true  隐士转换为空字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// true !运算符大于关系运算符不存在转换</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//true 隐士转换</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//false 存储的是地址</span>

<span class="token comment">//console.log({}.valueOf().toString()) [object Object]</span>
<span class="token comment">//console.log([].valueOf().toString()) 空字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">==</span><span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//false </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">==</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//false 存储的是地址</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="jsonp"><a href="#jsonp" class="header-anchor">#</a> JSONP</h2> <p><strong>通过一些标签发出的请求则不会被进行同源检查，比如script标签，img标签等等，本文讲述JSONP便是通过script标签做的请求。</strong></p> <h3 id="流程"><a href="#流程" class="header-anchor">#</a> 流程：</h3> <ol><li><p>在发请求先，准备一个全局的接收函数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">myCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>			<span class="token comment">//声明一个全局函数 'callback'，用于接收响应数据</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>在html创建script标签，发出请求</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
	<span class="token operator">...</span><span class="token punctuation">.</span>
	<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>		
		window<span class="token punctuation">.</span><span class="token function-variable function">myCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>			<span class="token comment">//这里为上一步定义的全局函数</span>
    		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script url<span class="token operator">=</span><span class="token string">&quot;xxx?callback=myCallback&quot;</span><span class="token operator">&gt;</span>
    			<span class="token comment">//script标签的请求必须在写在定义全局函数之后</span>
    			<span class="token comment">//这里需将全局函数的函数名作为参数callback的value传递</span>
    			<span class="token comment">//这里callback这个键名是前后端约定好的</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> 
	<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li><p>服务端接收到请求，将如下数据相应回</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">myCallback</span><span class="token punctuation">(</span><span class="token punctuation">{</span>			<span class="token comment">//一个函数的调用，将数据作为参数传递进去，再将整个函数的调用返回给客户端</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'ahreal'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>客户端接收到服务端的相应，相当于：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
	<span class="token operator">...</span><span class="token punctuation">.</span>
	<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>		
		window<span class="token punctuation">.</span><span class="token function-variable function">myCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>			<span class="token comment">//这里为上一步定义的全局函数</span>
    		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>							<span class="token comment">//将接收到的数据作为script标签里面的内容展开执行</span>
        <span class="token function">myCallback</span><span class="token punctuation">(</span><span class="token punctuation">{</span>					
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'ahreal'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>   			
	<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> 
	<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>控制台输出</p></li></ol> <h3 id="jsonp和ajax请求的异同"><a href="#jsonp和ajax请求的异同" class="header-anchor">#</a> JSONP和AJAX请求的异同</h3> <h4 id="相同点"><a href="#相同点" class="header-anchor">#</a> 相同点：</h4> <ul><li>使用的目的一致，都是客户端向服务端请求数据，将数据拿回客户端进行处理。</li></ul> <h4 id="不同点"><a href="#不同点" class="header-anchor">#</a> 不同点：</h4> <ul><li>ajax请求是一种官方推出的请求方式，通过xhr对象去实现，jsonp是民间发明，script标签实现的请求。</li> <li>ajax是一个异步请求，jsonp是一个同步请求</li> <li>ajax存在同源检查，jsonp不存在同源检查，后端无需做解决跨域的响应头。</li> <li>ajax支持各种请求的方式，而jsonp只支持get请求</li> <li>ajax的使用更加简便，而jsonp的使用较为麻烦。</li></ul> <h2 id="ric"><a href="#ric" class="header-anchor">#</a> RIC</h2> <ul><li>处理用户的交互</li> <li>JS 解析执行</li> <li>帧开始。窗口尺寸变更，页面滚去等的处理</li> <li>requestAnimationFrame(rAF)</li> <li>布局</li> <li>绘制</li></ul> <h3 id="requestidlecallback"><a href="#requestidlecallback" class="header-anchor">#</a> requestIdleCallback</h3> <p>上面六个步骤完成后没超过 16 ms，说明时间有富余，此时就会执行 <code>requestIdleCallback</code> 里注册的任务。</p> <p><strong>requestIdleCallback：</strong>: 会在浏览器空闲时间执行回调，也就是允许开发人员在主事件循环中执行低优先级任务，而不影响一些延迟关键事件。如果有多个回调，会按照先进先出原则执行，但是当传入了 timeout，为了避免超时，有可能会打乱这个顺序。</p> <h2 id="es5-es6-的继承除了写法以外还有什么区别"><a href="#es5-es6-的继承除了写法以外还有什么区别" class="header-anchor">#</a> ES5/ES6 的继承除了写法以外还有什么区别？</h2> <p><strong>class和let和const一样存在暂时性死区，没有函数提升</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: Cannot access 'Dog' before initialization</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>class声明内部会启用严格模式</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
    age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ani <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: sex is not defined</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>必须使用new来调用class</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ani <span class="token operator">=</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: Class constructor Dog cannot be invoked without 'new'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>class的静态方法和原型方法都是不可枚举的</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Animal<span class="token punctuation">.</span><span class="token function-variable function">static_run</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal static run'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal say'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal eat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> ani <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">static_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dog static run'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dog say'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dog eat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Animal 静态方法:'</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// Animal 静态方法: [&quot;static_run&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Animal 原型方法:'</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Animal 原型方法: (2) [&quot;say&quot;, &quot;eat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Dog 静态方法:'</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// Dog 静态方法: []</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Dog 原型方法:'</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Dog 原型方法: []</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><strong>class的静态方法和原型方法都没有prototype,不能使用new来调用</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Animal<span class="token punctuation">.</span><span class="token function-variable function">static_run</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal static run'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal say'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal eat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> ani <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">static_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dog static run'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dog say'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dog eat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Animal 静态方法static_run属性:'</span><span class="token punctuation">,</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>static_run<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Animal 原型方法say属性:'</span><span class="token punctuation">,</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>say<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Dog 静态方法static_run属性:'</span><span class="token punctuation">,</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span>static_run<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Dog 原型方法say属性:'</span><span class="token punctuation">,</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>say<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * Animal 静态方法static_run属性: (5) [&quot;length&quot;, &quot;name&quot;, &quot;arguments&quot;, &quot;caller&quot;, &quot;prototype&quot;]
 * index.html:81 Animal 原型方法say属性: (5) [&quot;length&quot;, &quot;name&quot;, &quot;arguments&quot;, &quot;caller&quot;, &quot;prototype&quot;]
 * index.html:82 Dog 静态方法static_run属性: (2) [&quot;length&quot;, &quot;name&quot;]
 * index.html:83 Dog 原型方法say属性: (2) [&quot;length&quot;, &quot;name&quot;]
 */</span>
<span class="token comment">// const obj_a_static_run = new Animal.static_run(); // animal static run</span>
<span class="token comment">// const obj_a_say = new Animal.prototype.say(); // animal say</span>
<span class="token comment">// const obj_static_run = new Dog.static_run(); // Uncaught TypeError: Dog.static_run is not a constructor</span>
<span class="token keyword">const</span> obj_say <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: Dog.prototype.say is not a constructor</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p><strong>class 子类的proto等于父类，es5中子类的proto为Function.prototype</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Chinese</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">People</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Chinese</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Chinese</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Chinese<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'le'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Chinese<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> People<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Chinese<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Animal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>ES5继承是先新建子类的实例对象this，再将父类的属性添加到子类上,ES6是先新建父类的实例对象this，然后再用子类的构造函数修饰this，使得父类的所有行为都可以继承</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">ES5Array</span><span class="token punctuation">(</span><span class="token parameter">len</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Array</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里没有生效,无法进入Array的构造函数</span>
<span class="token punctuation">}</span>
<span class="token class-name">ES5Array</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ES5Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> ES5Array<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ES6Array</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">len</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 或者 class ES6Array extends Array{}</span>
<span class="token keyword">const</span> arr5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ES5Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ES6Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr5<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr6<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="aop"><a href="#aop" class="header-anchor">#</a> AOP</h2> <ul><li><strong>侧面(也就是切面) 用来描述分散在对象、类或函数中的横切关注点</strong>。
重点在这，分散在对象中的横切关注点，可以猜一下是什么，应该就是不同对象之间公用的部分</li> <li><strong>简而言之，AOP是针对业务处理过程中的切面(即非业务逻辑部分，例如错误处理，埋点，日志等)进行提取.</strong></li></ul> <h2 id="不同域名之间共享localstorage-sessionstorage"><a href="#不同域名之间共享localstorage-sessionstorage" class="header-anchor">#</a> 不同域名之间共享localStorage/sessionStorage</h2> <h3 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h3> <p>两个不同的域名的localStorage不能直接互相访问。那么如何在<code>aaa.com</code>中如何调用<code>bbb.com</code>的localStorage?</p> <h3 id="实现原理"><a href="#实现原理" class="header-anchor">#</a> 实现原理</h3> <p>1.在<code>aaa.com</code>的页面中，在页面中嵌入一个src为<code>bbb.com</code>的<code>iframe</code>，此时这个<code>iframe</code>里可以调用<code>bbb.com</code>的localStorage。
2.用<code>postMessage</code>方法实现页面与<code>iframe</code>之间的通信。
综合1、2便可以实现<code>aaa.com</code>中调用<code>bbb.com</code>的localStorage。</p> <h3 id="优化iframe"><a href="#优化iframe" class="header-anchor">#</a> 优化iframe</h3> <p>我们可以在<code>bbb.com</code>中写一个专门负责共享localStorage的页面，例如叫做<code>page1.html</code>，这样可以防止无用的资源加载到<code>iframe</code>中。</p> <h3 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h3> <p>以在<code>aaa.com</code>中读取<code>bbb.com</code>中的localStorage的<code>item1</code>为例，写同理：
<code>bbb.com</code>中<code>page1.html</code>，监听<code>aaa.com</code>通过<code>postMessage</code>传来的信息，读取localStorage，然后再使用<code>postMessage</code>方法传给<code>aaa.com</code>的接收者。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en-US&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>  
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">===</span> <span class="token string">'https://aaa.com'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token punctuation">{</span> key <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
          <span class="token keyword">const</span> value <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
          event<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">wallets</span><span class="token operator">:</span> wallets<span class="token punctuation">}</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  This page is <span class="token keyword">for</span> sharing localstorage<span class="token punctuation">.</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>在<code>aaa.com</code>的页面中加入一个src为<code>bbb.com/page1.html</code>隐藏的<code>iframe</code>。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bbb-iframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://bbb.com/page1.html<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在<code>aaa.com</code>的页面中加入下面script标签。在页面加载完毕时通过<code>postMessage</code>告诉<code>iframe</code>中监听者，读取<code>item1</code>。监听<code>bbb.com</code>传回的<code>item1</code>的值并输出。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>  
  window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">const</span> bbbIframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'bbb-iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      bbbIframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'item1'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'https://bbb.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">===</span> <span class="token string">'https://bbb.com'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="伪类与伪元素的区别"><a href="#伪类与伪元素的区别" class="header-anchor">#</a> 伪类与伪元素的区别</h2> <ul><li>伪类用于当已有元素处于的某个状态时，为其添加对应的样式，这个状态是根据用户行为而动态变化的。比如说，当用户悬停在指定的元素时，我们可以通过:hover 来描述这个元素的状态。虽然它和普通的 css 类相似，可以为已有的元素添加样式，但是它只有处于 dom 树无法描述的状态下才能为元素添加样式，所以将其称为伪类。</li> <li>伪元素用于创建一些不在文档树中的元素，并为其添加样式。比如说，我们可以通过:before 来在一个元素前增加一些文本，并为这些文本添加样式。虽然用户可以看到这些文本，但是这些文本实际上不在文档树中。</li></ul> <blockquote><p>注意：CSS3 标准要求伪元素使用双冒号的写法，但也依然支持单冒号的写法。为了向后兼容，我们建议你在目前还是使用单冒号的写法。</p> <p>实际上，伪元素使用单冒号还是双冒号很难说得清谁对谁错，你可以按照个人的喜好来选择某一种写法。</p></blockquote> <h2 id="delete关键字"><a href="#delete关键字" class="header-anchor">#</a> delete关键字</h2> <p><strong>用来删除一个对象的属性</strong></p> <p><strong>删除对象不存在的属性，delete无效，但返回true</strong></p> <p>可以删除隐式全局变量，但不可已删除显示全局变量。全局变量其实是global对象(window)的属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>x <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">20</span>

<span class="token keyword">delete</span> x <span class="token comment">//true;</span>
<span class="token keyword">delete</span> y <span class="token comment">//false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>内置对象的内置属性不能被删除，用户自定义的属性可以被删除</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>obj <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token literal-property property">h</span> <span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

<span class="token keyword">delete</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
delte obj<span class="token punctuation">.</span>h<span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token keyword">delete</span> obj<span class="token punctuation">;</span> <span class="token comment">//ture ,obj 是全局变量的属性，而不是变量。</span>

<span class="token keyword">delete</span> obj1<span class="token punctuation">.</span>h<span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token keyword">delete</span> obj1<span class="token punctuation">;</span> <span class="token comment">//false 全局显示变量不能被删除</span>


<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">delete</span> z<span class="token punctuation">;</span> <span class="token comment">//false</span>
    <span class="token comment">//z是局部变量，不能被删除，delete只能删除对象的属性。</span>
<span class="token punctuation">}</span>

<span class="token keyword">delete</span> fn<span class="token punctuation">;</span> <span class="token comment">//false</span>
<span class="token comment">//fn 相当于是一个匿名变量，所以也不能被删除。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>不能删除一个对象从原型继承而来的属性，但是可以直接从原型上删掉它</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//delete只能删除自己的属性，不能删除继承来的属性</span>
<span class="token keyword">delete</span> f<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// false </span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//zhangsan</span>

<span class="token keyword">delete</span> foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>anme<span class="token punctuation">;</span> <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>delete删除数组某项元素时，被删除的元素会从该数组中删除，并且索引没有了，但数组的length并不会改变</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">73</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefiend</span>
consoel<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 1, 3, , 6, 73, 2 ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>但是这里存在一个问题</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所以如果想把数组中某一项赋值成undefined时，不应该使用delete操作符,而是直接使用下边赋值</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token comment">// 这样就可以解决上面的问题 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>在forEach 循环中删除元素，不会影响循环结果</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">53</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>val <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token keyword">delete</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ , , , 21, , , 53, 21, ,  ]</span>

<span class="token comment">//可以使用filter过滤掉空值 [ 21, 53, 21 ]</span>
arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> val<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="in关键字"><a href="#in关键字" class="header-anchor">#</a> in关键字</h2> <p>当‘对象’是数组时：“变量”指的是数组的“索引”；</p> <p>当‘对象’为对象是，“变量”指的是对象的“属性”。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b'</span> <span class="token keyword">in</span> arrs<span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token keyword">in</span> arrs<span class="token punctuation">)</span> <span class="token comment">//true</span>

<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token string">'one'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span><span class="token string">'two'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span><span class="token string">'three'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token keyword">in</span> obj1<span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b'</span> <span class="token keyword">in</span> obj1<span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="手写红绿灯"><a href="#手写红绿灯" class="header-anchor">#</a> 手写红绿灯</h2> <p>一个运用async/await实现红绿灯</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token parameter">duration</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve，duration<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token parameter">duration<span class="token punctuation">,</span>color</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'circle'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> color
  <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> <span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token string">'yellow'</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> <span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token string">'red'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="有利于seo"><a href="#有利于seo" class="header-anchor">#</a> 有利于SEO</h2> <p>搜索引擎是识别文字，而不识别图片的，“爬虫”没有办法读取 JavaScript ，同时也要少用 iframe ，因为“爬虫”一般不会去读取它里面的内容。</p> <ul><li>meta中的name属性网页优化3剑客，title、description、keywords</li> <li>logo用a链接，样式用背景图片代替</li> <li>使用语义化标签，不应该滥用b和i，用em和strong</li> <li>利用img的<code>alt</code>属性</li> <li>a链接的<code>rel=&quot;nofollow&quot;</code>忽略跟踪：因为“爬虫”分配到每个页面的权重是一定的，为了集中网页权重并将权重分给其他必要的链接</li> <li>提高加载速度：我们应尽量让结构（HTML）、表现（CSS）及行为（JavaScript）三者分离。此外，如果<code>不为 &lt;img&gt; 定义宽高</code>，那么会引起页面重新渲染，<code>同样也会影响加载速度</code>。一旦加载超时，“爬虫”就会放弃爬取。</li> <li>扁平化网站结构：一般来说，<code>一个网站的结构层次越少，越有利于“爬虫”的爬取。</code>所以目录结构一般不多于 3 级，否则“爬虫”很容易不愿意继续往下爬。就像用户在操作一个网页一样，层级大于 3 就很影响用户体验了，“爬虫”就是模仿用户的心理。</li> <li>合理安排重要内容的位置：我们应该将<code>含重要内容的 HTML 代码放在最前面</code>，<code>因为“爬虫”爬取 HTML 的顺序是从上到下</code>，有的搜索引擎对<code>抓取长度有限制</code>，所以要保证重要内容被<code>优先爬取</code>。</li></ul> <blockquote><p>注意：<code>&lt;title&gt;</code>、<code>meta description</code> 和<code>meta</code> <code>keywords</code> 三者的权重依次减小，我们要想网页有好的排名，必须合理使用这三个标签。</p></blockquote> <h2 id="href与src的区别"><a href="#href与src的区别" class="header-anchor">#</a> href与src的区别</h2> <ul><li>用来建立当前元素和文档之间的链接。常用的有：link、a</li> <li>在请求 src 资源时会将其指向的资源下载并应用到文档中，常用的有script，img 、iframe；</li></ul> <p>（1）若在文档中添加href ，浏览器会识别该文档为 CSS 文件，就会并行下载资源并且不会停止对当前文档的处理。这也是为什么建议使用 link 方式加载 CSS，而不是使用 @import 方式。</p> <p>（2）当浏览器解析到src ，会暂停其他资源的下载和处理，直到将该资源加载、编译、执行完毕，图片和框架等也如此，类似于将所指向资源应用到当前内容。这也是为什么建议把 js 脚本放在底部而不是头部的原因。</p></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Aiden124578/my_blog/edit/master/docs/03.技术/07.经典面试题/15.高阶面试题.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/12/06, 21:28:32</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/my_blog/pages/429fa2/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">进阶面试题</div></a> <a href="/my_blog/pages/7a69e8/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">查漏补缺</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/my_blog/pages/429fa2/" class="prev">进阶面试题</a></span> <span class="next"><a href="/my_blog/pages/7a69e8/">查漏补缺</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/my_blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/my_blog/pages/d9915d/"><div>
            大文件分片上传
            <!----></div></a> <span class="date">08-05</span></dt></dl><dl><dd>02</dd> <dt><a href="/my_blog/pages/8deb1d/"><div>
            Vue3实现OSS存储
            <!----></div></a> <span class="date">08-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/my_blog/pages/66e106/"><div>
            H5 TTS
            <!----></div></a> <span class="date">08-05</span></dt></dl> <dl><dd></dd> <dt><a href="/my_blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1047929038@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Aiden124578" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>Aiden Wu | <a href="https://github.com/Aiden124578/my_blog/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/my_blog/assets/js/app.2b316682.js" defer></script><script src="/my_blog/assets/js/2.f62b317f.js" defer></script><script src="/my_blog/assets/js/84.0ee37f88.js" defer></script>
  </body>
</html>
