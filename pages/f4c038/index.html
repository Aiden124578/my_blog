<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3实战难点 | Aiden&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/Aiden124578/my_blog@1.8.3/docs/.vuepress/public/img/iconfont.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="code-JnW6yLy9qt">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/my_blog/assets/css/0.styles.7c9df909.css" as="style"><link rel="preload" href="/my_blog/assets/js/app.2b316682.js" as="script"><link rel="preload" href="/my_blog/assets/js/2.f62b317f.js" as="script"><link rel="preload" href="/my_blog/assets/js/89.6b6ecc70.js" as="script"><link rel="prefetch" href="/my_blog/assets/js/10.91477b68.js"><link rel="prefetch" href="/my_blog/assets/js/100.1aa928d6.js"><link rel="prefetch" href="/my_blog/assets/js/101.a8a2090f.js"><link rel="prefetch" href="/my_blog/assets/js/102.99044dd2.js"><link rel="prefetch" href="/my_blog/assets/js/103.cb7d1bed.js"><link rel="prefetch" href="/my_blog/assets/js/104.cee6ecd2.js"><link rel="prefetch" href="/my_blog/assets/js/105.f701b9ec.js"><link rel="prefetch" href="/my_blog/assets/js/106.0f6a8554.js"><link rel="prefetch" href="/my_blog/assets/js/107.0eb11fb3.js"><link rel="prefetch" href="/my_blog/assets/js/108.4be81d6f.js"><link rel="prefetch" href="/my_blog/assets/js/109.9b426503.js"><link rel="prefetch" href="/my_blog/assets/js/11.4e8e3474.js"><link rel="prefetch" href="/my_blog/assets/js/110.22fa4235.js"><link rel="prefetch" href="/my_blog/assets/js/111.8568dd8b.js"><link rel="prefetch" href="/my_blog/assets/js/112.12bf7a27.js"><link rel="prefetch" href="/my_blog/assets/js/113.ea17c45a.js"><link rel="prefetch" href="/my_blog/assets/js/114.4c2e763f.js"><link rel="prefetch" href="/my_blog/assets/js/115.746e85ee.js"><link rel="prefetch" href="/my_blog/assets/js/116.0b54b75c.js"><link rel="prefetch" href="/my_blog/assets/js/117.cd537229.js"><link rel="prefetch" href="/my_blog/assets/js/118.7011ad16.js"><link rel="prefetch" href="/my_blog/assets/js/119.0bc7be76.js"><link rel="prefetch" href="/my_blog/assets/js/12.86f2c77c.js"><link rel="prefetch" href="/my_blog/assets/js/120.0e7a43be.js"><link rel="prefetch" href="/my_blog/assets/js/121.351abe50.js"><link rel="prefetch" href="/my_blog/assets/js/122.2a9b241f.js"><link rel="prefetch" href="/my_blog/assets/js/123.6af6bda0.js"><link rel="prefetch" href="/my_blog/assets/js/124.2322d897.js"><link rel="prefetch" href="/my_blog/assets/js/125.d1265c8d.js"><link rel="prefetch" href="/my_blog/assets/js/126.8e5335d3.js"><link rel="prefetch" href="/my_blog/assets/js/127.0b76e179.js"><link rel="prefetch" href="/my_blog/assets/js/128.a0cafb36.js"><link rel="prefetch" href="/my_blog/assets/js/129.f8a55fd8.js"><link rel="prefetch" href="/my_blog/assets/js/13.132de6f5.js"><link rel="prefetch" href="/my_blog/assets/js/130.65bc36f4.js"><link rel="prefetch" href="/my_blog/assets/js/131.1a0553c7.js"><link rel="prefetch" href="/my_blog/assets/js/132.646d25ba.js"><link rel="prefetch" href="/my_blog/assets/js/133.d0449594.js"><link rel="prefetch" href="/my_blog/assets/js/134.783e258d.js"><link rel="prefetch" href="/my_blog/assets/js/135.ea68a04f.js"><link rel="prefetch" href="/my_blog/assets/js/136.6ac90171.js"><link rel="prefetch" href="/my_blog/assets/js/137.07b988eb.js"><link rel="prefetch" href="/my_blog/assets/js/138.da999fd1.js"><link rel="prefetch" href="/my_blog/assets/js/139.ad70ed36.js"><link rel="prefetch" href="/my_blog/assets/js/14.ed7b4167.js"><link rel="prefetch" href="/my_blog/assets/js/140.b1bb39c4.js"><link rel="prefetch" href="/my_blog/assets/js/141.e6649b9d.js"><link rel="prefetch" href="/my_blog/assets/js/142.4d344215.js"><link rel="prefetch" href="/my_blog/assets/js/143.82c984f9.js"><link rel="prefetch" href="/my_blog/assets/js/144.d9627e4d.js"><link rel="prefetch" href="/my_blog/assets/js/145.dc19ee1a.js"><link rel="prefetch" href="/my_blog/assets/js/146.cd2f46fd.js"><link rel="prefetch" href="/my_blog/assets/js/147.4a7c4edf.js"><link rel="prefetch" href="/my_blog/assets/js/148.ed0aabe1.js"><link rel="prefetch" href="/my_blog/assets/js/149.a1e2b287.js"><link rel="prefetch" href="/my_blog/assets/js/15.1236807e.js"><link rel="prefetch" href="/my_blog/assets/js/150.9ec98438.js"><link rel="prefetch" href="/my_blog/assets/js/151.922ec022.js"><link rel="prefetch" href="/my_blog/assets/js/152.bbce0363.js"><link rel="prefetch" href="/my_blog/assets/js/153.8ed85f76.js"><link rel="prefetch" href="/my_blog/assets/js/154.32aad633.js"><link rel="prefetch" href="/my_blog/assets/js/155.4707b172.js"><link rel="prefetch" href="/my_blog/assets/js/156.2f4b802b.js"><link rel="prefetch" href="/my_blog/assets/js/157.59a7b40e.js"><link rel="prefetch" href="/my_blog/assets/js/158.d01f1465.js"><link rel="prefetch" href="/my_blog/assets/js/159.33dadf79.js"><link rel="prefetch" href="/my_blog/assets/js/16.b02853ec.js"><link rel="prefetch" href="/my_blog/assets/js/160.edcf99ab.js"><link rel="prefetch" href="/my_blog/assets/js/161.17fdb417.js"><link rel="prefetch" href="/my_blog/assets/js/162.9607cf30.js"><link rel="prefetch" href="/my_blog/assets/js/163.7a450240.js"><link rel="prefetch" href="/my_blog/assets/js/164.d6d1d9a8.js"><link rel="prefetch" href="/my_blog/assets/js/165.ee74b8e7.js"><link rel="prefetch" href="/my_blog/assets/js/166.75a0e2ec.js"><link rel="prefetch" href="/my_blog/assets/js/167.2fd488b1.js"><link rel="prefetch" href="/my_blog/assets/js/168.2435cb2e.js"><link rel="prefetch" href="/my_blog/assets/js/169.781a1b9d.js"><link rel="prefetch" href="/my_blog/assets/js/17.25a88a99.js"><link rel="prefetch" href="/my_blog/assets/js/170.05bc82d1.js"><link rel="prefetch" href="/my_blog/assets/js/171.7c01fc66.js"><link rel="prefetch" href="/my_blog/assets/js/172.08ed5429.js"><link rel="prefetch" href="/my_blog/assets/js/173.897e9178.js"><link rel="prefetch" href="/my_blog/assets/js/174.0520b37c.js"><link rel="prefetch" href="/my_blog/assets/js/175.de04559c.js"><link rel="prefetch" href="/my_blog/assets/js/176.98f16f1e.js"><link rel="prefetch" href="/my_blog/assets/js/177.37489dea.js"><link rel="prefetch" href="/my_blog/assets/js/178.af1019fa.js"><link rel="prefetch" href="/my_blog/assets/js/179.4d45a699.js"><link rel="prefetch" href="/my_blog/assets/js/18.936dcb4f.js"><link rel="prefetch" href="/my_blog/assets/js/180.9f53e7b7.js"><link rel="prefetch" href="/my_blog/assets/js/181.afbedf0b.js"><link rel="prefetch" href="/my_blog/assets/js/182.cc49f832.js"><link rel="prefetch" href="/my_blog/assets/js/183.f02e595a.js"><link rel="prefetch" href="/my_blog/assets/js/184.be3fcb17.js"><link rel="prefetch" href="/my_blog/assets/js/185.efb1dc1b.js"><link rel="prefetch" href="/my_blog/assets/js/186.1ef74232.js"><link rel="prefetch" href="/my_blog/assets/js/187.a3811744.js"><link rel="prefetch" href="/my_blog/assets/js/188.f2f3e85e.js"><link rel="prefetch" href="/my_blog/assets/js/189.5ab109dd.js"><link rel="prefetch" href="/my_blog/assets/js/19.03215bc7.js"><link rel="prefetch" href="/my_blog/assets/js/190.215b08da.js"><link rel="prefetch" href="/my_blog/assets/js/191.e99abccf.js"><link rel="prefetch" href="/my_blog/assets/js/192.d35f29cb.js"><link rel="prefetch" href="/my_blog/assets/js/193.a7235703.js"><link rel="prefetch" href="/my_blog/assets/js/194.6a9ad02c.js"><link rel="prefetch" href="/my_blog/assets/js/195.5e6cc055.js"><link rel="prefetch" href="/my_blog/assets/js/196.117e2c4a.js"><link rel="prefetch" href="/my_blog/assets/js/197.15ef330b.js"><link rel="prefetch" href="/my_blog/assets/js/198.850a55ff.js"><link rel="prefetch" href="/my_blog/assets/js/199.33e0246a.js"><link rel="prefetch" href="/my_blog/assets/js/20.a015b6eb.js"><link rel="prefetch" href="/my_blog/assets/js/200.646bb87e.js"><link rel="prefetch" href="/my_blog/assets/js/201.e198c2b5.js"><link rel="prefetch" href="/my_blog/assets/js/202.f8bd345f.js"><link rel="prefetch" href="/my_blog/assets/js/203.4730d03a.js"><link rel="prefetch" href="/my_blog/assets/js/204.36154b7f.js"><link rel="prefetch" href="/my_blog/assets/js/205.f3c189b2.js"><link rel="prefetch" href="/my_blog/assets/js/206.9701d004.js"><link rel="prefetch" href="/my_blog/assets/js/207.58a27838.js"><link rel="prefetch" href="/my_blog/assets/js/208.70b95eba.js"><link rel="prefetch" href="/my_blog/assets/js/209.4402ead2.js"><link rel="prefetch" href="/my_blog/assets/js/21.5dad3855.js"><link rel="prefetch" href="/my_blog/assets/js/210.2615ef76.js"><link rel="prefetch" href="/my_blog/assets/js/211.fd98901e.js"><link rel="prefetch" href="/my_blog/assets/js/212.be68f814.js"><link rel="prefetch" href="/my_blog/assets/js/213.8cd7757a.js"><link rel="prefetch" href="/my_blog/assets/js/214.6f212488.js"><link rel="prefetch" href="/my_blog/assets/js/215.b5c0f38e.js"><link rel="prefetch" href="/my_blog/assets/js/216.1a71a357.js"><link rel="prefetch" href="/my_blog/assets/js/217.cc8d30cb.js"><link rel="prefetch" href="/my_blog/assets/js/218.27f5e3db.js"><link rel="prefetch" href="/my_blog/assets/js/219.231ed249.js"><link rel="prefetch" href="/my_blog/assets/js/22.518752d6.js"><link rel="prefetch" href="/my_blog/assets/js/220.99e9fd60.js"><link rel="prefetch" href="/my_blog/assets/js/221.4fed77da.js"><link rel="prefetch" href="/my_blog/assets/js/222.6f493aff.js"><link rel="prefetch" href="/my_blog/assets/js/223.a2484693.js"><link rel="prefetch" href="/my_blog/assets/js/224.f87679c9.js"><link rel="prefetch" href="/my_blog/assets/js/225.0ebbdf69.js"><link rel="prefetch" href="/my_blog/assets/js/226.46c1e1e2.js"><link rel="prefetch" href="/my_blog/assets/js/227.965790e4.js"><link rel="prefetch" href="/my_blog/assets/js/228.05a1a504.js"><link rel="prefetch" href="/my_blog/assets/js/229.bd28b093.js"><link rel="prefetch" href="/my_blog/assets/js/23.cfb48774.js"><link rel="prefetch" href="/my_blog/assets/js/230.2c13c5e4.js"><link rel="prefetch" href="/my_blog/assets/js/231.ed0293f4.js"><link rel="prefetch" href="/my_blog/assets/js/232.0e18945d.js"><link rel="prefetch" href="/my_blog/assets/js/233.91e26768.js"><link rel="prefetch" href="/my_blog/assets/js/234.185f8950.js"><link rel="prefetch" href="/my_blog/assets/js/235.3f9eeef3.js"><link rel="prefetch" href="/my_blog/assets/js/236.659601f3.js"><link rel="prefetch" href="/my_blog/assets/js/237.63c5374f.js"><link rel="prefetch" href="/my_blog/assets/js/238.74e55c2f.js"><link rel="prefetch" href="/my_blog/assets/js/239.c1c9aced.js"><link rel="prefetch" href="/my_blog/assets/js/24.60f3ebaf.js"><link rel="prefetch" href="/my_blog/assets/js/240.3cd66de4.js"><link rel="prefetch" href="/my_blog/assets/js/241.a5e57ccb.js"><link rel="prefetch" href="/my_blog/assets/js/242.75d40824.js"><link rel="prefetch" href="/my_blog/assets/js/243.091950c2.js"><link rel="prefetch" href="/my_blog/assets/js/244.41b1bdb4.js"><link rel="prefetch" href="/my_blog/assets/js/245.702a6fc2.js"><link rel="prefetch" href="/my_blog/assets/js/246.9a347160.js"><link rel="prefetch" href="/my_blog/assets/js/247.a03705c1.js"><link rel="prefetch" href="/my_blog/assets/js/248.ff00d243.js"><link rel="prefetch" href="/my_blog/assets/js/249.69cdb86d.js"><link rel="prefetch" href="/my_blog/assets/js/25.29b5d176.js"><link rel="prefetch" href="/my_blog/assets/js/250.b1113c1d.js"><link rel="prefetch" href="/my_blog/assets/js/251.173005e7.js"><link rel="prefetch" href="/my_blog/assets/js/252.edc88d9f.js"><link rel="prefetch" href="/my_blog/assets/js/253.d7a08cef.js"><link rel="prefetch" href="/my_blog/assets/js/254.90362179.js"><link rel="prefetch" href="/my_blog/assets/js/255.ffaa0a8e.js"><link rel="prefetch" href="/my_blog/assets/js/256.b21aa51e.js"><link rel="prefetch" href="/my_blog/assets/js/257.38aae386.js"><link rel="prefetch" href="/my_blog/assets/js/258.77a30d51.js"><link rel="prefetch" href="/my_blog/assets/js/259.52cf6fd4.js"><link rel="prefetch" href="/my_blog/assets/js/26.de890bc6.js"><link rel="prefetch" href="/my_blog/assets/js/260.88ad0fb6.js"><link rel="prefetch" href="/my_blog/assets/js/261.6b4e2037.js"><link rel="prefetch" href="/my_blog/assets/js/262.526b706b.js"><link rel="prefetch" href="/my_blog/assets/js/263.6a4bf272.js"><link rel="prefetch" href="/my_blog/assets/js/264.111880a9.js"><link rel="prefetch" href="/my_blog/assets/js/265.66222dde.js"><link rel="prefetch" href="/my_blog/assets/js/266.e21c42f6.js"><link rel="prefetch" href="/my_blog/assets/js/267.7c3e4d30.js"><link rel="prefetch" href="/my_blog/assets/js/268.b063f4a2.js"><link rel="prefetch" href="/my_blog/assets/js/269.a41f4800.js"><link rel="prefetch" href="/my_blog/assets/js/27.714a5320.js"><link rel="prefetch" href="/my_blog/assets/js/28.2095b30e.js"><link rel="prefetch" href="/my_blog/assets/js/29.f81e0376.js"><link rel="prefetch" href="/my_blog/assets/js/3.8cd35247.js"><link rel="prefetch" href="/my_blog/assets/js/30.595d2dfa.js"><link rel="prefetch" href="/my_blog/assets/js/31.4c86fae3.js"><link rel="prefetch" href="/my_blog/assets/js/32.437b191d.js"><link rel="prefetch" href="/my_blog/assets/js/33.f948b446.js"><link rel="prefetch" href="/my_blog/assets/js/34.849abbac.js"><link rel="prefetch" href="/my_blog/assets/js/35.cef097e8.js"><link rel="prefetch" href="/my_blog/assets/js/36.276098dc.js"><link rel="prefetch" href="/my_blog/assets/js/37.ea8b8188.js"><link rel="prefetch" href="/my_blog/assets/js/38.ac79553e.js"><link rel="prefetch" href="/my_blog/assets/js/39.b36bd5a8.js"><link rel="prefetch" href="/my_blog/assets/js/4.0c1d4c03.js"><link rel="prefetch" href="/my_blog/assets/js/40.07d3b135.js"><link rel="prefetch" href="/my_blog/assets/js/41.2058ddef.js"><link rel="prefetch" href="/my_blog/assets/js/42.1cd3826a.js"><link rel="prefetch" href="/my_blog/assets/js/43.8d472c10.js"><link rel="prefetch" href="/my_blog/assets/js/44.710e5aff.js"><link rel="prefetch" href="/my_blog/assets/js/45.dd487eae.js"><link rel="prefetch" href="/my_blog/assets/js/46.2bf3ceff.js"><link rel="prefetch" href="/my_blog/assets/js/47.aaaa13b7.js"><link rel="prefetch" href="/my_blog/assets/js/48.1308ba74.js"><link rel="prefetch" href="/my_blog/assets/js/49.f0015fe5.js"><link rel="prefetch" href="/my_blog/assets/js/5.a4604477.js"><link rel="prefetch" href="/my_blog/assets/js/50.49fbd3fb.js"><link rel="prefetch" href="/my_blog/assets/js/51.91a655aa.js"><link rel="prefetch" href="/my_blog/assets/js/52.1f5aa004.js"><link rel="prefetch" href="/my_blog/assets/js/53.076ddceb.js"><link rel="prefetch" href="/my_blog/assets/js/54.ff01be55.js"><link rel="prefetch" href="/my_blog/assets/js/55.8a05b66b.js"><link rel="prefetch" href="/my_blog/assets/js/56.5c666260.js"><link rel="prefetch" href="/my_blog/assets/js/57.d19875f3.js"><link rel="prefetch" href="/my_blog/assets/js/58.79f303c8.js"><link rel="prefetch" href="/my_blog/assets/js/59.17a7e819.js"><link rel="prefetch" href="/my_blog/assets/js/6.702bf14a.js"><link rel="prefetch" href="/my_blog/assets/js/60.bf8f4096.js"><link rel="prefetch" href="/my_blog/assets/js/61.7c1d270c.js"><link rel="prefetch" href="/my_blog/assets/js/62.ebb2d647.js"><link rel="prefetch" href="/my_blog/assets/js/63.b9037487.js"><link rel="prefetch" href="/my_blog/assets/js/64.71856e25.js"><link rel="prefetch" href="/my_blog/assets/js/65.054e8360.js"><link rel="prefetch" href="/my_blog/assets/js/66.f87df7ed.js"><link rel="prefetch" href="/my_blog/assets/js/67.e54781d0.js"><link rel="prefetch" href="/my_blog/assets/js/68.459e77c3.js"><link rel="prefetch" href="/my_blog/assets/js/69.e909afa2.js"><link rel="prefetch" href="/my_blog/assets/js/7.121aaba6.js"><link rel="prefetch" href="/my_blog/assets/js/70.cf767b82.js"><link rel="prefetch" href="/my_blog/assets/js/71.5d687496.js"><link rel="prefetch" href="/my_blog/assets/js/72.334dd6be.js"><link rel="prefetch" href="/my_blog/assets/js/73.f30f2ca2.js"><link rel="prefetch" href="/my_blog/assets/js/74.c46ea4ff.js"><link rel="prefetch" href="/my_blog/assets/js/75.b8839bdb.js"><link rel="prefetch" href="/my_blog/assets/js/76.e6f464fe.js"><link rel="prefetch" href="/my_blog/assets/js/77.e506a508.js"><link rel="prefetch" href="/my_blog/assets/js/78.d7478c6b.js"><link rel="prefetch" href="/my_blog/assets/js/79.a7b8dd15.js"><link rel="prefetch" href="/my_blog/assets/js/8.2c6b16fc.js"><link rel="prefetch" href="/my_blog/assets/js/80.96f36ca5.js"><link rel="prefetch" href="/my_blog/assets/js/81.d42075ae.js"><link rel="prefetch" href="/my_blog/assets/js/82.a08fb156.js"><link rel="prefetch" href="/my_blog/assets/js/83.c45bc7de.js"><link rel="prefetch" href="/my_blog/assets/js/84.0ee37f88.js"><link rel="prefetch" href="/my_blog/assets/js/85.b1f39b5e.js"><link rel="prefetch" href="/my_blog/assets/js/86.ea374b89.js"><link rel="prefetch" href="/my_blog/assets/js/87.13e634dd.js"><link rel="prefetch" href="/my_blog/assets/js/88.be040338.js"><link rel="prefetch" href="/my_blog/assets/js/9.30b9fac3.js"><link rel="prefetch" href="/my_blog/assets/js/90.12f92057.js"><link rel="prefetch" href="/my_blog/assets/js/91.f23b5ffd.js"><link rel="prefetch" href="/my_blog/assets/js/92.c8da7d07.js"><link rel="prefetch" href="/my_blog/assets/js/93.6ebcdc84.js"><link rel="prefetch" href="/my_blog/assets/js/94.e48cf467.js"><link rel="prefetch" href="/my_blog/assets/js/95.f554dd4e.js"><link rel="prefetch" href="/my_blog/assets/js/96.4ed11d68.js"><link rel="prefetch" href="/my_blog/assets/js/97.69938884.js"><link rel="prefetch" href="/my_blog/assets/js/98.e774d4da.js"><link rel="prefetch" href="/my_blog/assets/js/99.28954c3f.js">
    <link rel="stylesheet" href="/my_blog/assets/css/0.styles.7c9df909.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my_blog/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/Aiden124578/my_blog@1.8.3/docs/.vuepress/public/img/AD-logo.png" alt="Aiden's blog" class="logo"> <span class="site-name can-hide">Aiden's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my_blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/my_blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/5d463fbdb172d43b/" class="nav-link">Vue</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/note/javascript/" class="nav-link">JavaScript教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/js/" class="nav-link">JavaScript高级程序设计</a></li><li class="dropdown-subitem"><a href="/my_blog/note/es6/" class="nav-link">ES6 教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/690271/" class="nav-link">Vue3.0</a></li><li class="dropdown-subitem"><a href="/my_blog/note/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/my_blog/note/typescript-axios/" class="nav-link">TypeScript 从零实现 axios</a></li><li class="dropdown-subitem"><a href="/my_blog/note/git/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li><li class="dropdown-subitem"><a href="/my_blog/note/wx-miniprogram/" class="nav-link">小程序</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/f342ec/" class="nav-link">小程序云开发</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/echarts/" class="nav-link">Echarts</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/92a49d/" class="nav-link">微前端</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/e1dcd1/" class="nav-link">H5</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/my_blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/my_blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/pages/nodejs/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/my_blog/note/seo/baidu/" class="nav-link">搜索引擎</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2588a7/" class="nav-link">ES系列</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7d67e2/" class="nav-link">经典面试题</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7a69e8/" class="nav-link">知识点总结</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/uni-app/" class="nav-link">uni-app</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/leetcode/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/f4c038/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Vue3实战</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/fcb539/" class="nav-link">小程序chatgpt</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/12985d/" class="nav-link">小程序配网流程</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/785e56/" class="nav-link">程序WIFI配网</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/b07c41/" class="nav-link">小程序WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/628a97/" class="nav-link">H5 WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/66e106/" class="nav-link">H5 TTS</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/8deb1d/" class="nav-link">Vue3实现OSS存储</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/d9915d/" class="nav-link">大文件分片上传</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/my_blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/my_blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/my_blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/my_blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/my_blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/my_blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Aiden124578/my_blog/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://pic.imgdb.cn/item/612859a444eaada739759616.jpg"> <div class="blogger-info"><h3>Aiden Wu</h3> <span>前端界的小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/my_blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/my_blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/5d463fbdb172d43b/" class="nav-link">Vue</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my_blog/note/javascript/" class="nav-link">JavaScript教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/js/" class="nav-link">JavaScript高级程序设计</a></li><li class="dropdown-subitem"><a href="/my_blog/note/es6/" class="nav-link">ES6 教程</a></li><li class="dropdown-subitem"><a href="/my_blog/note/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/690271/" class="nav-link">Vue3.0</a></li><li class="dropdown-subitem"><a href="/my_blog/note/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/my_blog/note/typescript-axios/" class="nav-link">TypeScript 从零实现 axios</a></li><li class="dropdown-subitem"><a href="/my_blog/note/git/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li><li class="dropdown-subitem"><a href="/my_blog/note/wx-miniprogram/" class="nav-link">小程序</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/f342ec/" class="nav-link">小程序云开发</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/echarts/" class="nav-link">Echarts</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/92a49d/" class="nav-link">微前端</a></li><li class="dropdown-subitem"><a href="/my_blog/pages/e1dcd1/" class="nav-link">H5</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/my_blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/my_blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/pages/nodejs/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/my_blog/note/seo/baidu/" class="nav-link">搜索引擎</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2588a7/" class="nav-link">ES系列</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7d67e2/" class="nav-link">经典面试题</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/7a69e8/" class="nav-link">知识点总结</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/uni-app/" class="nav-link">uni-app</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/leetcode/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/f4c038/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Vue3实战</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/fcb539/" class="nav-link">小程序chatgpt</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/12985d/" class="nav-link">小程序配网流程</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/785e56/" class="nav-link">程序WIFI配网</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/b07c41/" class="nav-link">小程序WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/628a97/" class="nav-link">H5 WebSocket</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/66e106/" class="nav-link">H5 TTS</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/8deb1d/" class="nav-link">Vue3实现OSS存储</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/d9915d/" class="nav-link">大文件分片上传</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/my_blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/my_blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/my_blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/my_blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/my_blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/my_blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/my_blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/my_blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Aiden124578/my_blog/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GitHub技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>博客搭建</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>搜索引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>经典面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>知识点总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>uni-app</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue3实战</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my_blog/pages/f4c038/" aria-current="page" class="active sidebar-link">Vue3实战难点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#在线预览word" class="sidebar-link">在线预览Word</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/f4c038/#word安装" class="sidebar-link">word安装</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/f4c038/#pdf安装" class="sidebar-link">pdf安装</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/f4c038/#使用" class="sidebar-link">使用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#下载在线文档" class="sidebar-link">下载在线文档</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#预览图片水印" class="sidebar-link">预览图片水印</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#预览视频水印" class="sidebar-link">预览视频水印</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#内嵌非菜单tab" class="sidebar-link">内嵌非菜单tab</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#动态keepalive" class="sidebar-link">动态KeepAlive</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#高德地图" class="sidebar-link">高德地图</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#高德地图搜索" class="sidebar-link">高德地图搜索</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#封装外部链接组件" class="sidebar-link">封装外部链接组件</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#轮询接口" class="sidebar-link">轮询接口</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#分段渲染多数据" class="sidebar-link">分段渲染多数据</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#动态路由" class="sidebar-link">动态路由</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#上传单个图片" class="sidebar-link">上传单个图片</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#聊天功能" class="sidebar-link">聊天功能</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#按钮权限控制" class="sidebar-link">按钮权限控制</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#卫星地图" class="sidebar-link">卫星地图</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#腾讯地图" class="sidebar-link">腾讯地图</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#请求头签名" class="sidebar-link">请求头签名</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#uniapp封装请求" class="sidebar-link">uniapp封装请求</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#小程序登录流程" class="sidebar-link">小程序登录流程</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#xm-keyboard" class="sidebar-link">xm-keyboard</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#代码格式化" class="sidebar-link">代码格式化</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#antd-vue样式" class="sidebar-link">Antd vue样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/my_blog/pages/f4c038/#radio" class="sidebar-link">radio</a></li><li class="sidebar-sub-header level3"><a href="/my_blog/pages/f4c038/#滚动条" class="sidebar-link">滚动条</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#处理页面空白chunk-load-failed" class="sidebar-link">处理页面空白chunk load failed</a></li><li class="sidebar-sub-header level2"><a href="/my_blog/pages/f4c038/#页面只弹出一个接口请求报错提示" class="sidebar-link">页面只弹出一个接口请求报错提示</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序chatgpt</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序WIFI配网</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序配网流程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序WebSocket</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>H5 WebSocket</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>H5 TTS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue3实现OSS存储</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大文件分片上传</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/my_blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/my_blog/technology/#技术" data-v-06225672>技术</a></li><li data-v-06225672><a href="/my_blog/technology/#Vue3实战" data-v-06225672>Vue3实战</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Aiden124578" target="_blank" title="作者" class="beLink" data-v-06225672>wushengxin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-04-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Vue3实战难点<!----></h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="在线预览word"><a href="#在线预览word" class="header-anchor">#</a> 在线预览Word</h2> <h3 id="word安装"><a href="#word安装" class="header-anchor">#</a> word安装</h3> <ul><li><code>npm i --save docx-preview@0.1.4</code></li> <li><code>npm i --save jszip@3.10.1</code></li></ul> <h3 id="pdf安装"><a href="#pdf安装" class="header-anchor">#</a> pdf安装</h3> <ul><li><code>npm i --save pdfjs-dist@2.0.943</code></li></ul> <h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 预览报告模板 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>a<span class="token operator">-</span>modal <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;file-modal&quot;</span> v<span class="token operator">-</span>model<span class="token operator">:</span>visible<span class="token operator">=</span><span class="token string">&quot;visibleFile&quot;</span> title<span class="token operator">=</span><span class="token string">&quot;文件预览&quot;</span> <span class="token operator">:</span>width<span class="token operator">=</span><span class="token string">&quot;900&quot;</span> @ok<span class="token operator">=</span><span class="token string">&quot;visibleFile = false&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template slot<span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">&quot;visibleFile = false&quot;</span><span class="token operator">&gt;</span>确定<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;file&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>modal<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 预览文件 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>a<span class="token operator">-</span>modal <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;file-modal&quot;</span> v<span class="token operator">-</span>model<span class="token operator">:</span>visible<span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span> title<span class="token operator">=</span><span class="token string">&quot;文件预览&quot;</span> <span class="token operator">:</span>width<span class="token operator">=</span><span class="token string">&quot;900&quot;</span> @ok<span class="token operator">=</span><span class="token string">&quot;isShow = false&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template slot<span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">&quot;isShow = false&quot;</span><span class="token operator">&gt;</span>确定<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;showFile&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;fileType == 'doc'&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;fileUrl&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;fileType == 'jpg'&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileUrl&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;printDom&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;printDom&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;fileType == 'pdf'&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in state.numPages&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>canvas <span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;`pdfCanvas-${item}`&quot;</span> <span class="token operator">:</span>ref<span class="token operator">=</span><span class="token string">&quot;`pdfCanvas-${item}`&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>modal<span class="token operator">&gt;</span>

<span class="token comment">// word</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> docx <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'docx-preview'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>JSZip <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jszip'</span><span class="token punctuation">)</span>
<span class="token comment">// pdf</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> pdfjsLib <span class="token keyword">from</span> <span class="token string">'pdfjs-dist'</span>

<span class="token comment">// 预览总结报告模板</span>
<span class="token keyword">const</span> <span class="token function-variable function">showFileModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 显示Word</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'.doc'</span><span class="token punctuation">)</span> <span class="token operator">||</span> url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'.docx'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    visibleFile<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">'blob'</span><span class="token punctuation">,</span> <span class="token comment">// 设置响应文件格式</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> url
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        docx<span class="token punctuation">.</span><span class="token function">renderAsync</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> proxy<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>file<span class="token punctuation">)</span> <span class="token comment">// 渲染到页面预览</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
  <span class="token comment">// 显示PDF</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'pdf'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    showFile<span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token boolean">true</span>
    showFile<span class="token punctuation">.</span>fileUrl <span class="token operator">=</span> url
    showFile<span class="token punctuation">.</span>fileType <span class="token operator">=</span> <span class="token string">'pdf'</span>

    pdfjsLib<span class="token punctuation">.</span>GlobalWorkerOptions<span class="token punctuation">.</span>workerSrc <span class="token operator">=</span> <span class="token string">'/pdf.worker.js'</span>
    <span class="token keyword">const</span> loadingTask <span class="token operator">=</span> pdfjsLib<span class="token punctuation">.</span><span class="token function">getDocument</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>  <span class="token comment">//这里的pdfUrl即pdf的链接地址</span>
        <span class="token literal-property property">cMapUrl</span><span class="token operator">:</span> <span class="token string">'../../../../static/cmaps/'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cMapPacked</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    loadingTask<span class="token punctuation">.</span>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">pdf</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// console.log('页数', pdf.numPages)</span>
        state<span class="token punctuation">.</span>numPages <span class="token operator">=</span> pdf<span class="token punctuation">.</span>numPages
        state<span class="token punctuation">.</span>pdfCtx <span class="token operator">=</span> pdf
        <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">renderPdf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 预览滚动样式</span>
<span class="token punctuation">.</span>file<span class="token operator">-</span>modal <span class="token punctuation">{</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>ant<span class="token operator">-</span>modal <span class="token punctuation">{</span>
    <span class="token punctuation">.</span>ant<span class="token operator">-</span>modal<span class="token operator">-</span>body <span class="token punctuation">{</span>
      max<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>90vh <span class="token operator">-</span> 150px<span class="token punctuation">)</span><span class="token punctuation">;</span>
      overflow<span class="token operator">-</span>y<span class="token operator">:</span> auto<span class="token punctuation">;</span>
      <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar <span class="token punctuation">{</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> 6px<span class="token punctuation">;</span>
        <span class="token comment">/*高宽分别对应横竖滚动条的尺寸*/</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> 1px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar<span class="token operator">-</span>thumb <span class="token punctuation">{</span>
        <span class="token literal-property property">background</span><span class="token operator">:</span> #e3e3e6<span class="token punctuation">;</span>
        border<span class="token operator">-</span>radius<span class="token operator">:</span> 6px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar<span class="token operator">-</span>track <span class="token punctuation">{</span>
        <span class="token literal-property property">background</span><span class="token operator">:</span> transparent<span class="token punctuation">;</span>
        border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  canvas <span class="token punctuation">{</span>
    max<span class="token operator">-</span>width<span class="token operator">:</span> 850px <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br></div></div><h2 id="下载在线文档"><a href="#下载在线文档" class="header-anchor">#</a> 下载在线文档</h2> <ul><li>本接口以word为例，接口以流的方式返回</li> <li>需要对请求接口进行处理，对接口返回的响应头<code>content-disposition</code>进行处理</li> <li>安装<code>npm i file-saver -S</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// http.js</span>
<span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/api/request'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>encodeUrlParams<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/utils&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> url
        <span class="token punctuation">}</span> <span class="token comment">/*这里如果GET请求有参数，则携带上传入的参数，在
            URL中以？的方式放在请求链接中*/</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>page <span class="token operator">&amp;&amp;</span> Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>page<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> params<span class="token punctuation">.</span>page <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            params<span class="token punctuation">.</span>pageNo <span class="token operator">=</span> params<span class="token punctuation">.</span>page<span class="token punctuation">;</span>
            <span class="token keyword">delete</span> params<span class="token punctuation">.</span>page<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token function">encodeUrlParams</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
          config<span class="token punctuation">.</span>params <span class="token operator">=</span> params
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">post</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> url
        <span class="token punctuation">}</span><span class="token comment">/*同理也是传入用户需要发送到后台的参数，这些参数
            放在报文中，载体表达标准是JSON*/</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> config<span class="token punctuation">.</span>data <span class="token operator">=</span> params
        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">postOf</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
      <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">'blob'</span>
    <span class="token punctuation">}</span><span class="token comment">/*同理也是传入用户需要发送到后台的参数，这些参数
            放在报文中，载体表达标准是JSON*/</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> config<span class="token punctuation">.</span>data <span class="token operator">=</span> params
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">put</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'put'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> url
        <span class="token punctuation">}</span><span class="token comment">/*同理也是传入用户需要发送到后台的参数，这些参数
            放在报文中，载体表达标准是JSON*/</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> config<span class="token punctuation">.</span>data <span class="token operator">=</span> params
        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'delete'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> url
        <span class="token punctuation">}</span><span class="token comment">/*这里如果DELETE请求有参数，则携带上传入的参数，在
            URL中以？的方式放在请求链接中*/</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> config<span class="token punctuation">.</span>params <span class="token operator">=</span> params
        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">//暴露接口，允许Vue文件或其他js,ts文件使用http结构体中的方法</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> http
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// requeset.js</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ant-design-vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> removeStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/localStorage&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store/store'</span>
<span class="token comment">// 创建一个自定义的Axios对象</span>
<span class="token keyword">const</span> Axios <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span> <span class="token operator">?</span> <span class="token string">'/'</span> <span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_API_HOST</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">,</span>
    <span class="token comment">/*也可以不设置Content-Type，影响是在你发送请求时
    Vue会先发送OPTIONS包探测路由是否存在，需要后端也做设置响应OPTIONS
    方法，否则会报跨域错误；我这里用的Beego2，路由里不响应OPTIONS方法，
    所以我在这块设置Content-Type*/</span>
    <span class="token comment">// headers: {</span>
    <span class="token comment">//     'Content-Type': 'application/x-www-form-urlencoded',</span>
    <span class="token comment">// },</span>
    <span class="token comment">/*这个配置很重要，允许axios携带用户Cookie到后端，不设置这个的话
    Set-Cookie是无效的,除此之外,Chrome默认开启了SameSite检查，如果
    后端不主动设置SameSite = none,Set-Cookie是无效的。*/</span>
    <span class="token comment">// withCredentials: true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">req</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'accessToken'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'X-Access-Token'</span><span class="token punctuation">]</span> <span class="token operator">=</span> token <span class="token comment">// 让每个请求携带自定义 token 请根据实际情况自行修改</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 请求拦截处理</span>
    <span class="token comment">// console.log('这里是请求拦截器，我拦截了请求', req);</span>
    <span class="token keyword">return</span> req<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'在发送请求时发生错误，错误为'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//这里不能直接放回err,需要按照官方说明返回一个Promise</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//token是否超过有效期</span>
    <span class="token keyword">let</span> tokens <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'tokenTimes'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>tokens<span class="token operator">&amp;&amp;</span>tokens<span class="token punctuation">.</span>termOfValidity<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// console.log(&quot;得很好：&quot;,parseInt(nowTime-new Date(tokens.currentTime))/1000/60)</span>
        <span class="token comment">// console.log(&quot;得很好：&quot;,new Date(tokens.currentTime))</span>
        <span class="token keyword">let</span> timeDiff <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>nowTime<span class="token operator">-</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>tokens<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>timeDiff<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// console.log(&quot;需要刷新token了&quot;)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 获取文件名</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>res<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span>
    <span class="token comment">// 响应拦截处理</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> err <span class="token operator">=</span> error<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//按照实际的响应包进行解析，通过关键字匹配的方式</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token operator">?.</span>message <span class="token operator">===</span> <span class="token string">'Token失效，请重新登录'</span><span class="token operator">||</span>error<span class="token punctuation">.</span>response<span class="token operator">?.</span>data<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token string">'Token失效，请重新登录'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>errIndex <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'很抱歉，登录已过期，请重新登录'</span><span class="token punctuation">)</span>
            store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_ERR_INDEX'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">removeStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
            window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_API_HOST2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;'一体化平台'&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// switch (true) {</span>
    <span class="token comment">//     case err.indexOf('Network') !== -1:</span>
    <span class="token comment">//         console.log('后端服务器无响应或者URL错误', err);</span>
    <span class="token comment">//         message.error('后端服务器无响应或者URL错误');</span>
    <span class="token comment">//         break;</span>
    <span class="token comment">//     case err.indexOf('timeout') !== -1:</span>
    <span class="token comment">//         console.log('请求后端服务器超时！', err);</span>
    <span class="token comment">//         message.error('请求后端服务器超时！');</span>
    <span class="token comment">//         break;</span>
    <span class="token comment">//     default:</span>
    <span class="token comment">//         message.error(error.response.data.message||'接口请求出错！');</span>
    <span class="token comment">//         break</span>
    <span class="token comment">// }</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Network'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后端服务器无响应或者URL错误'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'后端服务器无响应或者URL错误'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'timeout'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'请求后端服务器超时！'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'请求后端服务器超时！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token operator">?.</span>data<span class="token punctuation">.</span>message<span class="token operator">||</span><span class="token string">'接口请求出错！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//暴露Axios实例化对象，允许所有文件调用Axios</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Axios<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> FileSaver <span class="token keyword">from</span> <span class="token string">'file-saver'</span>

<span class="token keyword">const</span> <span class="token function-variable function">exportDayReportFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">exportDayReport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">reportDate</span><span class="token operator">:</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>searchDate<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateFormat<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> name <span class="token operator">=</span> res<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">'无文件名'</span>
        <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;application/octet-stream&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        FileSaver<span class="token punctuation">.</span><span class="token function">saveAs</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.docx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>主要是这里的配置</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">postOf</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
      <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">'blob'</span>
    <span class="token punctuation">}</span><span class="token comment">/*同理也是传入用户需要发送到后台的参数，这些参数
            放在报文中，载体表达标准是JSON*/</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> config<span class="token punctuation">.</span>data <span class="token operator">=</span> params
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
  
 Axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//token是否超过有效期</span>
    <span class="token keyword">let</span> tokens <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'tokenTimes'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>tokens<span class="token operator">&amp;&amp;</span>tokens<span class="token punctuation">.</span>termOfValidity<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// console.log(&quot;得很好：&quot;,parseInt(nowTime-new Date(tokens.currentTime))/1000/60)</span>
        <span class="token comment">// console.log(&quot;得很好：&quot;,new Date(tokens.currentTime))</span>
        <span class="token keyword">let</span> timeDiff <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>nowTime<span class="token operator">-</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>tokens<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>timeDiff<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// console.log(&quot;需要刷新token了&quot;)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 获取文件名</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>res<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span>
    <span class="token comment">// 响应拦截处理</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 通过这个方法进行下载</span>
FileSaver<span class="token punctuation">.</span><span class="token function">saveAs</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.docx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="预览图片水印"><a href="#预览图片水印" class="header-anchor">#</a> 预览图片水印</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 预览图片水印功能 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;picVisible&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pic-Modal&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;pic-Modal&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;closePicModal&quot;</span> @mousewheel<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">&quot;handerPictu&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;pic-wrap&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>img ref<span class="token operator">=</span><span class="token string">&quot;oImg&quot;</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;picUrl&quot;</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: picWidth, height: picHeight, zIndex: -1 }&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;picCanvas&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pic-box&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>image
      <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;item.filePath&quot;</span>
      <span class="token operator">:</span>preview<span class="token operator">=</span><span class="token string">&quot;false&quot;</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pic-content&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;() =&gt; addWaterMark(true , index , item.filePath)&quot;</span> <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;@/assets/images/template/preview-default.png&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>预览<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  
  
<span class="token comment">// 现场情况图片预览水印</span>
<span class="token keyword">let</span> picVisible <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> imgCanvans <span class="token operator">=</span> <span class="token string">''</span>
<span class="token keyword">let</span> picCanvas <span class="token operator">=</span> <span class="token string">''</span>
<span class="token keyword">let</span> picIndex <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> picUrl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">addWaterMark</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value <span class="token punctuation">,</span> index<span class="token punctuation">,</span> url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  picVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
  picUrl<span class="token punctuation">.</span>value <span class="token operator">=</span> url
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> index <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    picIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> index
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>picVisible<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pic-Modal'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth <span class="token operator">+</span> <span class="token string">'px'</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pic-Modal'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> <span class="token string">'px'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'hidden'</span>

      imgCanvans <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pic-wrap'</span><span class="token punctuation">)</span>
      picCanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'picCanvas'</span><span class="token punctuation">)</span>
      picCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">600</span>
      picCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">200</span>

      picCanvas<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
      <span class="token keyword">const</span> ctx <span class="token operator">=</span> picCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'16px Microsoft JhengHei'</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgba(255, 255, 255, 0.7)'</span>
      ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.35</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">dayjs</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">       </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>realname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> picCanvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">1</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">协同调度系统</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span> picCanvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">1</span><span class="token punctuation">)</span>

      <span class="token keyword">const</span> img <span class="token operator">=</span> picCanvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/png'</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> style <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">background-image:url(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
      imgCanvans<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> style<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    imgCanvans<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 预览图片resize监听</span>
<span class="token keyword">const</span> <span class="token function-variable function">picChangeResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>picVisible<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pic-Modal'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth <span class="token operator">+</span> <span class="token string">'px'</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pic-Modal'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> <span class="token string">'px'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 预览图片放大缩小图片</span>
<span class="token keyword">let</span> picWidth <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'fit-content'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> picHeight <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'fit-content'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handerPictu</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> transforms <span class="token operator">=</span> proxy<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>oImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform
  <span class="token keyword">let</span> zoom <span class="token operator">=</span> transforms<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;scale&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token operator">+</span>transforms<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">1</span>
  zoom <span class="token operator">+=</span> e<span class="token punctuation">.</span>wheelDelta <span class="token operator">/</span> <span class="token number">1200</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>zoom <span class="token operator">&gt;</span> <span class="token number">0.1</span> <span class="token operator">&amp;&amp;</span> zoom <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>oImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;scale(&quot;</span> <span class="token operator">+</span> zoom <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">closePicModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  picVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'auto'</span>
  picWidth<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'fit-content'</span>
  picHeight<span class="token punctuation">.</span>value  <span class="token operator">=</span> <span class="token string">'fit-content'</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> picChangeResize<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> picChangeResize<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">return</span><span class="token punctuation">{</span>
  <span class="token comment">// 图片预览水印</span>
  picVisible<span class="token punctuation">,</span>
  picIndex<span class="token punctuation">,</span>
  addWaterMark<span class="token punctuation">,</span>
  closePicModal<span class="token punctuation">,</span>
  handerPictu<span class="token punctuation">,</span>
  picWidth<span class="token punctuation">,</span>
  picHeight<span class="token punctuation">,</span>
  picUrl<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// 图片水印</span>
<span class="token punctuation">.</span>pic<span class="token operator">-</span>scene<span class="token operator">-</span>box <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>ant<span class="token operator">-</span>image <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    img <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>pic<span class="token operator">-</span>box <span class="token punctuation">{</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>
 <span class="token operator">&amp;</span><span class="token operator">:</span>hover <span class="token punctuation">{</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token operator">&amp;</span><span class="token operator">:</span>hover <span class="token punctuation">.</span>pic<span class="token operator">-</span>content <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">,</span><span class="token number">127</span><span class="token punctuation">,</span><span class="token number">127</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
  img <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 26px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 26px<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>right<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>pic<span class="token operator">-</span>content <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> none<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>pic<span class="token operator">-</span>Modal <span class="token punctuation">{</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  #pic<span class="token operator">-</span>wrap <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
    <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  img <span class="token punctuation">{</span>
    min<span class="token operator">-</span>width<span class="token operator">:</span> 30px <span class="token operator">!</span>important<span class="token punctuation">;</span>
    min<span class="token operator">-</span>height<span class="token operator">:</span> 30px <span class="token operator">!</span>important<span class="token punctuation">;</span>
    max<span class="token operator">-</span>width<span class="token operator">:</span> 1240px <span class="token operator">!</span>important<span class="token punctuation">;</span>
    max<span class="token operator">-</span>height<span class="token operator">:</span> 1240px <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br></div></div><h2 id="预览视频水印"><a href="#预览视频水印" class="header-anchor">#</a> 预览视频水印</h2> <ul><li><code>npm i vue3-video-play</code> (1.3.1-beta.6)</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 预览视频水印Canvas <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;videoCanvans&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index) in globalData.eventDetailsObj.videoAttachment&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 视频预览水印 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileItem&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;globalData.sceneTypeTabKey == 0 || globalData.sceneTypeTabKey == 2 || (globalData.sceneTypeTabKey == 4 &amp;&amp; item.resourceType == 1)&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>video<span class="token operator">-</span>play
          v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;options&quot;</span> 
          <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;item.filePath&quot;</span>
          @play<span class="token operator">=</span><span class="token string">&quot;onPlay(index)&quot;</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 视频 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;ele.videoUrl&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;videoBox&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>video<span class="token operator">-</span>play
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;options&quot;</span> 
      <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;ele.videoUrl&quot;</span>
      @play<span class="token operator">=</span><span class="token string">&quot;onPlaySend(ele.videoTotal)&quot;</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> videoPlay <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue3-video-play'</span>
<span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	videoPlay<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
    
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> <span class="token comment">//播放器高度</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> <span class="token comment">//播放器高度</span>
  <span class="token comment">// color: &quot;#409eff&quot;, //主题色</span>
  <span class="token literal-property property">muted</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//静音</span>
  <span class="token literal-property property">webFullScreen</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">speedRate</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;0.75&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1.25&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1.5&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2.0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//播放倍速</span>
  <span class="token literal-property property">autoPlay</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//自动播放</span>
  <span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//循环播放</span>
  <span class="token literal-property property">mirror</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//镜像画面</span>
  <span class="token literal-property property">ligthOff</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">//关灯模式</span>
  <span class="token literal-property property">volume</span><span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token comment">//默认音量大小</span>
  <span class="token literal-property property">control</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否显示控制器</span>
  <span class="token literal-property property">controlBtns</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;audioTrack&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;speedRate&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;volume&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;setting&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;fullScreen&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//显示所有按钮,</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">//视频名称</span>
  <span class="token comment">// src: &quot;http://vjs.zencdn.net/v/oceans.mp4&quot;, //视频源</span>
  <span class="token literal-property property">poster</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">//封面</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 监听视频是否处于全屏状态并设置当前水印时间</span>
<span class="token keyword">let</span> nowDate <span class="token operator">=</span> <span class="token string">''</span>
<span class="token keyword">let</span> videoActiveIndex <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">checkIsFullScreen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> isFullScreen <span class="token operator">=</span> document<span class="token punctuation">.</span>fullscreen <span class="token operator">||</span> document<span class="token punctuation">.</span>mozFullScreen <span class="token operator">||</span> document<span class="token punctuation">.</span>webkitIsFullScreen<span class="token punctuation">;</span>
    <span class="token keyword">return</span> isFullScreen <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> isFullScreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">fullScreenChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">checkIsFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;进入全屏&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      nowDate <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>videoActiveIndex<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.d-player-control'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>videoActiveIndex<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'50px'</span><span class="token punctuation">,</span> <span class="token string">'important'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 获取所有类名为 top-title 的 p 元素</span>
      <span class="token keyword">const</span> pElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p.top-title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>pElements<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 遍历 p 元素列表，并移除类名为 top-title 的元素</span>
        pElements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pElement</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          pElement<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;退出全屏&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>videoActiveIndex<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.d-player-control'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>videoActiveIndex<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'30px'</span><span class="token punctuation">,</span> <span class="token string">'important'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 视频预览水印</span>
<span class="token keyword">const</span> <span class="token function-variable function">onPlay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nowDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      nowDate <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    imgCanvans <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'d-player-state'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    picCanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'videoCanvans'</span><span class="token punctuation">)</span>
    picCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">600</span>
    picCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">200</span>

    picCanvas<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
    <span class="token keyword">const</span> ctx <span class="token operator">=</span> picCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'16px Microsoft JhengHei'</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgba(255, 255, 255, 0.7)'</span>
    ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.35</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>nowDate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">       </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>realname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> picCanvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">1</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">协同调度系统</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span> picCanvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> img <span class="token operator">=</span> picCanvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/png'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> style <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">background-image:url(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
    imgCanvans<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> style<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 协同处置视频预览水印</span>
<span class="token keyword">let</span> videoTotal <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onPlaySend</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">videoTotal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    videoActiveIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> videoTotal
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nowDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      nowDate <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    imgCanvans <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'d-player-state'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>videoTotal<span class="token punctuation">]</span>
    picCanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'videoCanvans'</span><span class="token punctuation">)</span>
    picCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">600</span>
    picCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">200</span>

    picCanvas<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
    <span class="token keyword">const</span> ctx <span class="token operator">=</span> picCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'16px Microsoft JhengHei'</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgba(255, 255, 255, 0.7)'</span>
    ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.35</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>nowDate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">       </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>realname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> picCanvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">1</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">协同调度系统</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span> picCanvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> img <span class="token operator">=</span> picCanvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/png'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> style <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">background-image:url(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
    imgCanvans<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> style<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'fullscreenchange'</span><span class="token punctuation">,</span> fullScreenChange<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'fullscreenchange'</span><span class="token punctuation">,</span> fullScreenChange<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
    
<span class="token keyword">return</span><span class="token punctuation">{</span>
  <span class="token comment">// 视频预览水印</span>
  options<span class="token punctuation">,</span>
  onPlay<span class="token punctuation">,</span>
  onPlaySend<span class="token punctuation">,</span>
  info<span class="token punctuation">,</span>
  isLoading<span class="token punctuation">,</span>
  isAlreadyEventType<span class="token punctuation">,</span>
  eventDetailsLoadings<span class="token punctuation">,</span>
  isActivated<span class="token punctuation">,</span>
  debounce2<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br></div></div><h2 id="内嵌非菜单tab"><a href="#内嵌非菜单tab" class="header-anchor">#</a> 内嵌非菜单tab</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">'@/views/layout'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/amc/order-mgt'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/amc/order-mgt/order-list'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AmcOrderMgt'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'订单管理'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'supplier-goods-mgt'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">onBar</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// onBar控制是否显示出来</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'order-list'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AmcOrderList'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/amc/order-mgt/order-list.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'订单管理'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'order-detail'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AmcOrderDetail'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/amc/order-mgt/order-detail.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'订单详情'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">insertRoute</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AmcOrderList'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/amc/order-mgt/order-list'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'订单管理'</span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'aftersale-list-v2'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AmcAftersaleListV2'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
                <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/amc/order-mgt/aftersale-list-v2.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'售后管理'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'aftersale-detail-v2'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AmcAftersaleDetailV2'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
                <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/amc/order-mgt/aftersale-detail-v2.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'售后详情'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">insertRoute</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AmcAftersaleListV2'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/omc/order-mgt/aftersale-list-v2'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'售后管理'</span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><h2 id="动态keepalive"><a href="#动态keepalive" class="header-anchor">#</a> 动态KeepAlive</h2> <ul><li>解决keepAlive关闭tab页面再次打开依旧有缓存问题</li> <li>以include的方式动态进行缓存</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>view 
    v<span class="token operator">-</span>slot<span class="token operator">=</span><span class="token string">&quot;{ Component }&quot;</span> 
    <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;<span class="token punctuation">{</span>
        <span class="token string-property property">'right-box'</span><span class="token operator">:</span> <span class="token operator">!</span>collapseds <span class="token operator">&amp;&amp;</span> indexObj<span class="token punctuation">.</span>isSideMenuShow<span class="token punctuation">.</span>bool <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">'right-box right-box2'</span><span class="token operator">:</span> <span class="token punctuation">(</span>collapseds <span class="token operator">&amp;&amp;</span> indexObj<span class="token punctuation">.</span>isSideMenuShow<span class="token punctuation">.</span>bool <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">||</span> isReload<span class="token punctuation">,</span>
        <span class="token string-property property">'other-box3'</span><span class="token operator">:</span> routerName <span class="token operator">===</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'other-box5'</span><span class="token operator">:</span> routerName <span class="token operator">===</span> <span class="token string">'eventDetails2'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>&quot;<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive <span class="token operator">:</span>include<span class="token operator">=</span><span class="token string">&quot;$store.state.keepAlive&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>component <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">&quot;Component&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>

<span class="token comment">// store.js</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'roadOverviewNew'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token constant">SET_KEEPALIVE</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>keepAlive <span class="token operator">=</span> obj
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token constant">REMOVE_KEEPALIVE</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> index <span class="token operator">=</span> state<span class="token punctuation">.</span>keepAlive<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            index <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> state<span class="token punctuation">.</span>keepAlive<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token constant">ADD_KEEPALIVE</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>keepAlive<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// permisson.js 每次打开需要重新初始化</span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;SET_KEEPALIVE&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'roadOverviewNew'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// utils.js</span>
<span class="token comment">// 缓存菜单路由数据</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> menuObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'通知对象管理'</span><span class="token operator">:</span> <span class="token string">'tbNoticeChannelInfo'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'事件评价项目管理'</span><span class="token operator">:</span> <span class="token string">'tbEventEvaluateProject'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'事件类型管理'</span><span class="token operator">:</span> <span class="token string">'tbEventCategory'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'事件评价标签管理'</span><span class="token operator">:</span> <span class="token string">'tbEventEvaluateLabel'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'处置模型管理'</span><span class="token operator">:</span> <span class="token string">'tbDisposalModelV2'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'值班人员管理'</span><span class="token operator">:</span> <span class="token string">'operator'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'班次规则设置'</span><span class="token operator">:</span> <span class="token string">'electronicFence'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'我的消息'</span><span class="token operator">:</span> <span class="token string">'MyMessage'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'日常工作总结'</span><span class="token operator">:</span> <span class="token string">'dailyWorkReport'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'事件信息'</span><span class="token operator">:</span> <span class="token string">'eventInformation2'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'事件信息统计'</span><span class="token operator">:</span> <span class="token string">'dataStatistics'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'人工日月报表'</span><span class="token operator">:</span> <span class="token string">'DailyMonthWorkReport'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'处置节点基础信息'</span><span class="token operator">:</span> <span class="token string">'tbDisposalNodeInfo'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'评价项目'</span><span class="token operator">:</span> <span class="token string">'tbEventEvaluateProject'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'评价标签'</span><span class="token operator">:</span> <span class="token string">'tbEventEvaluateLabel'</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.vue</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> menuObj <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/utils&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getMenuTabs</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'--点击左菜单--'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
  <span class="token comment">// 添加需要缓存的菜单路由</span>
  <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">&amp;&amp;</span> menuObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">!==</span> <span class="token string">'路况总览'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>keepAlive<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>menuObj<span class="token punctuation">[</span>res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>menuObj<span class="token punctuation">[</span>res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">]</span><span class="token punctuation">)</span>
    store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD_KEEPALIVE'</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span>
    list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token comment">// GlobalHeader.vue</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> menuObj <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/utils&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">tabCloseClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 移出需要缓存的菜单路由</span>
  <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>path <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>item<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'eventDetails2'</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> menuObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">!==</span> <span class="token string">'路况总览'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>menuObj<span class="token punctuation">[</span>item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">]</span><span class="token punctuation">)</span>
    store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'REMOVE_KEEPALIVE'</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span>
    list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h2 id="高德地图"><a href="#高德地图" class="header-anchor">#</a> 高德地图</h2> <ul><li><code>npm i @amap/amap-jsapi-loader -S</code>（^1.0.1）</li> <li>打点<code>Marker</code></li> <li>点聚合<code>MarkerClusterer</code></li> <li>全局挂载<code>index.html</code>：挂载完<code>window</code>会自动暴露一个<code>AMap</code>变量，之后进行引用即可</li> <li>功能：点标记、点聚合、路段渲染、轨迹动画（无感刷新）</li></ul> <blockquote><p>注意：高德地图不要用响应式数据去存储，响应式数据会造成意想不到的bug</p></blockquote> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span>_AMapSecurityConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">securityJsCode</span><span class="token operator">:</span><span class="token string">'709c59ab035b7c6f660a8e731d709c99'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://webapi.amap.com/maps?v=1.4.5&amp;key=7420458a9eaeb41505d4e45016e3adb9&amp;plugin=AMap.PolyEditor,AMap.CircleEditor,AMap.MarkerClusterer,AMap.Geocoder<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;scrollbar-y&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;isVisualization ? 'visualization' : 'container-box pr'&quot;</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 提示 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a<span class="token operator">-</span>spin <span class="token operator">:</span>spinning<span class="token operator">=</span><span class="token string">&quot;mapObj.mapLoading&quot;</span> tip<span class="token operator">=</span><span class="token string">&quot;高速公路大脑为您加速&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;container&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pa&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>spin<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 大屏插槽 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;mainTop&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 左侧栏 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>transition name<span class="token operator">=</span><span class="token string">&quot;fade&quot;</span> mode<span class="token operator">=</span><span class="token string">&quot;in-out&quot;</span><span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-box pa&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'eventList2': collapsed }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList pa pr&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'dn': collapsed }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;event-list-close pa dn&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;event-list-close-arrow-box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;arrow-left2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;arrow-left1&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'dn': collapsed }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-title df aic&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-title-icon1&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-title-icon2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-title-text unification-title&quot;</span><span class="token operator">&gt;</span>事件列表<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList--enter&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;addEventDetail&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>事件新增<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'dn': collapsed }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-title-center&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>a<span class="token operator">-</span>input<span class="token operator">-</span>search
            <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;inputSearchValue mt_20&quot;</span>
            v<span class="token operator">-</span>model<span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;mapObj.inputSearchValue&quot;</span>
            placeholder<span class="token operator">=</span><span class="token string">&quot;请输入事件名&quot;</span>
            enter<span class="token operator">-</span>button
            @search<span class="token operator">=</span><span class="token string">&quot;inputSearchFn&quot;</span>
            @change<span class="token operator">=</span><span class="token string">&quot;inputChangeFn&quot;</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;select-box df mt_10&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 事件状态 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>事件状态：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>a<span class="token operator">-</span>select
              allowClear
              v<span class="token operator">-</span>model<span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;mapObj.eventStatus&quot;</span>
              show<span class="token operator">-</span>search
              <span class="token operator">:</span>getPopupContainer<span class="token operator">=</span><span class="token string">&quot;triggerNode =&gt; {return triggerNode.parentNode}&quot;</span>
              @change<span class="token operator">=</span><span class="token string">&quot;handleSearchSelect&quot;</span>
              dropdownClassName<span class="token operator">=</span><span class="token string">&quot;mySelect&quot;</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option
                v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(v, i) in statusOptions&quot;</span>
                <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;i + ''&quot;</span>
                <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;v.value&quot;</span>
                <span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> v<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option
              <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'dn': collapsed }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-main scrollbar-y pt_10&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;eventListScrollbarY&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-main-content-box cp pr&quot;</span>
              v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in mapObj.eventList&quot;</span>
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;mapObj.eventList.length &gt; 0&quot;</span>
              <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span>
              @click<span class="token operator">=</span><span class="token string">&quot;toEventDetailsFn(item, index)&quot;</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div
                v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.unreadMessage &amp;&amp; item.unreadMessage &gt; 0&quot;</span>
                <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pa&quot;</span>
                style<span class="token operator">=</span><span class="token string">&quot;top: -10px; right: 5px; z-index: 10&quot;</span>
              <span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>a<span class="token operator">-</span>badge <span class="token operator">:</span>count<span class="token operator">=</span><span class="token string">&quot;item.unreadMessage&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>badge<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-main-content mb_12 pt_5 pl_10 pr_10 neweventList&quot;</span>
                <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;
                  item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">1</span>
                    <span class="token operator">?</span> <span class="token string">'eventList-main-content-background1'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">2</span>
                    <span class="token operator">?</span> <span class="token string">'eventList-main-content-background2'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">3</span>
                    <span class="token operator">?</span> <span class="token string">'eventList-main-content-background3'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">4</span>
                    <span class="token operator">?</span> <span class="token string">'eventList-main-content-background4'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">5</span>
                    <span class="token operator">?</span> <span class="token string">'eventList-main-content-background5'</span>
                    <span class="token operator">:</span><span class="token string">''</span>
                &quot;
              <span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-left-box&quot;</span> <span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-left-top&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;
                      item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">1</span>
                        <span class="token operator">?</span> <span class="token string">'series-background1'</span>
                        <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">2</span>
                        <span class="token operator">?</span> <span class="token string">'series-background2'</span>
                        <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">3</span>
                        <span class="token operator">?</span> <span class="token string">'series-background3'</span>
                        <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">4</span>
                        <span class="token operator">?</span> <span class="token string">'series-background4'</span>
                        <span class="token operator">:</span> item<span class="token punctuation">.</span>dotLevelId <span class="token operator">==</span> <span class="token number">5</span>
                        <span class="token operator">?</span> <span class="token string">'series-background5'</span>
                        <span class="token operator">:</span> <span class="token string">''</span>
                    &quot;<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>categoryName <span class="token operator">||</span> <span class="token string">'其它'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;overflowText2&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>categoryName <span class="token operator">||</span> <span class="token string">'其它'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip <span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>status <span class="token operator">===</span><span class="token number">0</span> <span class="token operator">?</span> <span class="token string">'已确认'</span><span class="token operator">:</span>item<span class="token punctuation">.</span>status <span class="token operator">===</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'未处置'</span><span class="token operator">:</span> item<span class="token punctuation">.</span>status <span class="token operator">===</span><span class="token number">2</span> <span class="token operator">?</span> <span class="token string">'处置中'</span><span class="token operator">:</span><span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
                          <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">getStatus</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
                          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-left-bot&quot;</span><span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>sourceName <span class="token punctuation">}</span><span class="token operator">--</span><span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;isLevelMove&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item.isMove&gt;70?'levelMove':''&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>status <span class="token operator">===</span><span class="token number">0</span> <span class="token operator">?</span> <span class="token string">'已确认'</span><span class="token operator">:</span>item<span class="token punctuation">.</span>status <span class="token operator">===</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'未处置'</span><span class="token operator">:</span> item<span class="token punctuation">.</span>status <span class="token operator">===</span><span class="token number">2</span> <span class="token operator">?</span> <span class="token string">'处置中'</span><span class="token operator">:</span><span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;isLevelMove&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item.isMove&gt;70?'levelMove':''&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">getStatus</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>

                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-right-box&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-right-topBox&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-right-top overflowText&quot;</span><span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip <span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>positionDesc <span class="token operator">||</span> <span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
                          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>chaiageNum <span class="token operator">||</span> <span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span>span v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.highwayDirection&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">1</span>
                          <span class="token operator">?</span> <span class="token string">'东行'</span>
                          <span class="token operator">:</span> item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">2</span>
                          <span class="token operator">?</span> <span class="token string">'西行'</span>
                          <span class="token operator">:</span> item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">3</span>
                          <span class="token operator">?</span> <span class="token string">'南行'</span>
                          <span class="token operator">:</span> item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">4</span>
                          <span class="token operator">?</span> <span class="token string">'北行'</span>
                          <span class="token operator">:</span> <span class="token string">''</span>
                      <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>positionDesc <span class="token operator">||</span> <span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>chaiageNum <span class="token operator">||</span> <span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span>span v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.highwayDirection&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">1</span>
                          <span class="token operator">?</span> <span class="token string">'东行'</span>
                          <span class="token operator">:</span> item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">2</span>
                          <span class="token operator">?</span> <span class="token string">'西行'</span>
                          <span class="token operator">:</span> item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">3</span>
                          <span class="token operator">?</span> <span class="token string">'南行'</span>
                          <span class="token operator">:</span> item<span class="token punctuation">.</span>highwayDirection <span class="token operator">==</span> <span class="token number">4</span>
                          <span class="token operator">?</span> <span class="token string">'北行'</span>
                          <span class="token operator">:</span> <span class="token string">''</span>
                      <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-right-center&quot;</span><span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>highwayName <span class="token operator">||</span> <span class="token string">'未知'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;overflowText eventList-right-center&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>highwayName <span class="token operator">||</span> <span class="token string">'未知'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>sourceName <span class="token operator">||</span> <span class="token string">'未知'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-right-center overflowText&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>sourceName <span class="token operator">||</span> <span class="token string">'未知'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>sourceStatus <span class="token operator">==</span><span class="token string">'1'</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>createBy_dictText <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>createBy_dictText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot; item.eventTime&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;eventList-right-bot&quot;</span><span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>eventTime <span class="token punctuation">}</span><span class="token punctuation">}</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;nothing&quot;</span> v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/nothing.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>暂无内容<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>您还没有相关信息<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'collapsed-box2': collapsed }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;collapsed-box&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toggleCollapsed&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>img
            v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;!collapsed&quot;</span>
            src<span class="token operator">=</span><span class="token string">&quot;@/assets/images/roadOverview/event-left-arrow.png&quot;</span>
            alt<span class="token operator">=</span><span class="token string">&quot;缩起&quot;</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>img
            v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;collapsed&quot;</span>
            src<span class="token operator">=</span><span class="token string">&quot;@/assets/images/roadOverview/event-right-arrow.png&quot;</span>
            alt<span class="token operator">=</span><span class="token string">&quot;伸开&quot;</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 右侧列表 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;roadOverview-right pa pr&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;isLeftMoveBtn ? 'moveClose' : 'moveOpen'&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 常用设置 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;toggleDeviceStatus&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in mapObj.userCoverAll&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.value&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;handleDeviceSelect(item)&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.value - 1 &lt; 4&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--wrap&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1</span>到<span class="token number">4</span>级类型 <span class="token operator">--</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--left&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--pic&quot;</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;statusIcon[item.value - 1]&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--right&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span>是否设置为常用图层<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--box&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item.view === '1' ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span>是否设置为默认选中<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>a<span class="token operator">-</span><span class="token keyword">switch</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;switch-type&quot;</span> <span class="token operator">:</span>checked<span class="token operator">=</span><span class="token string">&quot;item.checked === '1' ? true : false&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;(checked, event) =&gt; handleSwitch(checked, event, item)&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 其他类型 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--wrap&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div
                <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'10'</span>
                  <span class="token operator">?</span> <span class="token string">'bg-dispost'</span>
                  <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'5'</span>
                  <span class="token operator">?</span> <span class="token string">'bg-known'</span>
                  <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'6'</span>
                  <span class="token operator">?</span> <span class="token string">'bg-work'</span>
                  <span class="token operator">:</span> <span class="token string">''</span>&quot;
                <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--left&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--right&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span>是否设置为常用图层<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__item--box&quot;</span><span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item.view === '1' ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>template #title<span class="token operator">&gt;</span>是否设置为默认选中<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>a<span class="token operator">-</span><span class="token keyword">switch</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;switch-type&quot;</span> <span class="token operator">:</span>checked<span class="token operator">=</span><span class="token string">&quot;item.checked === '1' ? true : false&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;(checked, event) =&gt; handleSwitch(checked, event, item)&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 按钮 <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__btn&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__btn--cancel&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;handleSepupCancel&quot;</span><span class="token operator">&gt;</span>取消<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-setup__btn--confirm&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;handleSepupConfirm&quot;</span><span class="token operator">&gt;</span>确认<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 资源设备 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;toggleResouceStatus&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce&quot;</span> @mouseleave<span class="token operator">=</span><span class="token string">&quot;mouseleave&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rightBlueIcon3Click&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device01.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>服务区<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightBuleIcon3Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rightBlueIcon4Click&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device02.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>隧道<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightBuleIcon4Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;bridgeClick&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device03.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>桥梁<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightBuleIcon1Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rightBlueIcon2Click&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device04.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>收费站<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightBuleIcon2Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rightGreenIcon2Click&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device05.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>门架<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightGreenIcon2Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rightGreenIcon4Click&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device06.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>里程桩<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightGreenIcon4Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rightGreenIcon3Click&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device07.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>情报板<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightGreenIcon3Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rightGreenIcon1Click&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device08.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>摄像枪<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightGreenIcon1Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;rescueCarClick&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/rs-rescue-car.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>救援车<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightPurpleIcon3Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;roadCarClick&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/rs-road-car.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>路政车<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightPurpleIcon1Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;personnelClick&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--pic&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device10.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--name&quot;</span><span class="token operator">&gt;</span>人员<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__item--box&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mapObj.isRightPurpleIcon2Boole == true ? 'activeSelect' : ''&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-resouce__btn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;handleDevice&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/device-btn.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>常用设置<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 总图层 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 事件处置中 <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;layerTitleTop&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 机构 <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;layerOrganTop&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;!isVisualization&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-layer-btn-box&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 卫星地图 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{'activelogo' : isSatelliteLayer }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__satellite&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toggleMapLayer&quot;</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;!isVisualization&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/eventDetails/satellite.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;!isSatelliteLayer&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;satellite-icon&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/eventDetails/satellite-active.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;isSatelliteLayer&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;satellite-icon&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{'active-satellite' : isSatelliteLayer}&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;satellite-title&quot;</span><span class="token operator">&gt;</span>卫星<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__satellite&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toggleMapLayer&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/eventDetails/satellite.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;!isSatelliteLayer&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;satellite-icon&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/eventDetails/satellite-active.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;isSatelliteLayer&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;satellite-icon&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{'active-satellite' : isSatelliteLayer}&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;satellite-title&quot;</span><span class="token operator">&gt;</span>卫星<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 分割线 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-layer-boder&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 还原 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-layer-reset-btn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;initMapLayer&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;satellite-icon&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/layer-reset-icon.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>还原<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 图层 <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'road-right-wrap__layer-visualization': toggleLayerStatus &amp;&amp; isVisualization }&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__layer&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toggleLayer&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;margin-top:6px;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;!toggleLayerStatus&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;!isVisualization&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__layer--pic1&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/right-arrow.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__layer--pic2&quot;</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;layerLogo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;!isVisualization&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__layer--pic1&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;~@/assets/images/roadOverview/right-arrow-active.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__layer--pic2&quot;</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;layerLogo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{'road-right-wrap__layer--name-active' : toggleLayerStatus}&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__layer--name&quot;</span><span class="token operator">&gt;</span>图层<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__level&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item.checked === '1' ? 'activelogo' : ''&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__item&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in mapObj.userCoverView&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.value&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;accidentFn1(item)&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1</span>到<span class="token number">4</span>级类型 <span class="token operator">--</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.value - 1 &lt; 4&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__item--box&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;grade-logo&quot;</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;statusIcon[item.value - 1]&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;grade-name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div
                  <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;
                    item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'1'</span>
                    <span class="token operator">?</span> <span class="token string">'red-name'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'2'</span>
                    <span class="token operator">?</span> <span class="token string">'org-name'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'3'</span>
                    <span class="token operator">?</span> <span class="token string">'yel-name'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'4'</span>
                    <span class="token operator">?</span> <span class="token string">'blue-name'</span>
                    <span class="token operator">:</span> <span class="token string">''</span>&quot;
                  <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;grade-num&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>count <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 其他类型 <span class="token operator">--</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flex-div&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div
                    <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'10'</span>
                      <span class="token operator">?</span> <span class="token string">'bg-dispost'</span>
                      <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'5'</span>
                      <span class="token operator">?</span> <span class="token string">'bg-known'</span>
                      <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'6'</span>
                      <span class="token operator">?</span> <span class="token string">'bg-work'</span>
                      <span class="token operator">:</span> <span class="token string">''</span>&quot;
                    <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;road-right-wrap__item--box&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div
                  <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'10'</span>
                    <span class="token operator">?</span> <span class="token string">'color-dispost'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'5'</span>
                    <span class="token operator">?</span> <span class="token string">'color-known'</span>
                    <span class="token operator">:</span> item<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">'6'</span>
                    <span class="token operator">?</span> <span class="token string">'color-work'</span>
                    <span class="token operator">:</span> <span class="token string">''</span>&quot;
                  <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;grade-num&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>count <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;yiGouObj.isMileageDetailShow&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;yigou-component01 hvc pa&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>MileageDetail
          style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span>
          <span class="token operator">:</span>mileageId<span class="token operator">=</span><span class="token string">&quot;yiGouObj.mileageId&quot;</span>
          @handleCancel<span class="token operator">=</span><span class="token string">&quot;yiGouObj.isMileageDetailShow = false&quot;</span>
        <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MileageDetail<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;yiGouObj.isInfoDetailShow&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;yigou-component02 hvc pa info&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;top:0;position: relative;&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>InfoDetail <span class="token operator">:</span>infoId<span class="token operator">=</span><span class="token string">&quot;yiGouObj.infoId&quot;</span> close @handleClose<span class="token operator">=</span><span class="token string">&quot;closeInfoDetailFn&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>InfoDetail<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;yiGouObj.isGantryDetailsShow&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;yigou-component02 hvc pa&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>GantryDetails
          <span class="token operator">:</span>gantryId<span class="token operator">=</span><span class="token string">&quot;yiGouObj.gantryId&quot;</span>
          @handleCancel<span class="token operator">=</span><span class="token string">&quot;yiGouObj.isGantryDetailsShow = false&quot;</span>
          style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span>
        <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>GantryDetails<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;yiGouObj.isVideoWindowShow&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;yigou-component02 hvc pa&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;height:640px;top:0;position: relative;&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>VideoWindow
          <span class="token operator">:</span>cameraNum<span class="token operator">=</span><span class="token string">&quot;yiGouObj.cameraNum&quot;</span>
          close
          control
          @handleClose<span class="token operator">=</span><span class="token string">&quot;yiGouObj.isVideoWindowShow = false&quot;</span>
          style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span>
        <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>VideoWindow<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 救援车点聚合信息窗体 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowBox&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;clusterRescueCarWindowBoxRef&quot;</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{width:clusterRescueCarArr.length == 1?'211px':''}&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowItem&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterRescueCarArr.length == 1?'oneCluster':''&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index) in clusterRescueCarArr&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.vlp&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>车牌号：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>vlp<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.code&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>车辆编号：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>code<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.jobType&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>类型：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>jobType<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.state&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>状态：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'dispose'</span> <span class="token operator">?</span> <span class="token string">'忙碌'</span><span class="token operator">:</span> <span class="token string">'空闲'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.direction&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>方向：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>direction<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.curentUserName&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>绑定人员：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>curentUserName <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.gpsTime&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token constant">GPS</span>时间：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>gpsTime <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 人员点聚合信息窗体 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowBox&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;clusterWindowBoxRef&quot;</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{width:clusterArr.length == 1?'211px':''}&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowItem&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterArr.length == 1?'oneCluster':''&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index) in clusterArr&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.orgName&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>部门：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>orgName<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.realName&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>姓名：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>realName<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.workStatus_dictText&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>状态：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>workStatus_dictText<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.phone&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>电话：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>phone<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 路政车点聚合信息窗体 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowBox&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;clusterRoadCarWindowBoxRef&quot;</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{width:clusterRoadCarArr.length == 1?'211px':''}&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowItem&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterRoadCarArr.length == 1?'oneCluster':''&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index) in clusterRoadCarArr&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.vlp&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>车牌号：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>vlp<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.code&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>车辆编号：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>code<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.jobType&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>类型：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>jobType<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.state&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>状态：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'dispose'</span> <span class="token operator">?</span> <span class="token string">'忙碌'</span><span class="token operator">:</span> <span class="token string">'空闲'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.direction&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>方向：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>direction<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.curentUserName&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>绑定人员：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>curentUserName <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.gpsTime&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token constant">GPS</span>时间：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>gpsTime <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 事件点聚合信息窗体 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowBox&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;clusterEventWindowBoxRef&quot;</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{width:clusterEventArr.length == 1?'211px':''}&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowItem clusterEventWindowItem&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterEventArr.length == 1?'oneCluster':''&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index) in clusterEventArr&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toEventDetailsFn(item)&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterEventWindowItem-name&quot;</span> <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.eventTime&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>时间：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>eventTime<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.categoryName&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>类型：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>categoryName<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.locationDesc&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>位置：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>locationDesc<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.chaiageNum&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>桩号：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.trafficState&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>交通状况：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>trafficState<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 易购事件点聚合信息窗体 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowBox&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;clusterYiGouEventWindowBoxRef&quot;</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{width:clusterEventArr.length == 1?'211px':''}&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterWindowItem clusterEventWindowItem&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterYiGouEventArr.length == 1?'oneCluster':''&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index) in clusterYiGouEventArr&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toYiGouEventDetailsFn(item)&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clusterEventWindowItem-name&quot;</span> <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.voiceInfo&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>voiceInfo<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.createdAt&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>时间：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>createdAt<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.alarmDesc&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>类型：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>alarmDesc<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.locationDesc&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>位置：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>locationDesc<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>p <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;item.alarmLevel&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>告警等级：<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>alarmLevel<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 打开事件新增弹窗 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>EventDetailModal ref<span class="token operator">=</span><span class="token string">&quot;eventDetailModalRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  ref<span class="token punctuation">,</span>
  onMounted<span class="token punctuation">,</span>
  reactive<span class="token punctuation">,</span>
  watch<span class="token punctuation">,</span>
  onActivated<span class="token punctuation">,</span>
  onDeactivated<span class="token punctuation">,</span>
  getCurrentInstance<span class="token punctuation">,</span>
  defineAsyncComponent<span class="token punctuation">,</span>
  nextTick<span class="token punctuation">,</span>
  computed
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">// import AMapLoader from '@amap/amap-jsapi-loader'</span>
<span class="token comment">// import mockData from '@/utils/mockData.json'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@/router/router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store/store'</span>
<span class="token keyword">import</span> MileageDetail <span class="token keyword">from</span> <span class="token string">'@/components/other/MileageDetail'</span>
<span class="token keyword">import</span> InfoDetail <span class="token keyword">from</span> <span class="token string">'@/components/other/InfoDetail'</span>
<span class="token keyword">import</span> GantryDetails <span class="token keyword">from</span> <span class="token string">'@/components/other/GantryDetails'</span>
<span class="token keyword">import</span> VideoWindow <span class="token keyword">from</span> <span class="token string">'@/components/other/VideoWindow'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  getSectionInfoApi<span class="token punctuation">,</span>
  getInfoApi<span class="token punctuation">,</span>
  getFacilitiesApi<span class="token punctuation">,</span>
  queryConfirmedEventApi<span class="token punctuation">,</span>
  confirmEventApi<span class="token punctuation">,</span>
  getHighwaySectionApi<span class="token punctuation">,</span>
  getOperatorLocationListApi<span class="token punctuation">,</span>
  getRescueCarListApi<span class="token punctuation">,</span>
  getRoadCarListApi<span class="token punctuation">,</span>
  getUserCoverApi<span class="token punctuation">,</span>
  setUserCoverApi<span class="token punctuation">,</span>
  queryEventInfoV2Api
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/api/roadOverviewApi.js'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getYiGouEventDataApi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/api/api'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getDict<span class="token punctuation">,</span> getTwoArrNum<span class="token punctuation">,</span> compareArrChange<span class="token punctuation">,</span> changeLabel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/utils'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> setStorage<span class="token punctuation">,</span> getStorage  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/localStorage&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ant-design-vue'</span>
<span class="token keyword">const</span> EventDetailModal <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;eventDetailModal&quot; */</span><span class="token string">'@/components/eventDetailModal.vue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'roadOverviewNew'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    MileageDetail<span class="token punctuation">,</span>
    InfoDetail<span class="token punctuation">,</span>
    GantryDetails<span class="token punctuation">,</span>
    VideoWindow<span class="token punctuation">,</span>
    EventDetailModal
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">isVisualization</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span>Boolean<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//是否大屏</span>
    <span class="token comment">// gdStyle:{type:String,default:'amap://styles/whitesmoke'},//地图风格</span>
    <span class="token comment">// gdStyle:{type:String,default:'amap://styles/8e5dee6173f70cc308d300aa641bc3a9'},//地图风格</span>
    <span class="token literal-property property">gdStyle</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span>String<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'amap://styles/02fd07714a3aac53f6cdf9b02998f192'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//地图风格</span>
    <span class="token literal-property property">isLeftMoveBtn</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span>Boolean<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//是否关闭卡片</span>
    <span class="token literal-property property">sysCodeVal</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span>String<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">}</span><span class="token comment">//是否关闭卡片</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span><span class="token punctuation">{</span>emit<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> proxy <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> statusOptions <span class="token operator">=</span> <span class="token function">getDict</span><span class="token punctuation">(</span><span class="token string">&quot;page_event_status&quot;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'statusOptions'</span><span class="token punctuation">,</span> statusOptions<span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getStatus</span> <span class="token operator">=</span> <span class="token parameter">status</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> statusOptions<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span>  i<span class="token punctuation">.</span>value <span class="token operator">==</span> status
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span>title
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> eventList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> GDMap <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> rescueCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> roadCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> personMarkerClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> eventMarkerClusterer1 <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> eventMarkerClusterer2 <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> eventMarkerClusterer3 <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> eventMarkerClusterer4 <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> eventMarkerClusterer5 <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> eventMarkerClusterer6 <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> eventMarkerClusterer10 <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> mapDetailObj <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">mapIconArr1</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr3</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr4</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr5</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr6</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr7</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr8</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr9</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr10</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapIconArr11</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">roadOverviewMarker</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">roadOverviewMarkerDialog</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">roadOverviewMarkerDialogArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">polylineArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//路线数组</span>
      <span class="token comment">// 存放救援车、路政、人员数据中经纬度有变化的点数据</span>
      <span class="token literal-property property">rescueLineMarkerArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">roadLineMarkerArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">personnelMarkerArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> loopFnTimerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> resourceTimerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> accidentMarkerArr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> accidentMarkerArr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> accidentMarkerArr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> accidentMarkerArr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> accidentMarkerArr5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> accidentMarkerArr6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> accidentMarkerArr10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> typeDataArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> clusterInfoWindow <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">const</span> clusterArr <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterRescueCarArr <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterRoadCarArr <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterEventArr <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterYiGouEventArr <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterWindowBoxRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterRescueCarWindowBoxRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterRoadCarWindowBoxRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterEventWindowBoxRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> clusterYiGouEventWindowBoxRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> mapIconList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-blue-icon1.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-blue-icon2.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-blue-icon3.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-blue-icon4.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-green-icon1.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-green-icon2.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-green-icon3.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-green-icon4.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/rs-road-car-arrow.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-purple.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/rs-rescue-car-arrow.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/rs-road-car-arrow-black.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/rs-rescue-car-arrow-black.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> mapObj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">isRightBuleIcon1Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightBuleIcon2Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightBuleIcon3Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightBuleIcon4Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightGreenIcon1Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightGreenIcon2Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightGreenIcon3Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightGreenIcon4Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightPurpleIcon1Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightPurpleIcon2Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isRightPurpleIcon3Boole</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sectionIdArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">informationArr1</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//桥梁</span>
      <span class="token literal-property property">informationArr2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//收费站</span>
      <span class="token literal-property property">informationArr3</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//服务区</span>
      <span class="token literal-property property">informationArr4</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//隧道</span>
      <span class="token literal-property property">equipmentArr1</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//摄像枪</span>
      <span class="token literal-property property">equipmentArr2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//门架</span>
      <span class="token literal-property property">equipmentArr3</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//情报板</span>
      <span class="token literal-property property">equipmentArr4</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//里程桩</span>
      <span class="token literal-property property">rescueCarData</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//救援车</span>
      <span class="token literal-property property">roadCarData</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//路政车</span>
      <span class="token literal-property property">personnelData</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//人员</span>
      <span class="token literal-property property">eventList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">newEventList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// websocket推送后获取当前状态所有事件列表数据</span>
      <span class="token literal-property property">oldEventList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 初始化所获取的所有事件列表数据</span>
      <span class="token literal-property property">inputSearchValue</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">eventStatus</span><span class="token operator">:</span> <span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token comment">// 事件状态</span>
      <span class="token literal-property property">selectValue1</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
      <span class="token literal-property property">selectValue2</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapLoading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapLineData</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userCoverView</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 当前能操作的图层</span>
      <span class="token literal-property property">userCoverAll</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 所有图层</span>
      <span class="token literal-property property">eventLeveloOrStatusList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 所有图层的打点数据</span>
      <span class="token literal-property property">levelClusterer</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 当前打开点聚合弹窗的是哪个等级</span>
      <span class="token literal-property property">isWebsockSign</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否有websocket推送消息过来</span>
      <span class="token literal-property property">lockReconnect</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">websockSign</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">addList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// websocket连接中要新增的点数据</span>
      <span class="token literal-property property">delList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// websocket连接中要删除的点数据</span>
      <span class="token literal-property property">numList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// websocket连接中要变更的点总数数据</span>
      <span class="token literal-property property">levelIdCheckedArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 每个图层的选中状态</span>
      <span class="token literal-property property">centerPoint</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 设置地图中心点</span>
      <span class="token literal-property property">maxDistance</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 设置地图层级</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> yiGouObj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">isMileageDetailShow</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mileageId</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isInfoDetailShow</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">infoId</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isGantryDetailsShow</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">gantryId</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isVideoWindowShow</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cameraNum</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> statusIcon <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-1.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-2.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-3.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-4.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-grade5.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> typeIcon <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-type-1.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-type-2.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-type-3.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-type-4.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-type-5.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-type-6.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/logo-type-7.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">// 初始化点聚合弹窗数据</span>
    <span class="token keyword">const</span> initClusterInfoWindow <span class="token operator">=</span> <span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token string">'default'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>clusterInfoWindow<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'default'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          clusterRoadCarArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          clusterEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          clusterYiGouEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'rescue'</span> <span class="token operator">&amp;&amp;</span> clusterRescueCarArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterRescueCarArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'road'</span> <span class="token operator">&amp;&amp;</span> clusterRoadCarArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterRoadCarArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'person'</span> <span class="token operator">&amp;&amp;</span> clusterArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'marker'</span> <span class="token operator">&amp;&amp;</span> clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">||</span> clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          clusterYiGouEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'del-marker'</span> <span class="token operator">&amp;&amp;</span> clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span><span class="token number">0</span> <span class="token operator">||</span> clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          clusterYiGouEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'event'</span> <span class="token operator">&amp;&amp;</span> clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'alarm'</span> <span class="token operator">&amp;&amp;</span> clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          clusterYiGouEventArr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 地图初始化</span>
    <span class="token keyword">const</span> <span class="token function-variable function">initMap</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      GDMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// 设置地图样式</span>
        <span class="token literal-property property">features</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'bg'</span><span class="token punctuation">,</span> <span class="token string">'road'</span><span class="token punctuation">,</span> <span class="token string">'building'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 显示背景、道路和建筑物</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.338552</span><span class="token punctuation">,</span> <span class="token number">23.076839</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expandZoomRange</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//最大层级拓展</span>
        <span class="token literal-property property">zooms</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token literal-property property">viewMode</span><span class="token operator">:</span> <span class="token string">'3D'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pitch</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token comment">// 地图俯仰角度，有效范围 0 度- 83 度</span>
        <span class="token literal-property property">mapStyle</span><span class="token operator">:</span> props<span class="token punctuation">.</span>gdStyle<span class="token punctuation">,</span><span class="token comment">//地图风格</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      GDMap<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'complete'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mapObj<span class="token punctuation">.</span>mapLoading <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token function">getSectionInfoApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//画线路</span>
        <span class="token function">queryEventInfoV2ApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//地图加载重大交通事故地点图标位置</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      GDMap<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousewheel'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 地图标尺</span>
      GDMap<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.ToolBar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">//加载工具条</span>
          <span class="token keyword">const</span> tool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>ToolBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">673</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">'RT'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">locate</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token comment">// direction: true</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          GDMap<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span>tool<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      GDMap<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'zoomchange'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'当前缩放级别：'</span><span class="token punctuation">,</span> GDMap<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>GDMap<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 动态计算zoom值</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getZoom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">distance<span class="token punctuation">,</span>map</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// const earthRadius = 6378137; // 地球半径，单位：米</span>
      <span class="token comment">// const pixelWidth = 256; // 地图显示区域的宽度，单位：像素</span>
      <span class="token comment">// const minZoom = 3; // 最小的zoom值</span>
      <span class="token comment">// const maxZoom = 18; // 最大的zoom值</span>
      <span class="token comment">// let newZoom</span>
      <span class="token comment">// for (let zoom = minZoom; zoom &lt;= maxZoom; zoom++) {</span>
      <span class="token comment">//   const resolution = earthRadius * 2 * Math.PI / (pixelWidth * Math.pow(2, zoom)); // 每个像素表示的距离，单位：米</span>
      <span class="token comment">//   if ((distance)&lt;= resolution * pixelWidth) {</span>
      <span class="token comment">//     newZoom = zoom</span>
      <span class="token comment">//   }</span>
      <span class="token comment">//     console.log('看看zoom',zoom);</span>
      <span class="token comment">//     let tes = (156543.03392 * Math.cos(0)) / Math.pow(2, zoom)*1100</span>
      <span class="token comment">//     console.log('看看距离',tes);</span>
      <span class="token comment">// }</span>
      <span class="token comment">// if(newZoom&gt;= 10) {</span>
      <span class="token comment">//   newZoom += 2.8</span>
      <span class="token comment">// }else if (newZoom == 9) {</span>
      <span class="token comment">//   newZoom += 2.5</span>
      <span class="token comment">// } else if (newZoom == 8) {</span>
      <span class="token comment">//   newZoom += 2.8</span>
      <span class="token comment">// } else if (newZoom &lt;= 7) {</span>
      <span class="token comment">//   newZoom += 2.8</span>
      <span class="token comment">// }</span>
      <span class="token comment">// 计算当前层级每像素代表的距离乘当前展示的像素大小，比较路线距离。比较到小数两位的层级为止</span>
      <span class="token keyword">let</span> width <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> <span class="token number">660</span> <span class="token comment">// 减去遮挡物</span>
      <span class="token keyword">let</span> zoom1<span class="token punctuation">,</span>zoom2<span class="token punctuation">,</span>zoom3
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> zoomLevel <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> zoomLevel <span class="token operator">&lt;=</span> <span class="token number">18</span><span class="token punctuation">;</span> zoomLevel<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pxDistance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">156543.03392</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> zoomLevel<span class="token punctuation">)</span><span class="token operator">*</span>width
        <span class="token keyword">if</span><span class="token punctuation">(</span>distance <span class="token operator">&lt;=</span> pxDistance<span class="token punctuation">)</span> zoom1 <span class="token operator">=</span> zoomLevel
      <span class="token punctuation">}</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> zoomLevel <span class="token operator">=</span> zoom1 <span class="token punctuation">;</span> zoomLevel <span class="token operator">&lt;=</span> zoom1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> zoomLevel <span class="token operator">+=</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pxDistance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">156543.03392</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> zoomLevel<span class="token punctuation">)</span><span class="token operator">*</span>width
        <span class="token keyword">if</span><span class="token punctuation">(</span>distance <span class="token operator">&lt;=</span> pxDistance<span class="token punctuation">)</span> zoom2 <span class="token operator">=</span> zoomLevel
      <span class="token punctuation">}</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> zoomLevel <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>zoom2 <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span> <span class="token punctuation">;</span> zoomLevel <span class="token operator">&lt;=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>zoom2 <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">;</span> zoomLevel <span class="token operator">+=</span> <span class="token number">0.01</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pxDistance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">156543.03392</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> zoomLevel<span class="token punctuation">)</span><span class="token operator">*</span>width
        <span class="token keyword">if</span><span class="token punctuation">(</span>distance <span class="token operator">&lt;=</span> pxDistance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          zoom3 <span class="token operator">=</span> zoomLevel
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      map<span class="token punctuation">.</span><span class="token function">setZoom</span><span class="token punctuation">(</span>zoom3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 计算公式</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toRadians</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">degrees</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> degrees <span class="token operator">*</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 通过经纬度计算距离</span>
    <span class="token keyword">const</span> <span class="token function-variable function">calculateDistance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">lat1<span class="token punctuation">,</span> lon1<span class="token punctuation">,</span> lat2<span class="token punctuation">,</span> lon2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> earthRadius <span class="token operator">=</span> <span class="token number">6371</span><span class="token punctuation">;</span> <span class="token comment">// 地球半径（单位：千米）</span>

      <span class="token keyword">const</span> dLat <span class="token operator">=</span> <span class="token function">toRadians</span><span class="token punctuation">(</span>lat2 <span class="token operator">-</span> lat1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> dLon <span class="token operator">=</span> <span class="token function">toRadians</span><span class="token punctuation">(</span>lon2 <span class="token operator">-</span> lon1<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> a <span class="token operator">=</span>
        Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLat <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLat <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token function">toRadians</span><span class="token punctuation">(</span>lat1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token function">toRadians</span><span class="token punctuation">(</span>lat2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLon <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>dLon <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> distance <span class="token operator">=</span> earthRadius <span class="token operator">*</span> c<span class="token punctuation">;</span>
      <span class="token keyword">return</span> distance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 动态计算点聚合的zoom值</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getClustererZoom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> positions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>maxDistance <span class="token operator">=</span> <span class="token number">0</span>
      data<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        positions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      positions<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">positionOne<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        positions<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">positionTwo<span class="token punctuation">,</span>idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>idx <span class="token operator">&gt;</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> distance <span class="token operator">=</span> <span class="token function">calculateDistance</span><span class="token punctuation">(</span>positionOne<span class="token punctuation">.</span>lat<span class="token punctuation">,</span>positionOne<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>positionTwo<span class="token punctuation">.</span>lat<span class="token punctuation">,</span>positionTwo<span class="token punctuation">.</span>lng<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>distance <span class="token operator">&gt;</span> maxDistance<span class="token punctuation">)</span> maxDistance <span class="token operator">=</span> distance
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>maxDistance <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">setZoom</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">&lt;</span> maxDistance <span class="token operator">&amp;&amp;</span> maxDistance <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// getZoom(maxDistance,GDMap)</span>
        GDMap<span class="token punctuation">.</span><span class="token function">setZoom</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> res
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> accidentBool <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">accidentFn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// console.log('item', item)</span>
      mapObj<span class="token punctuation">.</span>userCoverView<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">coverItem<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>coverItem<span class="token punctuation">.</span>value <span class="token operator">===</span> item<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 点击成激活选项</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            coverItem<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token string">'1'</span>
            accidentBool<span class="token punctuation">.</span>value<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 点击成非激活选项</span>
            coverItem<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token string">'0'</span>
            accidentBool<span class="token punctuation">.</span>value<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
            <span class="token comment">// 处理关闭点聚合弹窗</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>levelClusterer <span class="token operator">===</span> <span class="token function">Number</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'5'</span> <span class="token operator">||</span> item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'6'</span> <span class="token operator">||</span> item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'alarm'</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 处理打点数据</span>
      <span class="token function">handleEventLeveloOrStatusList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">closeInfoDetailFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      yiGouObj<span class="token punctuation">.</span>isInfoDetailShow <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 统一处理点击点聚合处理展开弹窗数据</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toggleClickClusterMarker</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> levelId</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>levelClusterer <span class="token operator">=</span> levelId
      <span class="token keyword">if</span> <span class="token punctuation">(</span>GDMap<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> eventType <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">||</span> levelId <span class="token operator">===</span> <span class="token number">6</span> <span class="token operator">||</span> levelId <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          eventType <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          eventType <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>eventType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
          ele<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
          ele<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        clusterInfoWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">offset</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">anchor</span><span class="token operator">:</span><span class="token string">'bottom-center'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">content</span><span class="token operator">:</span><span class="token operator">!</span>eventType <span class="token operator">?</span> clusterYiGouEventWindowBoxRef<span class="token punctuation">.</span>value <span class="token operator">:</span> clusterEventWindowBoxRef<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
          <span class="token literal-property property">isCustom</span><span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        clusterInfoWindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">,</span> <span class="token punctuation">[</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lat<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 点聚合</span>
    <span class="token keyword">function</span> <span class="token function">addCluster</span><span class="token punctuation">(</span><span class="token parameter">markerArr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> levelId</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// console.log('markerArr', markerArr)</span>
      <span class="token keyword">let</span> typeClusterStyle <span class="token operator">=</span> <span class="token string">''</span>
      <span class="token keyword">let</span> typeEventClusterStyle <span class="token operator">=</span> <span class="token string">''</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'person'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderClusterBox'</span>
        typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderClusterCount'</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'roadCar'</span> <span class="token operator">||</span> type <span class="token operator">===</span> <span class="token string">'rescueCar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox3'</span>
        typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount3'</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox1'</span>
          typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount1'</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox2'</span>
          typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount2'</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox3'</span>
          typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount3'</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox4'</span>
          typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount4'</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox5'</span>
          typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount5'</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox2'</span>
          typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount2'</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          typeClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterBox4'</span>
          typeEventClusterStyle <span class="token operator">=</span> <span class="token string">'renderEventClusterCount4'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">let</span> <span class="token function-variable function">_renderClusterMarker</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> content<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;renderAnyClusterBox </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>typeClusterStyle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;
          &lt;div class=&quot;renderAnyClusterCount </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>typeEventClusterStyle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>context<span class="token punctuation">.</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
        context<span class="token punctuation">.</span>marker<span class="token punctuation">.</span><span class="token function">setOffset</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span>marker<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
        context<span class="token punctuation">.</span>marker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> eventType <span class="token operator">=</span> <span class="token boolean">false</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>levelId <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">||</span> levelId <span class="token operator">===</span> <span class="token number">6</span> <span class="token operator">||</span> levelId <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            eventType <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            eventType <span class="token operator">=</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>eventType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
            context<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
            context<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          clusterInfoWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">offset</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">anchor</span><span class="token operator">:</span><span class="token string">'bottom-center'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">content</span><span class="token operator">:</span><span class="token operator">!</span>eventType <span class="token operator">?</span> clusterYiGouEventWindowBoxRef<span class="token punctuation">.</span>value <span class="token operator">:</span> clusterEventWindowBoxRef<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
            <span class="token literal-property property">isCustom</span><span class="token operator">:</span><span class="token boolean">true</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>context<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span>marker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">let</span> <span class="token function-variable function">_renderMarker</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;markerBox&quot;&gt;
          &lt;img src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; class=&quot;markerImage&quot;/&gt;
          &lt;div class=&quot;markerContent&quot;&gt;
            &lt;p&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>context<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>realName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
        <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span>marker<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
        context<span class="token punctuation">.</span>marker<span class="token punctuation">.</span><span class="token function">setOffset</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
        context<span class="token punctuation">.</span>marker<span class="token punctuation">.</span><span class="token function">setAnchor</span><span class="token punctuation">(</span><span class="token string">'bottom-center'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>personMarkerClusterer <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        personMarkerClusterer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// clusterByZoomChange:true,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        personMarkerClusterer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token comment">// 2.0版本的使用</span>
          <span class="token comment">// clusterArr.value = ele.clusterData</span>
          <span class="token comment">// clusterInfoWindow = new AMap.InfoWindow({</span>
          <span class="token comment">//   offset:ele.clusterData.length&gt;1 ? new AMap.Pixel(0,-36) : new AMap.Pixel(0, -36),</span>
          <span class="token comment">//   anchor:'bottom-center',</span>
          <span class="token comment">//   content:clusterWindowBoxRef.value,</span>
          <span class="token comment">//   isCustom:true</span>
          <span class="token comment">// })</span>
          <span class="token comment">// clusterInfoWindow.open(GDMap, [ele.lnglat.lng,ele.lnglat.lat])</span>

          <span class="token comment">// 1.4.15版本的使用</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>GDMap<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">20</span> <span class="token operator">&amp;&amp;</span> res <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>clusterInfoWindow <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>clusterInfoWindow<span class="token punctuation">.</span><span class="token function">getIsOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            clusterArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
            ele<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              clusterArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            clusterInfoWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">offset</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">anchor</span><span class="token operator">:</span><span class="token string">'bottom-center'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">content</span><span class="token operator">:</span>clusterWindowBoxRef<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
              <span class="token literal-property property">isCustom</span><span class="token operator">:</span><span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            clusterInfoWindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">,</span> <span class="token punctuation">[</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lat<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>rescueCarClusterer <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'rescueCar'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        rescueCarClusterer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// clusterByZoomChange:true,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        rescueCarClusterer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>GDMap<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">20</span> <span class="token operator">&amp;&amp;</span> res <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>clusterInfoWindow <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>clusterInfoWindow<span class="token punctuation">.</span><span class="token function">getIsOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            clusterRescueCarArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
            ele<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              clusterRescueCarArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            clusterInfoWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">offset</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">anchor</span><span class="token operator">:</span><span class="token string">'bottom-center'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">content</span><span class="token operator">:</span>clusterRescueCarWindowBoxRef<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
              <span class="token literal-property property">isCustom</span><span class="token operator">:</span><span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            clusterInfoWindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">,</span> <span class="token punctuation">[</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lat<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>roadCarClusterer <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'roadCar'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        roadCarClusterer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// clusterByZoomChange:true,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        roadCarClusterer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>GDMap<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">20</span> <span class="token operator">&amp;&amp;</span> res <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>clusterInfoWindow <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>clusterInfoWindow<span class="token punctuation">.</span><span class="token function">getIsOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            clusterRoadCarArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
            ele<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              clusterRoadCarArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            clusterInfoWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">offset</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">anchor</span><span class="token operator">:</span><span class="token string">'bottom-center'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">content</span><span class="token operator">:</span>clusterRoadCarWindowBoxRef<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
              <span class="token literal-property property">isCustom</span><span class="token operator">:</span><span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            clusterInfoWindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">,</span> <span class="token punctuation">[</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>ele<span class="token punctuation">.</span>lnglat<span class="token punctuation">.</span>lat<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>eventMarkerClusterer1 <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'levelId'</span> <span class="token operator">&amp;&amp;</span> levelId <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eventMarkerClusterer1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        eventMarkerClusterer1<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token function">toggleClickClusterMarker</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> levelId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>eventMarkerClusterer2 <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'levelId'</span> <span class="token operator">&amp;&amp;</span> levelId <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eventMarkerClusterer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        eventMarkerClusterer2<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token function">toggleClickClusterMarker</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> levelId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>eventMarkerClusterer3 <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'levelId'</span> <span class="token operator">&amp;&amp;</span> levelId <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eventMarkerClusterer3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        eventMarkerClusterer3<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token function">toggleClickClusterMarker</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> levelId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>eventMarkerClusterer4 <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'levelId'</span> <span class="token operator">&amp;&amp;</span> levelId <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eventMarkerClusterer4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        eventMarkerClusterer4<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token function">toggleClickClusterMarker</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> levelId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>eventMarkerClusterer5 <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'levelId'</span> <span class="token operator">&amp;&amp;</span> levelId <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eventMarkerClusterer5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        eventMarkerClusterer5<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token function">toggleClickClusterMarker</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> levelId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>eventMarkerClusterer6 <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'levelId'</span> <span class="token operator">&amp;&amp;</span> levelId <span class="token operator">===</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eventMarkerClusterer6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        eventMarkerClusterer6<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token function">toggleClickClusterMarker</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> levelId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>eventMarkerClusterer10 <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'levelId'</span> <span class="token operator">&amp;&amp;</span> levelId <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eventMarkerClusterer10 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>
          GDMap<span class="token punctuation">,</span>
          markerArr<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">renderClusterMarker</span><span class="token operator">:</span> _renderClusterMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义聚合点样式</span>
            <span class="token literal-property property">renderMarker</span><span class="token operator">:</span> _renderMarker<span class="token punctuation">,</span> <span class="token comment">// 自定义非聚合点样式</span>
            <span class="token literal-property property">gridSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//聚合计算时网格的像素大小</span>
            <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最大的聚合级别</span>
            <span class="token literal-property property">zoomOnClick</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        eventMarkerClusterer10<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">getClustererZoom</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token function">toggleClickClusterMarker</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> levelId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//地图加载重大交通事故地点图标位置</span>
    <span class="token keyword">const</span> accidentMarkerFn <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span> marker <span class="token operator">=</span> <span class="token string">'default'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>marker <span class="token operator">===</span> <span class="token string">'default'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr1<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr2<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr3<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr4<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr5<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr6<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr10<span class="token punctuation">)</span>
          accidentMarkerArr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          accidentMarkerArr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          accidentMarkerArr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          accidentMarkerArr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          accidentMarkerArr5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          accidentMarkerArr6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          accidentMarkerArr10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

          <span class="token comment">// 每次打点都需要清除点聚合对象</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>eventMarkerClusterer1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>eventMarkerClusterer1<span class="token punctuation">)</span>
            eventMarkerClusterer1 <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>eventMarkerClusterer2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>eventMarkerClusterer2<span class="token punctuation">)</span>
            eventMarkerClusterer2 <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>eventMarkerClusterer3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>eventMarkerClusterer3<span class="token punctuation">)</span>
            eventMarkerClusterer3 <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>eventMarkerClusterer4<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>eventMarkerClusterer4<span class="token punctuation">)</span>
            eventMarkerClusterer4 <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>eventMarkerClusterer5<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>eventMarkerClusterer5<span class="token punctuation">)</span>
            eventMarkerClusterer5 <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>eventMarkerClusterer6<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>eventMarkerClusterer6<span class="token punctuation">)</span>
            eventMarkerClusterer6 <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>eventMarkerClusterer10<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>eventMarkerClusterer10<span class="token punctuation">)</span>
            eventMarkerClusterer10 <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// data.push({ //测试数据测试点位置是否准确</span>
        <span class="token comment">//   name:'海珠广场',</span>
        <span class="token comment">//   latitude:'23.115241',</span>
        <span class="token comment">//   longitude:'113.265813',</span>
        <span class="token comment">//   levelId:5</span>
        <span class="token comment">// })</span>

        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 告警事件点的经纬度需要转换</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>lon <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>lat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span>longitude <span class="token operator">=</span> e<span class="token punctuation">.</span>lon
            e<span class="token punctuation">.</span>latitude <span class="token operator">=</span> e<span class="token punctuation">.</span>lat
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>longitude <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 图标嵌入式</span>
            <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token string">''</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>categoryIcon<span class="token punctuation">)</span><span class="token punctuation">{</span>
              content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;
                &lt;img src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/assets/images/roadOverview/map-event-icon</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>dotLevelId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.png</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;/&gt;
                &lt;img style=&quot;position: absolute;top: 2%;left: 22%;width: 18px;height:18px;&quot; src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>categoryIcon<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;/&gt;
              &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;
                &lt;img src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/assets/images/roadOverview/map-event-icon</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>dotLevelId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.png</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;/&gt;
              &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span>
            <span class="token keyword">let</span> accidentMarker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// icon:icon,</span>
              <span class="token literal-property property">content</span><span class="token operator">:</span>content<span class="token punctuation">,</span>
              <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">anchor</span><span class="token operator">:</span><span class="token string">'bottom-center'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span>e<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> e<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token literal-property property">extData</span><span class="token operator">:</span> e
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment">// 信息窗（会有部分点无法展示展示窗的bug）</span>
            <span class="token comment">// let infoWindow = new AMap.InfoWindow({</span>
            <span class="token comment">//   offset: new AMap.Pixel(0, -36),</span>
            <span class="token comment">// })</span>
            <span class="token keyword">let</span> infoWindowObj <span class="token operator">=</span> e
            <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">=</span> <span class="token string">'畅通'</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">==</span> <span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">=</span> <span class="token string">'缓行'</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">==</span> <span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">=</span> <span class="token string">'拥堵'</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">==</span> <span class="token string">'4'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              infoWindowObj<span class="token punctuation">.</span>trafficState <span class="token operator">=</span> <span class="token string">'严重拥堵'</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 易购事件与事件等级打点处理</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>alarmId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 标记点的头部label,用于替代infoWindow</span>
              accidentMarker<span class="token punctuation">.</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">direction</span><span class="token operator">:</span><span class="token string">'top'</span><span class="token punctuation">,</span>
                <span class="token comment">// offset: new AMap.Pixel(110,-100),  //设置文本标注偏移量</span>
                <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div id='test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>alarmId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'  class='accidentLabel'&gt;&lt;div class=&quot;roadOverviewMarkerDialog-title&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>voiceInfo<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;时间：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>createdAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;类型：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
                    infoWindowObj<span class="token punctuation">.</span>alarmDesc <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> infoWindowObj<span class="token punctuation">.</span>alarmDesc
                  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;位置：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
                    infoWindowObj<span class="token punctuation">.</span>locationDesc <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> infoWindowObj<span class="token punctuation">.</span>locationDesc
                  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token comment">// 标记点的头部label,用于替代infoWindow</span>
              accidentMarker<span class="token punctuation">.</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">direction</span><span class="token operator">:</span><span class="token string">'top'</span><span class="token punctuation">,</span>
                <span class="token comment">// offset: new AMap.Pixel(110,-100),  //设置文本标注偏移量</span>
                <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div id='test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">' class='accidentLabel'&gt;&lt;div class=&quot;roadOverviewMarkerDialog-title&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;时间：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>eventTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;类型：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
                    infoWindowObj<span class="token punctuation">.</span>categoryName <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> infoWindowObj<span class="token punctuation">.</span>categoryName
                  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;位置：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
                    infoWindowObj<span class="token punctuation">.</span>locationDesc <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> infoWindowObj<span class="token punctuation">.</span>locationDesc
                  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">let</span> top<span class="token punctuation">,</span>left
            <span class="token keyword">let</span> markerId <span class="token operator">=</span> infoWindowObj<span class="token punctuation">.</span>alarmId <span class="token operator">?</span> infoWindowObj<span class="token punctuation">.</span>alarmId <span class="token operator">:</span>infoWindowObj<span class="token punctuation">.</span>id
            <span class="token comment">// 鼠标移入</span>
            accidentMarker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 对label样式修改并进行展示</span>
              document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token operator">=</span><span class="token string">'display:block;position:absolute;top:-140px;left:-90px;'</span>
              top <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top
              left <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left
              document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">z-index:101;top:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;left:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

              <span class="token comment">// 注册infoWindow内容并展示</span>
              <span class="token comment">// if(clusterInfoWindow){</span>
              <span class="token comment">//   clusterInfoWindow.close()</span>
              <span class="token comment">// }</span>
              <span class="token comment">// let infoWindowContent = `&lt;div &gt;&lt;div class=&quot;roadOverviewMarkerDialog-title&quot;&gt;${infoWindowObj.name}&lt;/div&gt;</span>
              <span class="token comment">//   &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;事件时间：${infoWindowObj.eventTime}&lt;/div&gt;</span>
              <span class="token comment">//   &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;分    类：${</span>
              <span class="token comment">//     infoWindowObj.categoryName == null ? '' : infoWindowObj.categoryName</span>
              <span class="token comment">//   }&lt;/div&gt;</span>
              <span class="token comment">//   &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;桩    号：${</span>
              <span class="token comment">//     infoWindowObj.chaiageNum == null ? '' : infoWindowObj.chaiageNum</span>
              <span class="token comment">//   }&lt;/div&gt;</span>
              <span class="token comment">//   &lt;div class=&quot;roadOverviewMarkerDialog-content mt_10&quot;&gt;交通状况：${infoWindowObj.trafficState}&lt;/div&gt;</span>
              <span class="token comment">//   &lt;/div&gt;`</span>
              <span class="token comment">// console.log('进入',GDMap,infoWindowContent,e.target.getPosition());</span>
              <span class="token comment">// infoWindow.setContent(infoWindowContent)</span>
              <span class="token comment">// infoWindow.open(GDMap, e.target.getPosition())</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token comment">// 鼠标移出</span>
            accidentMarker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 隐藏label</span>
              document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token operator">=</span><span class="token string">'display:none'</span>
              document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>style<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">z-index:100;top:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;left:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

              <span class="token comment">// 关闭infoWindow</span>
              <span class="token comment">// infoWindow.close(GDMap, accidentMarker.getPosition())</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment">// 易购事件与事件等级点击跳转事件详情</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>alarmId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">toYiGouEventDetailsFn</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              accidentMarker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>clusterInfoWindow<span class="token punctuation">)</span><span class="token punctuation">{</span>
                  clusterInfoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token function">toEventDetailsFn</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarkerArr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarkerArr2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarkerArr3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarkerArr4<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarkerArr5<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarkerArr6<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              accidentMarkerArr10<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 处理ws推送过来新增的点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>marker <span class="token operator">===</span> <span class="token string">'addWebSocketMarker'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapObj<span class="token punctuation">.</span>userCoverView<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'4'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'5'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'6'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'1'</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
                eventMarkerClusterer1<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'2'</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
                eventMarkerClusterer2<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'3'</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
                eventMarkerClusterer3<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'4'</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
                eventMarkerClusterer4<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'5'</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
                eventMarkerClusterer5<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'6'</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
                eventMarkerClusterer6<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'10'</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>levelIdCheckedArr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
                eventMarkerClusterer10<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>accidentMarker<span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>marker <span class="token operator">===</span> <span class="token string">'default'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarkerArr1<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarkerArr2<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarkerArr3<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarkerArr4<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarkerArr5<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarkerArr6<span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>accidentMarkerArr10<span class="token punctuation">)</span>
          <span class="token comment">// 点击事件点聚合功能</span>
          <span class="token function">addCluster</span><span class="token punctuation">(</span>accidentMarkerArr1<span class="token punctuation">,</span> <span class="token string">'levelId'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token function">addCluster</span><span class="token punctuation">(</span>accidentMarkerArr2<span class="token punctuation">,</span> <span class="token string">'levelId'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
          <span class="token function">addCluster</span><span class="token punctuation">(</span>accidentMarkerArr3<span class="token punctuation">,</span> <span class="token string">'levelId'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
          <span class="token function">addCluster</span><span class="token punctuation">(</span>accidentMarkerArr4<span class="token punctuation">,</span> <span class="token string">'levelId'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
          <span class="token function">addCluster</span><span class="token punctuation">(</span>accidentMarkerArr5<span class="token punctuation">,</span> <span class="token string">'levelId'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
          <span class="token function">addCluster</span><span class="token punctuation">(</span>accidentMarkerArr6<span class="token punctuation">,</span> <span class="token string">'levelId'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
          <span class="token function">addCluster</span><span class="token punctuation">(</span>accidentMarkerArr10<span class="token punctuation">,</span> <span class="token string">'levelId'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 地图资源设备打点</span>
    <span class="token keyword">const</span> <span class="token function-variable function">drawRoadOverviewMarkerFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 每次打点初始化数据,并且都需要清除点聚合对象</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          mapDetailObj<span class="token punctuation">.</span>mapIconArr11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          mapDetailObj<span class="token punctuation">.</span>mapIconArr9 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rescueCarClusterer <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>rescueCarClusterer<span class="token punctuation">)</span>
          rescueCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>roadCarClusterer <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>roadCarClusterer<span class="token punctuation">)</span>
          roadCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          mapDetailObj<span class="token punctuation">.</span>mapIconArr10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>personMarkerClusterer <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>personMarkerClusterer<span class="token punctuation">)</span>
          personMarkerClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>longitude <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> size <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> icon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Icon</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">image</span><span class="token operator">:</span>e<span class="token punctuation">.</span>birdgeName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>tollGateName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>serviceAreaName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>tunnelName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>cameraName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>portalName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>vmsName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>chainageName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'路政'</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>realName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> e<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'拯救'</span>
                <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// Icon的图像</span>
              <span class="token literal-property property">imageSize</span><span class="token operator">:</span> size<span class="token punctuation">,</span> <span class="token comment">// 根据所设置的大小拉伸或压缩图片</span>
              <span class="token literal-property property">imageOffset</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> name <span class="token operator">=</span> e<span class="token punctuation">.</span>birdgeName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
              <span class="token operator">?</span> e<span class="token punctuation">.</span>birdgeName
              <span class="token operator">:</span> e<span class="token punctuation">.</span>tollGateName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                <span class="token operator">?</span> e<span class="token punctuation">.</span>tollGateName
                <span class="token operator">:</span> e<span class="token punctuation">.</span>serviceAreaName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                  <span class="token operator">?</span> e<span class="token punctuation">.</span>serviceAreaName
                  <span class="token operator">:</span> e<span class="token punctuation">.</span>tunnelName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                    <span class="token operator">?</span> e<span class="token punctuation">.</span>tunnelName
                    <span class="token operator">:</span> e<span class="token punctuation">.</span>cameraName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                      <span class="token operator">?</span> e<span class="token punctuation">.</span>cameraName
                      <span class="token operator">:</span> e<span class="token punctuation">.</span>portalName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                        <span class="token operator">?</span> e<span class="token punctuation">.</span>portalName
                        <span class="token operator">:</span> e<span class="token punctuation">.</span>vmsName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                          <span class="token operator">?</span> e<span class="token punctuation">.</span>vmsName
                          <span class="token operator">:</span> e<span class="token punctuation">.</span>chainageName <span class="token operator">!=</span> <span class="token keyword">undefined</span>
                            <span class="token operator">?</span> e<span class="token punctuation">.</span>chainageName<span class="token operator">:</span><span class="token string">''</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'路政'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;markerBox&quot;&gt;
                &lt;img src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>accState <span class="token operator">==</span> <span class="token string">'熄火'</span> <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">:</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; class=&quot;markerImage&quot;/&gt;
              &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
              mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">content</span><span class="token operator">:</span> content<span class="token punctuation">,</span>
                <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span>e<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> e<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// anchor:'bottom-center',</span>
                <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token literal-property property">extData</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>

              <span class="token comment">// 10秒刷新获取路政接口轨迹动画,lineArrLength等于4则经纬度有变化</span>
              <span class="token keyword">const</span> lineArr <span class="token operator">=</span> mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr
              <span class="token keyword">const</span> lineArrLength <span class="token operator">=</span> <span class="token function">getTwoArrNum</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr<span class="token punctuation">)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>lineArrLength <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'路政：有经纬度变化'</span><span class="token punctuation">)</span>
                <span class="token keyword">const</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token literal-property property">content</span><span class="token operator">:</span> content<span class="token punctuation">,</span>
                  <span class="token literal-property property">position</span><span class="token operator">:</span> lineArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">extData</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                mapDetailObj<span class="token punctuation">.</span>roadLineMarkerArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span>
                <span class="token comment">// 移动资源点并删除旧的坐标点</span>
                mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">moveAlong</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
                mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">===</span> mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token comment">// 每次打完资源点需要设置数据到缓存区中，便于下次对比经纬度进行轨迹动画</span>
                sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'roadCarData'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>realName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;markerBox&quot;&gt;
                &lt;img src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; class=&quot;markerImage&quot;/&gt;
              &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
              <span class="token comment">// let content = `&lt;div class=&quot;personnel-map-box pr&quot;&gt;&lt;span class=&quot;personnel-map-box-item pa&quot;&gt;${e.realName}&lt;/span&gt;&lt;/div&gt;`</span>
              mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">content</span><span class="token operator">:</span> content<span class="token punctuation">,</span>
                <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span>e<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> e<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// anchor:'bottom-center',</span>
                <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token literal-property property">extData</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>

              <span class="token comment">// 10秒刷新获取人员接口轨迹动画,lineArrLength等于4则经纬度有变化</span>
              <span class="token keyword">const</span> lineArr <span class="token operator">=</span> mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr
              <span class="token keyword">const</span> lineArrLength <span class="token operator">=</span> <span class="token function">getTwoArrNum</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr<span class="token punctuation">)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>lineArrLength <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'人员：有经纬度变化'</span><span class="token punctuation">)</span>
                <span class="token keyword">const</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token literal-property property">content</span><span class="token operator">:</span> content<span class="token punctuation">,</span>
                  <span class="token literal-property property">position</span><span class="token operator">:</span> lineArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">extData</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                mapDetailObj<span class="token punctuation">.</span>personnelMarkerArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span>
                <span class="token comment">// 移动资源点并删除旧的坐标点</span>
                mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">moveAlong</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
                mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>realName <span class="token operator">===</span> mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>realName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token comment">// 每次打完资源点需要设置数据到缓存区中，便于下次对比经纬度进行轨迹动画</span>
                sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'personnelData'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'拯救'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;markerBox&quot;&gt;
                &lt;img src=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>accState <span class="token operator">==</span> <span class="token string">'熄火'</span> <span class="token operator">?</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">:</span> mapIconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; class=&quot;markerImage&quot;/&gt;
              &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
              mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">content</span><span class="token operator">:</span> content<span class="token punctuation">,</span>
                <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span>e<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> e<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// anchor:'bottom-center',</span>
                <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token literal-property property">extData</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>

              <span class="token comment">// 10秒刷新获取救援车接口轨迹动画,lineArrLength等于4则经纬度有变化</span>
              <span class="token keyword">const</span> lineArr <span class="token operator">=</span> mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr
              <span class="token keyword">const</span> lineArrLength <span class="token operator">=</span> <span class="token function">getTwoArrNum</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr<span class="token punctuation">)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>lineArrLength <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'救援车：有经纬度变化'</span><span class="token punctuation">)</span>
                <span class="token keyword">const</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token literal-property property">content</span><span class="token operator">:</span> content<span class="token punctuation">,</span>
                  <span class="token literal-property property">position</span><span class="token operator">:</span> lineArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">extData</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                mapDetailObj<span class="token punctuation">.</span>rescueLineMarkerArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span>
                GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span>
                <span class="token comment">// 移动资源点并删除旧的坐标点</span>
                mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">moveAlong</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>lineArr<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
                mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">===</span> mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token comment">// 每次打完资源点需要设置数据到缓存区中，便于下次对比经纬度进行轨迹动画</span>
                sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'rescueCarData'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> icon<span class="token punctuation">,</span>
                <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span>e<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> e<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">anchor</span><span class="token operator">:</span><span class="token string">'bottom-center'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token literal-property property">extData</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">let</span> labelObj <span class="token operator">=</span> e
            <span class="token keyword">let</span> labelContent <span class="token operator">=</span> <span class="token string">''</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>labelObj<span class="token punctuation">.</span>realName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              labelContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;theLabel </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">changeLabel</span><span class="token punctuation">(</span>labelObj<span class="token punctuation">.</span>realName<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>labelObj<span class="token punctuation">.</span>realName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>labelObj<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'路政'</span> <span class="token operator">||</span> labelObj<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'拯救'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              labelContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">changeLabel</span><span class="token punctuation">(</span>labelObj<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> theLabel&quot;&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>labelObj<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                  &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
                labelContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class=&quot;theLabel&quot;&gt;&lt;div class=&quot;roadOverviewMarkerDialog-content&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
              &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span>

            mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">//设置文本标注偏移量</span>
                <span class="token literal-property property">content</span><span class="token operator">:</span> labelContent<span class="token punctuation">,</span> <span class="token comment">//设置文本标注内容</span>
                <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span> <span class="token comment">//设置文本标注方位</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> infoWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">36</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> infoWindowObj <span class="token operator">=</span> e
            mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> infoWindowContent <span class="token operator">=</span> <span class="token string">''</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>realName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                infoWindowContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content&quot;&gt;部门：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>orgName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;姓名：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>realName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;状态：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>workStatus_dictText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;电话：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>phone<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
              <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>infoWindowObj<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'路政'</span> <span class="token operator">||</span> infoWindowObj<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'拯救'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                infoWindowContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content&quot;&gt;车牌号：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>vlp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;车辆编号：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;类型：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>jobType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;状态：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">'dispose'</span> <span class="token operator">?</span> <span class="token string">'忙碌'</span><span class="token operator">:</span> <span class="token string">'空闲'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;方向：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>direction<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;绑定人员：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>curentUserName <span class="token operator">||</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;GPS时间：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>gpsTime <span class="token operator">||</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;div class=&quot;roadOverviewMarkerDialog-content mt_6&quot;&gt;acc状态：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infoWindowObj<span class="token punctuation">.</span>accState <span class="token operator">==</span> <span class="token string">'点火'</span> <span class="token operator">?</span> <span class="token string">'点火'</span> <span class="token operator">:</span> infoWindowObj<span class="token punctuation">.</span>accState <span class="token operator">==</span> <span class="token string">'熄火'</span> <span class="token operator">?</span> <span class="token string">'熄火'</span> <span class="token operator">:</span> <span class="token string">'暂无车辆状态'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
              <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                  infoWindowContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div &gt;&lt;div class=&quot;roadOverviewMarkerDialog-title&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
                &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
              <span class="token punctuation">}</span>
              infoWindow<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>infoWindowContent<span class="token punctuation">)</span>
              infoWindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              infoWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>GDMap<span class="token punctuation">,</span> mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">const</span> extData <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">getExtData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token comment">////console.log('extData:', extData)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>extData<span class="token punctuation">.</span>chainageName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                yiGouObj<span class="token punctuation">.</span>isMileageDetailShow <span class="token operator">=</span> <span class="token boolean">true</span>
                yiGouObj<span class="token punctuation">.</span>mileageId <span class="token operator">=</span> extData<span class="token punctuation">.</span>chainageCode
                <span class="token comment">////console.log('chainageCode:', yiGouObj.mileageId)</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>extData<span class="token punctuation">.</span>vmsName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                yiGouObj<span class="token punctuation">.</span>isInfoDetailShow <span class="token operator">=</span> <span class="token boolean">true</span>
                yiGouObj<span class="token punctuation">.</span>infoId <span class="token operator">=</span> extData<span class="token punctuation">.</span>vmsCode
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>extData<span class="token punctuation">.</span>portalName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                yiGouObj<span class="token punctuation">.</span>isGantryDetailsShow <span class="token operator">=</span> <span class="token boolean">true</span>
                yiGouObj<span class="token punctuation">.</span>gantryId <span class="token operator">=</span> extData<span class="token punctuation">.</span>portalCode
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>extData<span class="token punctuation">.</span>cameraName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                yiGouObj<span class="token punctuation">.</span>isVideoWindowShow <span class="token operator">=</span> <span class="token boolean">true</span>
                yiGouObj<span class="token punctuation">.</span>cameraNum <span class="token operator">=</span> extData<span class="token punctuation">.</span>cameraCode
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>birdgeName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>tollGateName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>serviceAreaName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>tunnelName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr4<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>cameraName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr5<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>portalName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr6<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>vmsName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr7<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>chainageName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr8<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'路政'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>realName <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>jobType <span class="token operator">===</span> <span class="token string">'拯救'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadOverviewMarker<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'gateInfo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> middleIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token punctuation">[</span>data<span class="token punctuation">[</span>middleIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> data<span class="token punctuation">[</span>middleIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token comment">// GDMap.setZoom(10.36)</span>
          GDMap<span class="token punctuation">.</span><span class="token function">setZoom</span><span class="token punctuation">(</span><span class="token number">11.97</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 点击路政车聚合功能</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// addCluster(mapDetailObj.mapIconArr9, 'roadCar')</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 点击人员点聚合功能</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// addCluster(mapDetailObj.mapIconArr10, 'person')</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 点击救援车聚合功能</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// addCluster(mapDetailObj.mapIconArr11, 'rescueCar')</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 点击资源设备分段打点</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getPartDrawMarker</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">resourceData<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> resourceDataLength <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>resourceData<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> resourceDataLength<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> resourceTimer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">drawRoadOverviewMarkerFn</span><span class="token punctuation">(</span>resourceData<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        resourceTimerArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>resourceTimer<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token function">drawRoadOverviewMarkerFn</span><span class="token punctuation">(</span>resourceData<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>resourceDataLength <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> resourceData<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 清除资源设备分段打点定时器</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clearPartDrawMarkerTimer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>resourceTimerArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        resourceTimerArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token function">clearTimeout</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        resourceTimerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 桥梁</span>
    <span class="token keyword">const</span> <span class="token function-variable function">bridgeClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightBuleIcon1Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon1Boole
      <span class="token comment">////console.log('isRightBuleIcon1Boole:', mapObj.isRightBuleIcon1Boole)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon1Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>informationArr1<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr1<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 收费站</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rightBlueIcon2Click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightBuleIcon2Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon2Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon2Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>informationArr2<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr2<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 服务区</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rightBlueIcon3Click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightBuleIcon3Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon3Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon3Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>informationArr3<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr3<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 隧道</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rightBlueIcon4Click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightBuleIcon4Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon4Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightBuleIcon4Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>informationArr4<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr4<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 摄像枪</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rightGreenIcon1Click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightGreenIcon1Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon1Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon1Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>equipmentArr1<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr5<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 门架</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rightGreenIcon2Click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightGreenIcon2Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon2Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon2Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>equipmentArr2<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr6<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 情报板</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rightGreenIcon3Click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightGreenIcon3Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon3Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon3Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>equipmentArr3<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr7<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 里程桩</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rightGreenIcon4Click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightGreenIcon4Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon4Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightGreenIcon4Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// drawRoadOverviewMarkerFn(mapObj.equipmentArr4)</span>
        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>equipmentArr4<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr8<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 救援车</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rescueCarClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getRescueCarListApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 地图增加救援车定位信息</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">clearRescueCarData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 路政车</span>
    <span class="token keyword">const</span> <span class="token function-variable function">roadCarClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getRoadCarListApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 地图增加路政车定位信息</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">clearRoadCarData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 人员</span>
    <span class="token keyword">const</span> <span class="token function-variable function">personnelClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole <span class="token operator">=</span> <span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getOperatorLocationListApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 获取app人员定位信息</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">clearPersonnelData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 跳转到事件详情页面</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toEventDetailsFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>isVisualization<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'item'</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span>
        <span class="token comment">// 事件状态为已知、执勤/作业、消散、误报点击列表和打点跳回告警弹窗</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> paramas <span class="token operator">=</span> item<span class="token punctuation">.</span>id
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>rescueNumber <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            paramas <span class="token operator">=</span> item<span class="token punctuation">.</span>rescueNumber
          <span class="token punctuation">}</span>
          <span class="token function">getYiGouEventDataApi</span><span class="token punctuation">(</span>paramas<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>result <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">const</span> eventData <span class="token operator">=</span> data<span class="token punctuation">.</span>result
              <span class="token function">toYiGouEventDetailsFn</span><span class="token punctuation">(</span>eventData<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">'告警弹窗数据对象为空'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        <span class="token function">setStorage</span><span class="token punctuation">(</span><span class="token string">&quot;isClickMenu&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setStorage</span><span class="token punctuation">(</span><span class="token string">&quot;isClickEvent&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> menuTba <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>menuTba<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>menuTba <span class="token operator">:</span> <span class="token function">getStorage</span><span class="token punctuation">(</span><span class="token string">'tabMenuDatas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Panes
        <span class="token keyword">let</span> eventDetailRoute <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">key</span><span class="token operator">:</span> menuTba<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/scheduling-page/eventDetails2?eventId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;name=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> isCun <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token comment">// 删除所有的activeKey</span>
        menuTba<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">delete</span> item<span class="token punctuation">.</span>activeKey
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        menuTba<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">menuItem<span class="token punctuation">,</span> menuIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">delete</span> menuItem<span class="token punctuation">.</span>activeKey
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>id <span class="token operator">===</span> menuItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            eventDetailRoute<span class="token punctuation">.</span>key <span class="token operator">=</span> menuIndex <span class="token operator">+</span> <span class="token number">1</span>
            eventDetailRoute<span class="token punctuation">[</span><span class="token string">'activeKey'</span><span class="token punctuation">]</span> <span class="token operator">=</span> menuIndex <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token function">setStorage</span><span class="token punctuation">(</span><span class="token string">&quot;eventActiveKey&quot;</span><span class="token punctuation">,</span> menuIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
            menuTba<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>menuIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            isCun <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isCun<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          menuTba<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>eventDetailRoute<span class="token punctuation">.</span>key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> eventDetailRoute<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          menuTba<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>eventDetailRoute<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>eventDetailRoute<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;setMenuTba&quot;</span><span class="token punctuation">,</span> menuTba<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 大屏打开事件详情</span>
        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;eventDetailsData&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span>item<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 跳转到告警弹窗的事件详情页面</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toYiGouEventDetailsFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> detail <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'detail'</span><span class="token punctuation">,</span> detail<span class="token punctuation">)</span>
      window<span class="token punctuation">.</span><span class="token function">openEventDetailBySourceData</span><span class="token punctuation">(</span>detail<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 事件列表搜索</span>
    <span class="token keyword">const</span> <span class="token function-variable function">inputSearchFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      eventPageNo<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
      mapObj<span class="token punctuation">.</span>eventList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">inputChangeFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">////console.log('inputChangeFn-e:', e.target.value)</span>
      mapObj<span class="token punctuation">.</span>inputSearchValue <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>

    <span class="token comment">//根据路段画线路</span>
    <span class="token keyword">const</span> <span class="token function-variable function">_drawPolylineFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tmcs<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">//画地图线路</span>
      <span class="token comment">// console.log('触发了多次？');</span>
      <span class="token comment">// let tmcsLength = 0</span>
      <span class="token comment">// tmcsLength = tmcs.length</span>
      <span class="token keyword">let</span> colorArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'#04D099'</span><span class="token punctuation">,</span> <span class="token string">'#FFCC00'</span><span class="token punctuation">,</span> <span class="token string">'#FF0033'</span><span class="token punctuation">,</span> <span class="token string">'#660033'</span><span class="token punctuation">]</span>
        <span class="token comment">// pathArr = []</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>tmcs<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// tmcs.forEach(item =&gt; {</span>
        <span class="token comment">//   item.forEach((el,index) =&gt;{</span>
        <span class="token comment">//     let polylineColor =</span>
        <span class="token comment">//     el.tmc_status == '畅通'</span>
        <span class="token comment">//       ? colorArr[0]</span>
        <span class="token comment">//       : el.tmc_status == '缓行'</span>
        <span class="token comment">//       ? colorArr[1]</span>
        <span class="token comment">//       : el.tmc_status == '拥堵'</span>
        <span class="token comment">//       ? colorArr[2]</span>
        <span class="token comment">//       : el.tmc_status == '严重拥堵'</span>
        <span class="token comment">//       ? colorArr[3]</span>
        <span class="token comment">//       : colorArr[0]</span>

        <span class="token comment">//     if (el.tmc_polyline_arr.length &gt; 0) {</span>
        <span class="token comment">//     let polyline = new AMap.Polyline({</span>
        <span class="token comment">//       path: el.tmc_polyline_arr,</span>
        <span class="token comment">//       borderWeight: 2, // 描边的宽度，默认为1</span>
        <span class="token comment">//       strokeWeight: 5, // 线条宽度</span>
        <span class="token comment">//       strokeColor: polylineColor, // 线条颜色</span>
        <span class="token comment">//       lineJoin: 'round', // 折线拐点连接处样式</span>
        <span class="token comment">//       lineCap: 'round', //圆头</span>
        <span class="token comment">//       isOutline: true, // 线条是否带描边</span>
        <span class="token comment">//       outlineColor: polylineColor, //线条描边颜色</span>
        <span class="token comment">//       zIndex: 10,</span>
        <span class="token comment">//     })</span>
        <span class="token comment">//     mapObj.polylineArr.push(polyline)</span>
        <span class="token comment">//   }</span>
        <span class="token comment">//   })</span>
        <span class="token comment">// });</span>
        <span class="token comment">// GDMap.add(mapObj.polylineArr)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tmcs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> polylineColor <span class="token operator">=</span>
            tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'畅通'</span>
              <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
              <span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'缓行'</span>
              <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
              <span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'拥堵'</span>
              <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
              <span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'严重拥堵'</span>
              <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
              <span class="token operator">:</span> colorArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_polyline_arr<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> polyline <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Polyline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">path</span><span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_polyline_arr<span class="token punctuation">,</span>
              <span class="token literal-property property">borderWeight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 描边的宽度，默认为1</span>
              <span class="token literal-property property">strokeWeight</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 线条宽度</span>
              <span class="token literal-property property">strokeColor</span><span class="token operator">:</span> polylineColor<span class="token punctuation">,</span> <span class="token comment">// 线条颜色</span>
              <span class="token literal-property property">lineJoin</span><span class="token operator">:</span> <span class="token string">'round'</span><span class="token punctuation">,</span> <span class="token comment">// 折线拐点连接处样式</span>
              <span class="token literal-property property">lineCap</span><span class="token operator">:</span> <span class="token string">'round'</span><span class="token punctuation">,</span> <span class="token comment">//圆头</span>
              <span class="token literal-property property">isOutline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 线条是否带描边</span>
              <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> polylineColor<span class="token punctuation">,</span> <span class="token comment">//线条描边颜色</span>
              <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
              <span class="token literal-property property">strokeOpacity</span><span class="token operator">:</span> <span class="token number">0.3</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>polyline<span class="token punctuation">)</span>
            GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        type<span class="token operator">++</span>
        <span class="token keyword">let</span> loopFnTimer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">_loopFn</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span> <span class="token comment">//分段渲染 先渲染一部分 避免数据量过大 导致地图卡顿</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> mapObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            loopFnTimerArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">clearTimeout</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            loopFnTimerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        loopFnTimerArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>loopFnTimer<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">_loopFn</span><span class="token punctuation">(</span><span class="token parameter">lineRoadData<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">&lt;</span> mapObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">_drawPolylineFn</span><span class="token punctuation">(</span>lineRoadData<span class="token punctuation">,</span> type<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 默认所有机构的sysOrgCode</span>
    <span class="token keyword">let</span> sysOrgCode <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>orgBeanList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> item<span class="token punctuation">.</span>orgCode
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
    <span class="token comment">// 如果大屏多机构默认选第一个</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>isVisualization<span class="token punctuation">)</span><span class="token punctuation">{</span>
      sysOrgCode <span class="token operator">=</span> props<span class="token punctuation">.</span>sysCodeVal
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>sysCodeVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 监听大屏机构变化</span>
    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>sysCodeVal<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span>old</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      sysOrgCode <span class="token operator">=</span> val
      <span class="token comment">// 获取地图编码、打点数据、事件列表数据</span>
      <span class="token function">reFreshEventList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 每次更换机构重新获取路线数据</span>
      <span class="token function">getSectionInfoApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 清除上一个定时器重新5分钟刷新一次路线接口</span>
      <span class="token function">circulateSection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 1.1.协同调度平台-获取地图信息    画线路</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getSectionInfoApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">getSectionInfoApi</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span> sysOrgCode <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// console.log('getSectionInfoApi-data:', data)</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 初始化路线数据</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">)</span>
              mapDetailObj<span class="token punctuation">.</span>polylineArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// mapObj.mapLineData = result.tmcs</span>
            <span class="token comment">// mapObj.mapLineData = sliceArrFn(result.tmcs,100)</span>
            mapObj<span class="token punctuation">.</span>mapLineData <span class="token operator">=</span> result<span class="token punctuation">.</span>tmcsList
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//画线路</span>
              <span class="token function">_loopFn</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token comment">////console.log('mapObj.mapLineData:', mapObj.mapLineData)</span>
            <span class="token comment">// 设置中心点</span>
            mapObj<span class="token punctuation">.</span>centerPoint <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>centerPoint
            GDMap<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>centerPoint<span class="token punctuation">)</span>
            <span class="token comment">// 设置zoom值</span>
            mapObj<span class="token punctuation">.</span>maxDistance <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>maxDistance
            <span class="token function">getZoom</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>maxDistance<span class="token punctuation">,</span> GDMap<span class="token punctuation">)</span>
            <span class="token comment">// GDMap.setZoom(11)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 1.3.协同调度平台-确认事件</span>
    <span class="token keyword">const</span> <span class="token function-variable function">confirmEventApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> id<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
      <span class="token function">confirmEventApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">////console.log('confirmEventApiFn-data:', data)</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 1.4.协同调度平台-获取已确认事件信息</span>
    <span class="token keyword">const</span> <span class="token function-variable function">queryConfirmedEventApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pageNo<span class="token punctuation">,</span>pageSize</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">highwayCode</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>sectionIdArr<span class="token punctuation">,</span>
        <span class="token literal-property property">orgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>inputSearchValue<span class="token punctuation">,</span>
        <span class="token literal-property property">eventStatus</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>eventStatus<span class="token punctuation">,</span>
        <span class="token comment">// pageNo: eventPageNo.value,</span>
        <span class="token comment">// pageSize: 20,</span>
        <span class="token literal-property property">pageNo</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>isWebsockSign <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> eventPageNo<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
        <span class="token literal-property property">pageSize</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>isWebsockSign <span class="token operator">?</span> eventPageNo<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
      <span class="token function">queryConfirmedEventApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// console.log('queryConfirmedEventApiFn-data:',data)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mapObj.isWebsockSign'</span><span class="token punctuation">,</span> mapObj<span class="token punctuation">.</span>isWebsockSign<span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isWebsockSign<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mapObj<span class="token punctuation">.</span>eventList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>mapObj<span class="token punctuation">.</span>eventList<span class="token punctuation">,</span> <span class="token operator">...</span>result<span class="token punctuation">.</span>records<span class="token punctuation">]</span>
            eventTotal<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">.</span>total
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 查看当前状态下</span>
            mapObj<span class="token punctuation">.</span>newEventList <span class="token operator">=</span> result<span class="token punctuation">.</span>records
            <span class="token keyword">if</span> <span class="token punctuation">(</span>eventPageNo<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>total <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              eventPageNo<span class="token punctuation">.</span>value <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>total <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eventPageNo.value'</span><span class="token punctuation">,</span> eventPageNo<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token comment">// 判断事件列表数据是否有变化，有则flag为false并重新渲染列表</span>
            flag <span class="token operator">=</span> <span class="token function">compareArr</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>eventList<span class="token punctuation">,</span> mapObj<span class="token punctuation">.</span>newEventList<span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'flag'</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapObj<span class="token punctuation">.</span>eventList <span class="token operator">=</span> mapObj<span class="token punctuation">.</span>newEventList
            <span class="token punctuation">}</span>
            <span class="token comment">// 事件相同id的需要替换右上角消息总数</span>
            mapObj<span class="token punctuation">.</span>eventList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">oldItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              mapObj<span class="token punctuation">.</span>newEventList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">newItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>oldItem<span class="token punctuation">.</span>id <span class="token operator">===</span> newItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  oldItem<span class="token punctuation">.</span>unreadMessage <span class="token operator">=</span> newItem<span class="token punctuation">.</span>unreadMessage
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            mapObj<span class="token punctuation">.</span>isWebsockSign <span class="token operator">=</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>

          <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 获取水平移动的标签的长度</span>
            <span class="token keyword">let</span> doms <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;isLevelMove&quot;</span><span class="token punctuation">)</span>
            mapObj<span class="token punctuation">.</span>eventList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>isMove <span class="token operator">=</span> doms<span class="token operator">?</span>doms<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">?.</span>offsetWidth <span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 1.5.协同调度平台-统计事件信息</span>
    <span class="token keyword">const</span> <span class="token function-variable function">queryEventInfoV2ApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 新版首页获取打点数据</span>
      <span class="token function">queryEventInfoV2Api</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>sectionIdArr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>eventLeveloOrStatusList
          <span class="token comment">// console.log('mapObj.eventLeveloOrStatusList', mapObj.eventLeveloOrStatusList)</span>
          <span class="token function">handleEventLeveloOrStatusList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 1.6.协同调度平台-获取信息资源基础信息(地图打点)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getInfoApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">highwayCode</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>sectionIdArr<span class="token punctuation">,</span>
        <span class="token literal-property property">orgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
      <span class="token function">getInfoApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">////console.log('getInfoApiFn-data:', data)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          mapObj<span class="token punctuation">.</span>informationArr1 <span class="token operator">=</span> result<span class="token punctuation">.</span>bridgeInfo <span class="token comment">//桥梁</span>
          mapObj<span class="token punctuation">.</span>informationArr2 <span class="token operator">=</span> result<span class="token punctuation">.</span>gateInfo <span class="token comment">//收费站</span>
          mapObj<span class="token punctuation">.</span>informationArr3 <span class="token operator">=</span> result<span class="token punctuation">.</span>serviceAreaInfo <span class="token comment">//服务区</span>
          mapObj<span class="token punctuation">.</span>informationArr4 <span class="token operator">=</span> result<span class="token punctuation">.</span>tunnelInfo <span class="token comment">//隧道</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 1.7.协同调度平台-获取设施设备基础信息</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getFacilitiesApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">highwayCode</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>sectionIdArr<span class="token punctuation">,</span>
        <span class="token literal-property property">orgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
      <span class="token function">getFacilitiesApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">////console.log('getFacilitiesApiFn-data:', data)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          mapObj<span class="token punctuation">.</span>equipmentArr1 <span class="token operator">=</span> result<span class="token punctuation">.</span>cameraInfo <span class="token comment">//摄像枪</span>
          mapObj<span class="token punctuation">.</span>equipmentArr2 <span class="token operator">=</span> result<span class="token punctuation">.</span>portalInfo <span class="token comment">//门架</span>
          mapObj<span class="token punctuation">.</span>equipmentArr3 <span class="token operator">=</span> result<span class="token punctuation">.</span>vmsInfo <span class="token comment">//情报板</span>
          mapObj<span class="token punctuation">.</span>equipmentArr4 <span class="token operator">=</span> result<span class="token punctuation">.</span>chainageInfo <span class="token comment">//里程桩</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 地图增加app人员定位信息</span>
    <span class="token keyword">let</span> personnelTimer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getOperatorLocationListApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// let parameter = {</span>
      <span class="token comment">//   highwayCode: mapObj.sectionIdArr,</span>
      <span class="token comment">//   orgCode: sysOrgCode</span>
      <span class="token comment">// }</span>
      <span class="token function">getOperatorLocationListApi</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span>sysOrgCode<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">////console.log('getOperatorLocationListApiFn-data:', data)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>records
          <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>lnglat <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>item<span class="token punctuation">.</span>lat<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            mapObj<span class="token punctuation">.</span>personnelData <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token operator">=&gt;</span>x<span class="token punctuation">.</span>realName<span class="token punctuation">)</span> <span class="token comment">// 人员</span>
            <span class="token comment">// 遍历人员数据，统一经纬度字段</span>
            <span class="token keyword">const</span> personnelData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'personnelData'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'personnelData'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token comment">// 判断是否经纬度有更新的数据</span>
            mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>longitude <span class="token operator">=</span> item<span class="token punctuation">.</span>lng
              item<span class="token punctuation">.</span>latitude <span class="token operator">=</span> item<span class="token punctuation">.</span>lat
              item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
              personnelData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">oldItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>realName <span class="token operator">===</span> oldItem<span class="token punctuation">.</span>realName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>lng <span class="token operator">!==</span> oldItem<span class="token punctuation">.</span>lng <span class="token operator">||</span> item<span class="token punctuation">.</span>lat <span class="token operator">!==</span> oldItem<span class="token punctuation">.</span>lat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>oldItem<span class="token punctuation">.</span>lnglat<span class="token punctuation">,</span> item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
                    <span class="token comment">// 每次进来都要检查数据中的数据是否有经纬度的变化，变化了则需要轨迹动画</span>
                    mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">markerItem<span class="token punctuation">,</span> markerIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                      <span class="token keyword">if</span> <span class="token punctuation">(</span>markerItem<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>realName <span class="token operator">==</span> item<span class="token punctuation">.</span>realName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
                        mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                        mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>markerIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                        <span class="token comment">// 重新进行打点</span>
                        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment">// 10s轮询需要对比数据是否有发生变化</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'Polling'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> oldCodeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token keyword">let</span> newCodeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              personnelData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                oldCodeArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>realName<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>realName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  newCodeArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>realName<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token keyword">const</span> changeCodeArr <span class="token operator">=</span> <span class="token function">compareArrChange</span><span class="token punctuation">(</span>oldCodeArr<span class="token punctuation">,</span> newCodeArr<span class="token punctuation">)</span>
              <span class="token keyword">const</span> addArr <span class="token operator">=</span> changeCodeArr<span class="token punctuation">.</span>add
              <span class="token keyword">const</span> delArr <span class="token operator">=</span> changeCodeArr<span class="token punctuation">.</span>del
              <span class="token comment">// 新获取的数组新增了数据，需要更新缓存及新增地图坐标点</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>addArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  addArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">addItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>realName <span class="token operator">==</span> addItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                      <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                      <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token comment">// 新获取的数组少了删除数据，需要更新缓存及删除地图坐标点</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>delArr <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  delArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">delItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>realName <span class="token operator">==</span> delItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      <span class="token comment">// 地图上找出该点进行删除</span>
                      mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">markerItem<span class="token punctuation">,</span> markerIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>markerItem<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>realName <span class="token operator">==</span> delItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
                          mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                          mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>markerIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">)</span>
                      mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'人员changeRealNameArr：'</span><span class="token punctuation">,</span> changeCodeArr<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 每次打完资源点需要设置数据到缓存区中，便于下次对比经纬度进行轨迹动画</span>
            sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'personnelData'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>personnelData<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 以防止接口请求过慢时用户取消了勾选数据还显示在页面上</span>
          <span class="token function">clearPersonnelData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token comment">// 旧数据人员有数据10秒刷新一次请求</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>personnelTimer<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>personnelTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            personnelTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          personnelTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>personMarkerClusterer <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapObj<span class="token punctuation">.</span>personnelData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>personMarkerClusterer<span class="token punctuation">)</span>
              personMarkerClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
            <span class="token punctuation">}</span>
            <span class="token function">getOperatorLocationListApiFn</span><span class="token punctuation">(</span><span class="token string">'Polling'</span><span class="token punctuation">)</span> <span class="token comment">// 获取app人员定位信息</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          mapObj<span class="token punctuation">.</span>personnelData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 地图增加救援车定位信息</span>
    <span class="token keyword">let</span> rescueCarTimer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getRescueCarListApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">getRescueCarListApi</span><span class="token punctuation">(</span>sysOrgCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>lnglat <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>item<span class="token punctuation">.</span>lat<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            mapObj<span class="token punctuation">.</span>rescueCarData <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token operator">=&gt;</span>x<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token comment">// 救援车</span>
            <span class="token comment">// 遍历救援车数据，统一经纬度字段</span>
            <span class="token keyword">const</span> rescueCarData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'rescueCarData'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'rescueCarData'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token comment">// 判断是否经纬度有更新的数据</span>
            mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>longitude <span class="token operator">=</span> item<span class="token punctuation">.</span>lng
              item<span class="token punctuation">.</span>latitude <span class="token operator">=</span> item<span class="token punctuation">.</span>lat
              item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
              rescueCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">oldItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">===</span> oldItem<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token comment">// 每次进来都要检查数据中的数据是否有经纬度的变化，变化了则需要轨迹动画</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>lng <span class="token operator">!==</span> oldItem<span class="token punctuation">.</span>lng <span class="token operator">||</span> item<span class="token punctuation">.</span>lat <span class="token operator">!==</span> oldItem<span class="token punctuation">.</span>lat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>oldItem<span class="token punctuation">.</span>lnglat<span class="token punctuation">,</span> item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
                    mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">markerItem<span class="token punctuation">,</span> markerIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                      <span class="token keyword">if</span> <span class="token punctuation">(</span>markerItem<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>code <span class="token operator">==</span> item<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
                        mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                        mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>markerIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                        <span class="token comment">// 重新进行打点</span>
                        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment">// 10s轮询需要对比数据是否有发生变化</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'Polling'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> oldCodeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token keyword">let</span> newCodeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              rescueCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                oldCodeArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  newCodeArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token keyword">const</span> changeCodeArr <span class="token operator">=</span> <span class="token function">compareArrChange</span><span class="token punctuation">(</span>oldCodeArr<span class="token punctuation">,</span> newCodeArr<span class="token punctuation">)</span>
              <span class="token keyword">const</span> addArr <span class="token operator">=</span> changeCodeArr<span class="token punctuation">.</span>add
              <span class="token keyword">const</span> delArr <span class="token operator">=</span> changeCodeArr<span class="token punctuation">.</span>del
              <span class="token comment">// 新获取的数组新增了数据，需要更新缓存及新增地图坐标点</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>addArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  addArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">addItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">==</span> addItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                      <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                      <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token comment">// 新获取的数组少了删除数据，需要更新缓存及删除地图坐标点</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>delArr <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  delArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">delItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">==</span> delItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      <span class="token comment">// 地图上找出该点进行删除</span>
                      mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">markerItem<span class="token punctuation">,</span> markerIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>markerItem<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>code <span class="token operator">==</span> delItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
                          mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                          mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>markerIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">)</span>
                      mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'救援车changeCodeArr：'</span><span class="token punctuation">,</span> changeCodeArr<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 每次打完资源点需要设置数据到缓存区中，便于下次对比经纬度进行轨迹动画</span>
            sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'rescueCarData'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>rescueCarData<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 以防止接口请求过慢时用户取消了勾选数据还显示在页面上</span>
          <span class="token function">clearRescueCarData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token comment">// 旧数据救援车有数据10秒刷新一次请求</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>rescueCarTimer<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>rescueCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            rescueCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          rescueCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rescueCarClusterer <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapObj<span class="token punctuation">.</span>rescueCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>rescueCarClusterer<span class="token punctuation">)</span>
              rescueCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
            <span class="token punctuation">}</span>
            <span class="token function">getRescueCarListApiFn</span><span class="token punctuation">(</span><span class="token string">'Polling'</span><span class="token punctuation">)</span> <span class="token comment">// 地图增加救援车定位信息</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          mapObj<span class="token punctuation">.</span>rescueCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 地图增加路政车定位信息</span>
    <span class="token keyword">let</span> roadCarTimer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getRoadCarListApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">getRoadCarListApi</span><span class="token punctuation">(</span>sysOrgCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>lnglat <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>item<span class="token punctuation">.</span>lat<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            mapObj<span class="token punctuation">.</span>roadCarData <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token operator">=&gt;</span>x<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token comment">// 路政车</span>
            <span class="token comment">// 遍历路政车数据，统一经纬度字段</span>
            <span class="token keyword">const</span> roadCarData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'roadCarData'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'roadCarData'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token comment">// 判断是否经纬度有更新的数据</span>
            mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>longitude <span class="token operator">=</span> item<span class="token punctuation">.</span>lng
              item<span class="token punctuation">.</span>latitude <span class="token operator">=</span> item<span class="token punctuation">.</span>lat
              item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
              roadCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">oldItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">===</span> oldItem<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>lng <span class="token operator">!==</span> oldItem<span class="token punctuation">.</span>lng <span class="token operator">||</span> item<span class="token punctuation">.</span>lat <span class="token operator">!==</span> oldItem<span class="token punctuation">.</span>lat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    item<span class="token punctuation">.</span>lineArr <span class="token operator">=</span> <span class="token punctuation">[</span>oldItem<span class="token punctuation">.</span>lnglat<span class="token punctuation">,</span> item<span class="token punctuation">.</span>lnglat<span class="token punctuation">]</span>
                    <span class="token comment">// 每次进来都要检查数据中的数据是否有经纬度的变化，变化了则需要轨迹动画</span>
                    mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">markerItem<span class="token punctuation">,</span> markerIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                      <span class="token keyword">if</span> <span class="token punctuation">(</span>markerItem<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>code <span class="token operator">==</span> item<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
                        mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                        mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>markerIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                        <span class="token comment">// 重新进行打点</span>
                        <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token comment">// 10s轮询需要对比数据是否有发生变化</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'Polling'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> oldCodeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token keyword">let</span> newCodeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              roadCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                oldCodeArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  newCodeArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token keyword">const</span> changeCodeArr <span class="token operator">=</span> <span class="token function">compareArrChange</span><span class="token punctuation">(</span>oldCodeArr<span class="token punctuation">,</span> newCodeArr<span class="token punctuation">)</span>
              <span class="token keyword">const</span> addArr <span class="token operator">=</span> changeCodeArr<span class="token punctuation">.</span>add
              <span class="token keyword">const</span> delArr <span class="token operator">=</span> changeCodeArr<span class="token punctuation">.</span>del
              <span class="token comment">// 新获取的数组新增了数据，需要更新缓存及新增地图坐标点</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>addArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  addArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">addItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">==</span> addItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                      <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                      <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token comment">// 新获取的数组少了删除数据，需要更新缓存及删除地图坐标点</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>delArr <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  delArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">delItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">==</span> delItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      <span class="token comment">// 地图上找出该点进行删除</span>
                      mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">markerItem<span class="token punctuation">,</span> markerIndex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>markerItem<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>code <span class="token operator">==</span> delItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
                          mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">[</span>markerIndex<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                          mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>markerIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">)</span>
                      mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'路政车changeCodeArr：'</span><span class="token punctuation">,</span> changeCodeArr<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token function">getPartDrawMarker</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 每次打完资源点需要设置数据到缓存区中，便于下次对比经纬度进行轨迹动画</span>
            sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'roadCarData'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>roadCarData<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 以防止接口请求过慢时用户取消了勾选数据还显示在页面上</span>
          <span class="token function">clearRoadCarData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token comment">// 旧数据路政车有数据10秒刷新一次请求</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>roadCarTimer<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>roadCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            roadCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span>
          roadCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>roadCarClusterer <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              mapObj<span class="token punctuation">.</span>roadCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              mapDetailObj<span class="token punctuation">.</span>mapIconArr9 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>roadCarClusterer<span class="token punctuation">)</span>
              roadCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
            <span class="token punctuation">}</span>
            <span class="token function">getRoadCarListApiFn</span><span class="token punctuation">(</span><span class="token string">'Polling'</span><span class="token punctuation">)</span> <span class="token comment">// 地图增加路政车定位信息</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          mapObj<span class="token punctuation">.</span>roadCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 1.15.协同调度平台-通过机构编码获取路段信息</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getHighwaySectionApiFn</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
      mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getHighwaySectionApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span>
      <span class="token comment">// console.log('getHighwaySectionApiFn-data:', data)</span>
      <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
      <span class="token keyword">let</span> sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            sectionIdArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sectionId<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> sectionIdArr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
          <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 地图初始化</span>
          <span class="token function">getFacilitiesApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//获取(摄像枪等)设施设备信息</span>
          <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//获取已确认事件信息</span>
          <span class="token function">getInfoApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//获取桥梁等设备信息</span>
          <span class="token comment">// 默认显示路政车、救援车、人员数据</span>
          <span class="token function">rescueCarClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token function">roadCarClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token function">personnelClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">////console.log(data.message)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 5分钟刷新一次路线接口</span>
    <span class="token keyword">let</span> facilitiesAndSectionInfoTimer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">circulateSection</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      facilitiesAndSectionInfoTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 画线路</span>
        <span class="token function">getSectionInfoApi</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span> sysOrgCode <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
          <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">clearTimeout</span><span class="token punctuation">(</span>facilitiesAndSectionInfoTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
              <span class="token comment">// 初始化路线数据</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">)</span>
                mapDetailObj<span class="token punctuation">.</span>polylineArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span>

              mapObj<span class="token punctuation">.</span>mapLineData <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>tmcsList
              <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">_loopFn</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token comment">// 获取中心点</span>
              mapObj<span class="token punctuation">.</span>centerPoint <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>centerPoint
              <span class="token comment">// 获取zoom值</span>
              mapObj<span class="token punctuation">.</span>maxDistance <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>maxDistance
              <span class="token function">circulateSection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 30秒刷新一次路况接口及右侧统计接口</span>
    <span class="token keyword">let</span> facilitiesAndEventInfoTimer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">circulateEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      facilitiesAndEventInfoTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token function">getHighwaySectionApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">//console.log('getHighwaySectionApiFn-data:', data)</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          <span class="token keyword">let</span> sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>facilitiesAndEventInfoTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                sectionIdArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sectionId<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> sectionIdArr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
              mapObj<span class="token punctuation">.</span>eventList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              eventPageNo<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
              <span class="token function">queryEventInfoV2ApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token function">circulateEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//console.log(data.message)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 下拉滚动获取事件列表数据,监听元素滚动</span>
    <span class="token keyword">let</span> eventPageNo <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> eventTotal <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleEventScroll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;eventListScrollbarY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scrollTop <span class="token operator">&gt;</span> <span class="token number">1100</span> <span class="token operator">*</span> eventPageNo<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>eventList<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> eventTotal<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        eventPageNo<span class="token punctuation">.</span>value <span class="token operator">=</span> eventPageNo<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 监听滚动</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handlerNodeScroll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;eventListScrollbarY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> handleEventScroll<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 事件新增</span>
    <span class="token keyword">const</span> <span class="token function-variable function">addEventDetail</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      proxy<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>eventDetailModalRef<span class="token punctuation">.</span><span class="token function">btnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// eventBus派发告警弹窗删除告警事件点标记</span>
    proxy<span class="token punctuation">.</span>$mybus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span>
      <span class="token comment">// 删除告警事件点标记</span>
      <span class="token comment">// const eventData = JSON.parse(data)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'del-marker'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'del-marker'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 刷新事件列表和等级统计接口</span>
    proxy<span class="token punctuation">.</span>$mybus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'onRefreshEventList'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">reFreshEventList</span><span class="token punctuation">(</span><span class="token string">'cancel-get-event-list'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 刷新左侧列表和等级统计数据</span>
    <span class="token keyword">const</span> reFreshEventList <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 初始化事件列表数据</span>
      mapObj<span class="token punctuation">.</span>inputSearchValue <span class="token operator">=</span> <span class="token string">''</span>
      mapObj<span class="token punctuation">.</span>selectValue1 <span class="token operator">=</span> <span class="token keyword">undefined</span>
      mapObj<span class="token punctuation">.</span>selectValue2 <span class="token operator">=</span> <span class="token keyword">undefined</span>
      eventPageNo<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
      mapObj<span class="token punctuation">.</span>eventList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

      <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
      mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">await</span> <span class="token function">getUserCoverApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 获取用户图层信息</span>
      <span class="token function">getHighwaySectionApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">//console.log('getHighwaySectionApiFn-data:', data)</span>
          <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
          <span class="token keyword">let</span> sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                sectionIdArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sectionId<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> sectionIdArr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">!==</span> <span class="token string">'cancel-get-event-list'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token function">queryEventInfoV2ApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//console.log(data.message)</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对比两个数组数据是否相同</span>
    <span class="token keyword">const</span> <span class="token function-variable function">compareArr</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">oldArr<span class="token punctuation">,</span> newArr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//false证明数组发生变化  true无变化</span>
      <span class="token comment">//如果前后两个数组长度不一致，证明数组发生的变化，将flag赋值为false</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oldArr<span class="token punctuation">.</span>length <span class="token operator">!=</span> newArr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//数组长度没变化，则进行轮询检查新数组的QuestionID是否都存在前一个数组之中</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> newArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          flag <span class="token operator">=</span> oldArr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              item<span class="token punctuation">.</span>id <span class="token operator">===</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> flag
    <span class="token punctuation">}</span>

    <span class="token comment">// 点击事件状态select获取数据</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleSearchSelect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>eventList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      eventPageNo<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
      <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 处理新版首页显示在地图上的打点数据</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleEventLeveloOrStatusList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      mapObj<span class="token punctuation">.</span>userCoverView<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">coverItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">eventItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 设置打点数</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>coverItem<span class="token punctuation">.</span>value <span class="token operator">===</span> eventItem<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            coverItem<span class="token punctuation">.</span>count <span class="token operator">=</span> eventItem<span class="token punctuation">.</span>count
            <span class="token comment">// 设置初始打点数据</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>coverItem<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>eventItem<span class="token punctuation">.</span>info<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
      <span class="token function">accidentMarkerFn</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
      <span class="token comment">// 建立连接实时获取变动的打点数据及事件列表数据</span>
      <span class="token function">initWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 图层图标</span>
    <span class="token keyword">const</span> layerLogo <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>isVisualization <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>toggleLayerStatus<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-white-box.png'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>isVisualization <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>toggleLayerStatus<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-box.png'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>isVisualization <span class="token operator">&amp;&amp;</span> toggleLayerStatus<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-white-box.png'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>isVisualization <span class="token operator">&amp;&amp;</span> toggleLayerStatus<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/images/roadOverview/right-box-active.png'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 地图图层返回初始状态</span>
    <span class="token keyword">const</span> <span class="token function-variable function">initMapLayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 设置中心点</span>
      GDMap<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>centerPoint<span class="token punctuation">)</span>
      <span class="token comment">// 设置zoom值</span>
      <span class="token function">getZoom</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>maxDistance<span class="token punctuation">,</span> GDMap<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 切换图层状态</span>
    <span class="token keyword">let</span> toggleLayerStatus <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toggleLayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      toggleLayerStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>toggleLayerStatus<span class="token punctuation">.</span>value
      <span class="token keyword">if</span> <span class="token punctuation">(</span>toggleLayerStatus<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        toggleResouceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        toggleResouceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
        toggleDeviceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 点击资源设备</span>
    <span class="token keyword">let</span> toggleResouceStatus <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

    <span class="token comment">// 点击常用设置按钮</span>
    <span class="token keyword">let</span> toggleDeviceStatus <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleDevice</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      toggleResouceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
      toggleDeviceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>toggleDeviceStatus<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>

    <span class="token comment">// 图层是否要设置选中状态</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleSwitch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">checked<span class="token punctuation">,</span> event<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      mapObj<span class="token punctuation">.</span>userCoverAll<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">coverItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>coverItem<span class="token punctuation">.</span>value <span class="token operator">===</span> item<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>checked <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            coverItem<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token string">'1'</span>
            coverItem<span class="token punctuation">.</span>view <span class="token operator">=</span> <span class="token string">'1'</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            coverItem<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token string">'0'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// console.log('mapObj.userCoverAll', mapObj.userCoverAll)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 点击常用设置取消</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleSepupCancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      toggleLayerStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
      toggleDeviceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 点击常用设置确认</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleSepupConfirm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">userId</span><span class="token operator">:</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> mapObj<span class="token punctuation">.</span>userCoverAll
      <span class="token punctuation">}</span>
      <span class="token comment">// console.log('params', params)</span>
      <span class="token function">setUserCoverApi</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;操作成功！&quot;</span><span class="token punctuation">)</span>
            <span class="token function">getUserCoverApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">queryEventInfoV2ApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            toggleLayerStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
            toggleDeviceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 点击常用设置中的某项</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleDeviceSelect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>userCoverAll<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">coverItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>coverItem<span class="token punctuation">.</span>value <span class="token operator">===</span> item<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>view <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            coverItem<span class="token punctuation">.</span>view <span class="token operator">=</span> <span class="token string">'1'</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            coverItem<span class="token punctuation">.</span>view <span class="token operator">=</span> <span class="token string">'0'</span>
            coverItem<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token string">'0'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 查询用户图层信息</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getUserCoverApiFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">getUserCoverApi</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mapObj<span class="token punctuation">.</span>userCoverView <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>userCoverView
            mapObj<span class="token punctuation">.</span>userCoverAll <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>userCoverAll
            <span class="token comment">// console.log('mapObj.userCoverView', mapObj.userCoverView)</span>
            <span class="token comment">// console.log('mapObj.userCoverAll', mapObj.userCoverAll)</span>
            accidentBool<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>userCoverView<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
            mapObj<span class="token punctuation">.</span>userCoverView<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              accidentBool<span class="token punctuation">.</span>value<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token string">'1'</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 移出资源图层时隐藏</span>
    <span class="token keyword">const</span> <span class="token function-variable function">mouseleave</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       toggleResouceStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
       toggleLayerStatus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 未勾选状态时清除救援车所有数据及点聚合功能,并清除经纬度变化轨迹移动的点</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clearRescueCarData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'rescueCarData'</span><span class="token punctuation">)</span>
        <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'rescue'</span><span class="token punctuation">)</span>
        mapObj<span class="token punctuation">.</span>rescueCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rescueCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">clearTimeout</span><span class="token punctuation">(</span>rescueCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
          rescueCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>rescueCarClusterer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>rescueCarClusterer<span class="token punctuation">)</span>
          rescueCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>mapIconArr11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>rescueLineMarkerArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mapDetailObj<span class="token punctuation">.</span>rescueLineMarkerArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          item<span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>rescueLineMarkerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 未勾选状态时清除路政车所有数据及点聚合功能,并清除经纬度变化轨迹移动的点</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clearRoadCarData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'roadCarData'</span><span class="token punctuation">)</span>
        <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'road'</span><span class="token punctuation">)</span>
        mapObj<span class="token punctuation">.</span>roadCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>roadCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">clearTimeout</span><span class="token punctuation">(</span>roadCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
          roadCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>roadCarClusterer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>roadCarClusterer<span class="token punctuation">)</span>
          roadCarClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>mapIconArr9 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>roadLineMarkerArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mapDetailObj<span class="token punctuation">.</span>roadLineMarkerArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          item<span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>roadLineMarkerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 未勾选状态时清除人员所有数据及点聚合功能,并清除经纬度变化轨迹移动的点</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clearPersonnelData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'personnelData'</span><span class="token punctuation">)</span>
        <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span>
        mapObj<span class="token punctuation">.</span>personnelData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>personnelTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">clearTimeout</span><span class="token punctuation">(</span>personnelTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
          personnelTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>personMarkerClusterer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>personMarkerClusterer<span class="token punctuation">)</span>
          personMarkerClusterer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>mapIconArr10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>personnelMarkerArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mapDetailObj<span class="token punctuation">.</span>personnelMarkerArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          item<span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>personnelMarkerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*******获取群聊websocket推送消息*/</span>
    <span class="token keyword">let</span> alreadyDelId <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 记录是否一次性推了删除点重复的id,true为重复了,反之</span>
    <span class="token keyword">let</span> alreadyAddId <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 记录是否一次性推了新增点重复的id,true为重复了,反之</span>
    <span class="token keyword">function</span> <span class="token function">initWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> userId <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
      <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_WS_API_HOST</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;https://&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;wss://&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;http://&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ws://&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;websocket/page/dot/v2/&quot;</span> <span class="token operator">+</span> userId  <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>websockSign <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> mapObj<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//避免重复链接</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;websocket 连接已存在...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        mapObj<span class="token punctuation">.</span>websockSign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapObj<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnopen</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapObj<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnerror</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapObj<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnmessage</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapObj<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnclose</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">websocketOnopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;WebSocket连接成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">websocketOnerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket连接发生错误: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>code <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>reason <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>wasClean<span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;websocket 非正常断开重连...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">reconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">websocketOnmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'websocketOnmessage'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
      mapObj<span class="token punctuation">.</span>numList <span class="token operator">=</span> data<span class="token punctuation">.</span>numList
      <span class="token comment">// 对地图打点数据进行处理</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token operator">?.</span>addList<span class="token operator">?.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'addList'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>addList<span class="token punctuation">)</span>
        mapObj<span class="token punctuation">.</span>addList <span class="token operator">=</span> data<span class="token punctuation">.</span>addList
        <span class="token function">addMarkerWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token operator">?.</span>delList<span class="token operator">?.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'delList'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>delList<span class="token punctuation">)</span>
        mapObj<span class="token punctuation">.</span>delList <span class="token operator">=</span> data<span class="token punctuation">.</span>delList
        <span class="token function">delMarkerWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token operator">?.</span>numList<span class="token operator">?.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">countNumMarkerWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 对事件列表数据进行处理</span>
      mapObj<span class="token punctuation">.</span>isWebsockSign <span class="token operator">=</span> <span class="token boolean">true</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'-----alreadyAddId.value-----'</span><span class="token punctuation">,</span> alreadyAddId<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'-----alreadyDelId.value-----'</span><span class="token punctuation">,</span> alreadyDelId<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>alreadyDelId<span class="token punctuation">.</span>value <span class="token operator">||</span> alreadyAddId<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'推送过来重复的数据了！！！'</span><span class="token punctuation">)</span>
        mapObj<span class="token punctuation">.</span>isWebsockSign <span class="token operator">=</span> <span class="token boolean">false</span>
        alreadyDelId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
        alreadyAddId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">websocketOnclose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'websocket 断开: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>code <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>reason <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>wasClean<span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;websocket 非正常断开重连...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">reconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 尝试重连</span>
    <span class="token keyword">const</span> <span class="token function-variable function">reconnect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>lockReconnect<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      mapObj<span class="token punctuation">.</span>lockReconnect <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token comment">//没连接上会一直重连，设置延迟避免请求过多</span>
      <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;尝试重连...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ws断开时需要重新刷新一下事件列表、打点数据,并且需要重新获取图层各等级总数</span>
        <span class="token function">reFreshEventList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapObj<span class="token punctuation">.</span>lockReconnect <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对总的打点数进行处理</span>
    <span class="token keyword">const</span> <span class="token function-variable function">countNumMarkerWebSocket</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>numList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">numItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">eventItem<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 如果为新增的打点数据则直接加</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>numItem<span class="token punctuation">.</span>value <span class="token operator">===</span> eventItem<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>eventItem<span class="token punctuation">.</span>count <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> numItem<span class="token punctuation">.</span>count <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'--------测试--------'</span><span class="token punctuation">,</span> mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            eventItem<span class="token punctuation">.</span>count <span class="token operator">=</span> eventItem<span class="token punctuation">.</span>count <span class="token operator">+</span> numItem<span class="token punctuation">.</span>count
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token comment">// 设置打点数</span>
      mapObj<span class="token punctuation">.</span>userCoverView<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">coverItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">eventItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>coverItem<span class="token punctuation">.</span>value <span class="token operator">===</span> eventItem<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            coverItem<span class="token punctuation">.</span>count <span class="token operator">=</span> eventItem<span class="token punctuation">.</span>count
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      mapObj<span class="token punctuation">.</span>numList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 新增打点数据</span>
    <span class="token keyword">const</span> <span class="token function-variable function">addMarkerWebSocket</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mapObj<span class="token punctuation">.</span>addList<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        alreadyAddId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>

      mapObj<span class="token punctuation">.</span>addList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">addItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> addResult <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        addResult<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>addItem<span class="token punctuation">)</span>

        <span class="token comment">// 对总的打点mapObj.eventLeveloOrStatusList数据进行处理</span>
        <span class="token keyword">let</span> data <span class="token operator">=</span> mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>value <span class="token operator">===</span> addItem<span class="token punctuation">.</span>levelOrStatus<span class="token punctuation">)</span>
        mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> data<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果一条数据重复推送了两次或多次以上</span>
            <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">false</span>
            flag <span class="token operator">=</span> mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">infoItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>infoItem<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'5'</span> <span class="token operator">||</span> infoItem<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'6'</span> <span class="token operator">||</span> infoItem<span class="token punctuation">.</span>levelOrStatus <span class="token operator">===</span> <span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> infoItem<span class="token punctuation">.</span>id <span class="token operator">===</span> addItem<span class="token punctuation">.</span>id
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> infoItem<span class="token punctuation">.</span>alarmId <span class="token operator">===</span> addItem<span class="token punctuation">.</span>alarmId
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 如果推送过来的打点数据地图上不存在，则无需进行count操作</span>
              mapObj<span class="token punctuation">.</span>numList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">numItem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>numItem<span class="token punctuation">.</span>value <span class="token operator">===</span> addItem<span class="token punctuation">.</span>levelOrStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  numItem<span class="token punctuation">.</span>count<span class="token operator">--</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              alreadyAddId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token comment">// 如果一条数据只推送了一次则直接新增</span>
              <span class="token function">accidentMarkerFn</span><span class="token punctuation">(</span>addResult<span class="token punctuation">,</span> <span class="token string">'addWebSocketMarker'</span><span class="token punctuation">)</span>
              data<span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>addItem<span class="token punctuation">)</span>
              mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data
              alreadyAddId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// 如果当前处于打开点聚合弹窗状态需要对弹窗进行新增点数据，如果是同个经纬度才需进行添加</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterInfoWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>latitude <span class="token operator">==</span> addItem<span class="token punctuation">.</span>latitude <span class="token operator">&amp;&amp;</span> clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>longitude <span class="token operator">==</span> addItem<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>addItem<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>latitude <span class="token operator">==</span> addItem<span class="token punctuation">.</span>latitude <span class="token operator">&amp;&amp;</span> clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>longitude <span class="token operator">==</span> addItem<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>addItem<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      mapObj<span class="token punctuation">.</span>addList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 删除打点数据</span>
    <span class="token keyword">const</span> <span class="token function-variable function">delMarkerWebSocket</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mapObj<span class="token punctuation">.</span>delList<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        alreadyDelId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 删除地图上的所对应的打点数据</span>
      mapObj<span class="token punctuation">.</span>delList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">delItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          accidentMarkerArr1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>alarmId <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr1<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr1<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
              eventMarkerClusterer1<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>accidentMarkerArr1<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr1<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          accidentMarkerArr2<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>alarmId <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr2<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr2<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
              eventMarkerClusterer2<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>accidentMarkerArr2<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr2<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          accidentMarkerArr3<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>alarmId <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr3<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr3<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
              eventMarkerClusterer3<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>accidentMarkerArr3<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr3<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'4'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          accidentMarkerArr4<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>alarmId <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr4<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr4<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
              eventMarkerClusterer4<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>accidentMarkerArr4<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr4<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'5'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          accidentMarkerArr5<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>id <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr5<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr5<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
              eventMarkerClusterer5<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>accidentMarkerArr5<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr5<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'6'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          accidentMarkerArr6<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>id <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr6<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr6<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
              eventMarkerClusterer6<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>accidentMarkerArr6<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr6<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          accidentMarkerArr10<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>De<span class="token punctuation">.</span>extData<span class="token punctuation">.</span>id <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>accidentMarkerArr10<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr10<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
              eventMarkerClusterer10<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>accidentMarkerArr10<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
              accidentMarkerArr10<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 对总的打点mapObj.eventLeveloOrStatusList数据进行处理</span>
        <span class="token keyword">let</span> data <span class="token operator">=</span> mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>value <span class="token operator">===</span> delItem<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token operator">?.</span>info <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>info<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 如果一条数据重复推送了两次或多次以上</span>
          <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">false</span>
          flag <span class="token operator">=</span> data<span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token string">''</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'5'</span> <span class="token operator">||</span> data<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'6'</span> <span class="token operator">||</span> data<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              id <span class="token operator">=</span> item<span class="token punctuation">.</span>id
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              id <span class="token operator">=</span> item<span class="token punctuation">.</span>alarmId
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              data<span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
              mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> data<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> id <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 查看是否一次性推了重复的数据</span>
            alreadyDelId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'进来alreadyDelId.value'</span><span class="token punctuation">,</span> alreadyDelId<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            <span class="token comment">// 如果推送过来的打点数据地图上不存在，则无需进行count操作</span>
            mapObj<span class="token punctuation">.</span>numList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> delItem<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                item<span class="token punctuation">.</span>count<span class="token operator">++</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// 查看是否一次性推了重复的数据</span>
          alreadyDelId<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'delItem'</span><span class="token punctuation">,</span> delItem<span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'已经没数据了，不能删了'</span><span class="token punctuation">,</span> mapObj<span class="token punctuation">.</span>eventLeveloOrStatusList<span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'进来alreadyDelId.value'</span><span class="token punctuation">,</span> alreadyDelId<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
          <span class="token comment">// 如果推送过来的打点数据地图上不存在，则无需进行count操作</span>
          mapObj<span class="token punctuation">.</span>numList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">===</span> delItem<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              item<span class="token punctuation">.</span>count<span class="token operator">++</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 如果当前打开点聚合弹窗为两条数据，恰好删除了其中一条数据，则关闭弹窗</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">||</span> clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">handleCloseClusterDialog</span><span class="token punctuation">(</span>delItem<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 如果删除的点，tab页存在该事件则需要删除该tab</span>
        <span class="token comment">// let Panes = store.state.menuTba.length === 1 ? store.state.menuTba : getStorage('tabMenuDatas').Panes</span>
        <span class="token comment">// const activeKey = 1</span>
        <span class="token comment">// if (Panes.length !== 1) {</span>
        <span class="token comment">//   Panes.forEach((item, index) =&gt; {</span>
        <span class="token comment">//     if(item.id &amp;&amp; item.id === delItem.id) {</span>
        <span class="token comment">//       Panes.splice(index, 1)</span>
        <span class="token comment">//     }</span>
        <span class="token comment">//   })</span>
        <span class="token comment">//   setStorage(&quot;tabMenuDatas&quot;, {</span>
        <span class="token comment">//       Panes,</span>
        <span class="token comment">//       activeKey</span>
        <span class="token comment">//   })</span>
        <span class="token comment">//   store.dispatch(&quot;setMenuTba&quot;, Panes)</span>
        <span class="token comment">//   proxy.$mybus.emit('del-tab', Panes)</span>
        <span class="token comment">// }</span>

        <span class="token comment">// 如果当前处于打开点聚合弹窗状态需要对弹窗进行删除点数据</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterInfoWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>id <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  clusterEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>alarmId <span class="token operator">===</span> delItem<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  clusterYiGouEventArr<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      mapObj<span class="token punctuation">.</span>delList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 处理关闭点聚合弹窗</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleCloseClusterDialog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">'5'</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">'6'</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">initClusterInfoWindow</span><span class="token punctuation">(</span><span class="token string">'alarm'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 事件列表收缩按钮</span>
    <span class="token keyword">let</span> collapsed <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toggleCollapsed</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      collapsed<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>collapsed<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// tab切出首页需要清除救援车、路政车、人员定时器及缓存</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clearDeviceStorageAndTimer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'rescueCarData'</span><span class="token punctuation">)</span>
      sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'roadCarData'</span><span class="token punctuation">)</span>
      sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'personnelData'</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>rescueCarTimer<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>rescueCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        rescueCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>roadCarTimer<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>roadCarTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        roadCarTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>personnelTimer<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>personnelTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        personnelTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// tab切换回首页如果勾选则显示路政车、救援车、人员数据</span>
    <span class="token keyword">const</span> <span class="token function-variable function">showDeviceStorageAndTimer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon3Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr11<span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>mapIconArr11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        mapObj<span class="token punctuation">.</span>rescueCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token function">getRescueCarListApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 地图增加救援车定位信息</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon1Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr9<span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>mapIconArr9 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        mapObj<span class="token punctuation">.</span>roadCarData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token function">getRoadCarListApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 地图增加路政车定位信息</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapObj<span class="token punctuation">.</span>isRightPurpleIcon2Boole <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>mapIconArr10<span class="token punctuation">)</span>
        mapDetailObj<span class="token punctuation">.</span>mapIconArr10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        mapObj<span class="token punctuation">.</span>personnelData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token function">getOperatorLocationListApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 获取app人员定位信息</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mapObj<span class="token punctuation">.</span>mapLoading <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token function">getHighwaySectionApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//通过机构编码获取路段信息</span>
      <span class="token function">getUserCoverApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 获取用户图层信息</span>
      <span class="token comment">// 5分钟轮询路线接口</span>
      <span class="token function">circulateSection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 路由缓存时在触发</span>
    <span class="token keyword">let</span> initHighwaySection <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token function">onActivated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>initHighwaySection<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reFreshEventList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      initHighwaySection<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>

      <span class="token comment">// 下拉滚动获取事件列表数据</span>
      <span class="token function">handlerNodeScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 30秒轮询路况和统计接口</span>
      <span class="token comment">// circulateEvent()</span>
      <span class="token comment">// 建立连接实时获取变动的打点数据及事件列表数据</span>
      <span class="token comment">// initWebSocket()</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 切换卫星地图</span>
    <span class="token keyword">let</span> isSatelliteLayer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> satellite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>TileLayer<span class="token punctuation">.</span>Satellite</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> roadNet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>TileLayer<span class="token punctuation">.</span>RoadNet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toggleMapLayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 切换地图图层</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isSatelliteLayer<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">[</span>satellite<span class="token punctuation">,</span> roadNet<span class="token punctuation">]</span><span class="token punctuation">)</span>
            GDMap<span class="token punctuation">.</span><span class="token function">setMapStyle</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">amap://styles/02fd07714a3aac53f6cdf9b02998f192</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 切换卫星地图</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span>satellite<span class="token punctuation">,</span> roadNet<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        isSatelliteLayer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isSatelliteLayer<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>

    <span class="token function">onDeactivated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>facilitiesAndEventInfoTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token function">clearPartDrawMarkerTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      clusterArr<span class="token punctuation">,</span>
      clusterRescueCarArr<span class="token punctuation">,</span>
      clusterRoadCarArr<span class="token punctuation">,</span>
      clusterEventArr<span class="token punctuation">,</span>
      clusterYiGouEventArr<span class="token punctuation">,</span>
      clusterWindowBoxRef<span class="token punctuation">,</span>
      clusterRescueCarWindowBoxRef<span class="token punctuation">,</span>
      clusterRoadCarWindowBoxRef<span class="token punctuation">,</span>
      clusterEventWindowBoxRef<span class="token punctuation">,</span>
      clusterYiGouEventWindowBoxRef<span class="token punctuation">,</span>
      eventList<span class="token punctuation">,</span>
      statusIcon<span class="token punctuation">,</span>
      typeIcon<span class="token punctuation">,</span>
      yiGouObj<span class="token punctuation">,</span>
      closeInfoDetailFn<span class="token punctuation">,</span>
      mapObj<span class="token punctuation">,</span>
      bridgeClick<span class="token punctuation">,</span>
      rescueCarClick<span class="token punctuation">,</span>
      roadCarClick<span class="token punctuation">,</span>
      rightBlueIcon2Click<span class="token punctuation">,</span>
      rightBlueIcon3Click<span class="token punctuation">,</span>
      rightBlueIcon4Click<span class="token punctuation">,</span>
      rightGreenIcon1Click<span class="token punctuation">,</span>
      rightGreenIcon2Click<span class="token punctuation">,</span>
      rightGreenIcon3Click<span class="token punctuation">,</span>
      rightGreenIcon4Click<span class="token punctuation">,</span>
      toEventDetailsFn<span class="token punctuation">,</span>
      toYiGouEventDetailsFn<span class="token punctuation">,</span>
      inputSearchFn<span class="token punctuation">,</span>
      inputChangeFn<span class="token punctuation">,</span>
      personnelClick<span class="token punctuation">,</span>
      accidentBool<span class="token punctuation">,</span>
      accidentFn1<span class="token punctuation">,</span>
      addEventDetail<span class="token punctuation">,</span>
      statusOptions<span class="token punctuation">,</span>
      getStatus<span class="token punctuation">,</span>
      handleSearchSelect<span class="token punctuation">,</span>
      <span class="token comment">// 新版首页</span>
      layerLogo<span class="token punctuation">,</span>
      initMapLayer<span class="token punctuation">,</span>
      toggleLayer<span class="token punctuation">,</span>
      toggleLayerStatus<span class="token punctuation">,</span>
      toggleResouceStatus<span class="token punctuation">,</span>
      toggleDeviceStatus<span class="token punctuation">,</span>
      handleDevice<span class="token punctuation">,</span>
      handleSwitch<span class="token punctuation">,</span>
      handleSepupCancel<span class="token punctuation">,</span>
      handleSepupConfirm<span class="token punctuation">,</span>
      handleDeviceSelect<span class="token punctuation">,</span>
      mouseleave<span class="token punctuation">,</span>
      collapsed<span class="token punctuation">,</span>
      toggleCollapsed<span class="token punctuation">,</span>
      toggleMapLayer<span class="token punctuation">,</span>
      isSatelliteLayer<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span><span class="token operator">&gt;</span>
@<span class="token keyword">import</span> <span class="token string">'@/assets/css/style.css'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'@/assets/css/commonly.css'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'@/views/roadOverview/roadOverviewNew.css'</span><span class="token punctuation">;</span>

ol<span class="token punctuation">,</span>
ul <span class="token punctuation">{</span>
  list<span class="token operator">-</span>style<span class="token operator">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
li <span class="token punctuation">{</span>
  list<span class="token operator">-</span>style<span class="token operator">-</span>type<span class="token operator">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

#container <span class="token punctuation">{</span>
  min<span class="token operator">-</span>height<span class="token operator">:</span> 968px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@red<span class="token operator">:</span> #fc693b<span class="token punctuation">;</span>
@org<span class="token operator">:</span> #ff9447<span class="token punctuation">;</span>
@yel<span class="token operator">:</span> #ffbb2f<span class="token punctuation">;</span>
@blue<span class="token operator">:</span> #1b7fff<span class="token punctuation">;</span>
@green<span class="token operator">:</span>#47CE5A<span class="token punctuation">;</span>
<span class="token punctuation">.</span>red <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #fc693b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>org <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #ff9447<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>yel <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #ffbb2f<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>blue <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #1b7fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>green<span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #47CE5A<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>red<span class="token operator">-</span>name <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token constant">FF4747</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>org<span class="token operator">-</span>name <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token constant">FF852E</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>yel<span class="token operator">-</span>name <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token constant">FFB71B</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>blue<span class="token operator">-</span>name <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #1B7FFF<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>bg<span class="token operator">-</span>dispost <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #fff <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #409EFF <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>bg<span class="token operator">-</span>known <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #fff <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #67C23A <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>bg<span class="token operator">-</span>work <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #fff <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFA500</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>color<span class="token operator">-</span>dispost <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #409EFF <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>color<span class="token operator">-</span>known <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #67C23A <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>color<span class="token operator">-</span>work <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token constant">FFA500</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">:</span><span class="token function">deep</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>amap<span class="token operator">-</span>zoom<span class="token operator">-</span>ruler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 125px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>markerBox<span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  <span class="token punctuation">.</span>markerImage<span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 40px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 40px<span class="token punctuation">;</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token operator">-</span>2px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>markerContent<span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #8A6BFA<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 36px<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token operator">:</span> 36px<span class="token punctuation">;</span>
    max<span class="token operator">-</span>width<span class="token operator">:</span> 265px<span class="token punctuation">;</span>
    min<span class="token operator">-</span>width<span class="token operator">:</span> 120px<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span>40px<span class="token punctuation">;</span>
    padding<span class="token operator">-</span>right<span class="token operator">:</span>10px<span class="token punctuation">;</span>
    p<span class="token punctuation">{</span>
      margin<span class="token operator">-</span>left<span class="token operator">:</span> 45px<span class="token punctuation">;</span>
      text<span class="token operator">-</span>align<span class="token operator">:</span>left<span class="token punctuation">;</span>
      white<span class="token operator">-</span>space<span class="token operator">:</span> nowrap<span class="token punctuation">;</span>
      <span class="token literal-property property">overflow</span><span class="token operator">:</span> hidden<span class="token punctuation">;</span>
      text<span class="token operator">-</span>overflow<span class="token operator">:</span> ellipsis<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>markerContentCar <span class="token punctuation">{</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderAnyClusterBox <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 60px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 60px<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 60px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderAnyClusterCount <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 42px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 42px<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 42px<span class="token punctuation">;</span>
  line<span class="token operator">-</span>height<span class="token operator">:</span> 42px<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 18px<span class="token punctuation">;</span>
  <span class="token literal-property property">margin</span><span class="token operator">:</span> auto<span class="token punctuation">;</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderClusterBox<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">107</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderClusterCount<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">138</span><span class="token punctuation">,</span><span class="token number">107</span><span class="token punctuation">,</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 2px solid #6130F0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterBox1<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">252</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterCount1<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">252</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 2px solid <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">252</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterBox2<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterCount2<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 2px solid <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterBox3<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterCount3<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 2px solid <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterBox4<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterCount4<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 2px solid <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterBox5<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">206</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>renderEventClusterCount5<span class="token punctuation">{</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">206</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 2px solid <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">206</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>clusterWindowBox<span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  flex<span class="token operator">-</span>wrap<span class="token operator">:</span> wrap<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 574px<span class="token punctuation">;</span>
  max<span class="token operator">-</span>height<span class="token operator">:</span> 262px<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
  <span class="token literal-property property">overflow</span><span class="token operator">:</span> auto<span class="token punctuation">;</span>
  <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">0</span> 12px <span class="token number">0</span> 12px<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> left<span class="token punctuation">;</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>
  <span class="token punctuation">.</span>oneCluster<span class="token punctuation">.</span>clusterWindowItem<span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>right<span class="token operator">:</span> none <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>clusterWindowItem<span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 18px<span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #6B7299<span class="token punctuation">;</span>
    padding<span class="token operator">-</span>left<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
    border<span class="token operator">-</span>top<span class="token operator">:</span> 1px solid #<span class="token constant">EEEEEE</span><span class="token punctuation">;</span>
    padding<span class="token operator">-</span>top<span class="token operator">:</span>11px<span class="token punctuation">;</span>
    padding<span class="token operator">-</span>bottom<span class="token operator">:</span>4px<span class="token punctuation">;</span>
    <span class="token comment">// padding-right: 12px;</span>
    p<span class="token punctuation">{</span>
      margin<span class="token operator">-</span>bottom<span class="token operator">:</span>6px<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>top<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token literal-property property">overflow</span><span class="token operator">:</span> hidden<span class="token punctuation">;</span>
      text<span class="token operator">-</span>overflow<span class="token operator">:</span> ellipsis<span class="token punctuation">;</span>
      white<span class="token operator">-</span>space<span class="token operator">:</span> nowrap<span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>clusterEventWindowItem <span class="token punctuation">{</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 16px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>clusterEventWindowItem<span class="token operator">-</span>name <span class="token punctuation">{</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 16px <span class="token operator">!</span>important<span class="token punctuation">;</span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">700</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>clusterWindowItem<span class="token operator">:</span>nth<span class="token operator">-</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">.</span>clusterWindowItem<span class="token operator">:</span>nth<span class="token operator">-</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token parameter"><span class="token number">2</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    border<span class="token operator">-</span>top<span class="token operator">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>clusterWindowItem<span class="token operator">:</span>nth<span class="token operator">-</span><span class="token keyword">of</span><span class="token operator">-</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter"><span class="token number">2n</span><span class="token operator">+</span><span class="token number">1</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    padding<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>right<span class="token operator">:</span>1px solid #<span class="token constant">EEEEEE</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>clusterWindowBox2 <span class="token punctuation">{</span>
  max<span class="token operator">-</span>height<span class="token operator">:</span> 317px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>eventList<span class="token operator">-</span>main <span class="token punctuation">{</span>
  <span class="token punctuation">.</span>nothing <span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token literal-property property">margin</span><span class="token operator">:</span> 150px auto 10px auto<span class="token punctuation">;</span>
    img <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 80px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 80px<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>right<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
      border<span class="token operator">-</span>radius<span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    div <span class="token punctuation">{</span>
      text<span class="token operator">-</span>align<span class="token operator">:</span> left<span class="token punctuation">;</span>
      <span class="token literal-property property">div</span><span class="token operator">:</span>nth<span class="token operator">-</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token parameter"><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> #2B210E<span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> 16px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token literal-property property">div</span><span class="token operator">:</span>nth<span class="token operator">-</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token parameter"><span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        margin<span class="token operator">-</span>top<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span>amap<span class="token operator">-</span>info<span class="token operator">-</span>close <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> none <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>amap<span class="token operator">-</span>marker<span class="token operator">-</span>label<span class="token punctuation">{</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> none<span class="token punctuation">;</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// :has父元素选择器，:has(xxx)的样式才能生效</span>
<span class="token operator">/</span>deep<span class="token operator">/</span> <span class="token punctuation">.</span>amap<span class="token operator">-</span>marker<span class="token operator">-</span>label<span class="token operator">:</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>accidentLabel</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> none<span class="token punctuation">;</span>
  <span class="token literal-property property">padding</span><span class="token operator">:</span> 10px<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>after<span class="token punctuation">{</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    border<span class="token operator">-</span>top<span class="token operator">:</span> 10px solid white<span class="token punctuation">;</span>
    border<span class="token operator">-</span>right<span class="token operator">:</span> 10px solid transparent<span class="token punctuation">;</span>
    border<span class="token operator">-</span>left<span class="token operator">:</span> 10px solid transparent<span class="token punctuation">;</span>
    <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token operator">-</span>9px<span class="token punctuation">;</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> 98px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>amap<span class="token operator">-</span>marker<span class="token operator">-</span>label<span class="token operator">:</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>theLabel</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span>5px<span class="token punctuation">;</span>
  <span class="token literal-property property">padding</span><span class="token operator">:</span> 3px 8px 1px 5px<span class="token punctuation">;</span>
  box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0px 3px 6px 1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token operator">-</span>30px <span class="token operator">!</span>important<span class="token punctuation">;</span>

  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>after<span class="token punctuation">{</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    border<span class="token operator">-</span>top<span class="token operator">:</span> 4px solid white<span class="token punctuation">;</span>
    border<span class="token operator">-</span>right<span class="token operator">:</span> 4px solid transparent<span class="token punctuation">;</span>
    border<span class="token operator">-</span>left<span class="token operator">:</span> 4px solid transparent<span class="token punctuation">;</span>
    <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token operator">-</span>4px<span class="token punctuation">;</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">%</span> <span class="token operator">-</span> 4px<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>theLabel<span class="token punctuation">{</span>
    min<span class="token operator">-</span>width<span class="token operator">:</span> 42px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 20px<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
    div<span class="token punctuation">{</span>
      text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>amap<span class="token operator">-</span>marker<span class="token operator">-</span>label<span class="token operator">:</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>theLabel1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">19</span><span class="token operator">%</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>amap<span class="token operator">-</span>marker<span class="token operator">-</span>label<span class="token operator">:</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>theLabel2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">27</span><span class="token operator">%</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>amap<span class="token operator">-</span>marker<span class="token operator">-</span>label<span class="token operator">:</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>theLabel3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">34</span><span class="token operator">%</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>amap<span class="token operator">-</span>marker<span class="token operator">-</span>label<span class="token operator">:</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>theLabel4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">38</span><span class="token operator">%</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>select<span class="token operator">-</span>box <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>

  span <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.85</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 15px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>select<span class="token operator">-</span>box <span class="token operator">/</span>deep<span class="token operator">/</span><span class="token punctuation">.</span>ant<span class="token operator">-</span>select<span class="token punctuation">{</span>
  <span class="token comment">// width: 122px!important;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 177px <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>info<span class="token punctuation">{</span>
  <span class="token punctuation">.</span>detail_box <span class="token punctuation">{</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">31</span><span class="token punctuation">.</span>25vw<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>visualization <span class="token operator">/</span>deep<span class="token operator">/</span> <span class="token punctuation">.</span>mySelect<span class="token punctuation">{</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token operator">!</span>important<span class="token punctuation">;</span>
    <span class="token literal-property property">top</span><span class="token operator">:</span> 34px<span class="token operator">!</span>important<span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">83</span><span class="token punctuation">,</span><span class="token number">0.76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span>ant<span class="token operator">-</span>select<span class="token operator">-</span>item<span class="token operator">-</span>option<span class="token operator">-</span>active<span class="token punctuation">,</span><span class="token punctuation">.</span>ant<span class="token operator">-</span>select<span class="token operator">-</span>item<span class="token operator">-</span>option<span class="token operator">-</span>selected<span class="token punctuation">{</span>
      <span class="token literal-property property">background</span><span class="token operator">:</span> #033D9A<span class="token punctuation">;</span>
      <span class="token punctuation">.</span>ant<span class="token operator">-</span>select<span class="token operator">-</span>item<span class="token operator">-</span>option<span class="token operator">-</span>content<span class="token punctuation">{</span>
      <span class="token comment">// color: blue;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>ant<span class="token operator">-</span>select<span class="token operator">-</span>item<span class="token operator">-</span>option<span class="token operator">-</span>content<span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #fafafa<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>ant<span class="token operator">-</span>select<span class="token operator">-</span>item<span class="token operator">-</span>empty<span class="token punctuation">{</span>
      <span class="token punctuation">.</span>ant<span class="token operator">-</span>empty<span class="token operator">-</span>description<span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> #fafafa<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token comment">// 新版首页</span>
<span class="token operator">/</span>deep<span class="token operator">/</span> <span class="token punctuation">.</span>ant<span class="token operator">-</span>spin<span class="token operator">-</span>text <span class="token punctuation">{</span>
  padding<span class="token operator">-</span>top<span class="token operator">:</span> 355px <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>ant<span class="token operator">-</span>spin<span class="token operator">-</span>dot<span class="token operator">-</span>spin <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> 330px <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>activelogo <span class="token punctuation">{</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #2BA2FC <span class="token operator">!</span>important<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #<span class="token constant">E7F5FE</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>active<span class="token operator">-</span>satellite<span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #2BA2FC<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>activeSelect <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 8px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 8px<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 2px<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #3A97F9<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>road<span class="token operator">-</span>layer<span class="token operator">-</span>btn<span class="token operator">-</span>box <span class="token punctuation">{</span>
  box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 154px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 50px<span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>
  box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0px 0px 10px 1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>road<span class="token operator">-</span>right<span class="token operator">-</span>wrap__satellite <span class="token punctuation">{</span>
  box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 77px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 50px<span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">848484</span><span class="token punctuation">;</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 21px<span class="token punctuation">;</span>
  <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px <span class="token number">0</span> <span class="token number">0</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>road<span class="token operator">-</span>layer<span class="token operator">-</span>boder <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 2px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 42px<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #<span class="token constant">DEE2E9</span><span class="token punctuation">;</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>road<span class="token operator">-</span>layer<span class="token operator">-</span>reset<span class="token operator">-</span>btn <span class="token punctuation">{</span>
  box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 77px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 50px<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">848484</span><span class="token punctuation">;</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 18px<span class="token punctuation">;</span>
  <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> <span class="token number">0</span> 5px 5px <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>road<span class="token operator">-</span>right<span class="token operator">-</span>wrap <span class="token punctuation">{</span>
  <span class="token operator">&amp;</span>__layer <span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 154px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 50px<span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
    box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0px 0px 10px 1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">848484</span><span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 21px<span class="token punctuation">;</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>pic1 <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 15px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 15px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>pic2 <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 25px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 25px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>name <span class="token punctuation">{</span>
      margin<span class="token operator">-</span>left<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 2px<span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 18px<span class="token punctuation">;</span>
      <span class="token operator">&amp;</span><span class="token operator">-</span>active <span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> #6699FF<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span>__level <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 6px<span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
    box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0px 0px 10px 1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> 12px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span>__item <span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 131px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 66px<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">DEE2E9</span><span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> 9px <span class="token number">0</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>box <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 81px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 48px<span class="token punctuation">;</span>
      <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
      <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">DEE2E9</span><span class="token punctuation">;</span>
      border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>left<span class="token operator">:</span> 12px<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>right<span class="token operator">:</span> 3px<span class="token punctuation">;</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">000000</span><span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
      <span class="token punctuation">.</span>grade<span class="token operator">-</span>name <span class="token punctuation">{</span>
        margin<span class="token operator">-</span>left<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span>grade<span class="token operator">-</span>logo <span class="token punctuation">{</span>
        <span class="token literal-property property">display</span><span class="token operator">:</span> inline<span class="token operator">-</span>block<span class="token punctuation">;</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> 28px<span class="token punctuation">;</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> 36px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>grade<span class="token operator">-</span>num <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 26px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 36px<span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 24px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span>__item<span class="token operator">:</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">:</span>first<span class="token operator">-</span>child</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 6px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>road<span class="token operator">-</span>right<span class="token operator">-</span>resouce <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>right<span class="token operator">:</span> 1px<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 154px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 666px<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
  box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0px 0px 6px 1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
  <span class="token literal-property property">padding</span><span class="token operator">:</span> 8px 7px<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>__item <span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 140px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 50px<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> 9px 8px<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">DEE2E9</span><span class="token punctuation">;</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>pic <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 32px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 32px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>name <span class="token punctuation">{</span>
      margin<span class="token operator">-</span>left<span class="token operator">:</span> 19px<span class="token punctuation">;</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">000000</span><span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>box <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 14px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 14px<span class="token punctuation">;</span>
      border<span class="token operator">-</span>radius<span class="token operator">:</span> 2px<span class="token punctuation">;</span>
      <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">D9D9D9</span><span class="token punctuation">;</span>
      <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span>__item<span class="token operator">:</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">:</span>first<span class="token operator">-</span>child</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 6px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span>__btn <span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 9px<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 140px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 32px<span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #3B7FEB<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 12px<span class="token punctuation">;</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    img <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 15px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 15px<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>right<span class="token operator">:</span> 3px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>road<span class="token operator">-</span>right<span class="token operator">-</span>setup <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>right<span class="token operator">:</span> 1px<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 154px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 578px<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
  box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0px 0px 6px 1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
  <span class="token literal-property property">padding</span><span class="token operator">:</span> 8px 7px<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>__item <span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 140px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 66px<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> 9px<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">DEE2E9</span><span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">000000</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>pic <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 28px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 36px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>name <span class="token punctuation">{</span>
      margin<span class="token operator">-</span>left<span class="token operator">:</span> 8px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>wrap <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>box <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 14px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 14px<span class="token punctuation">;</span>
      border<span class="token operator">-</span>radius<span class="token operator">:</span> 2px<span class="token punctuation">;</span>
      <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">D9D9D9</span><span class="token punctuation">;</span>
      <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>left <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 81px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 48px<span class="token punctuation">;</span>
      <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">DEE2E9</span><span class="token punctuation">;</span>
      border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">000000</span><span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>right <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      flex<span class="token operator">-</span>direction<span class="token operator">:</span> column<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> flex<span class="token operator">-</span>end<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span>__item<span class="token operator">:</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">:</span>first<span class="token operator">-</span>child</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 8px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>switch<span class="token operator">-</span>type <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span>__btn <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 18px<span class="token punctuation">;</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>cancel <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 60px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 32px<span class="token punctuation">;</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">666666</span><span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 12px<span class="token punctuation">;</span>
      <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">DCDFE6</span><span class="token punctuation">;</span>
      border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
      <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>right<span class="token operator">:</span> 15px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">--</span>confirm <span class="token punctuation">{</span>
      <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
      justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 12px<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 60px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 32px<span class="token punctuation">;</span>
      border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
      <span class="token literal-property property">background</span><span class="token operator">:</span> #3B7FEB<span class="token punctuation">;</span>
      <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>collapsed<span class="token operator">-</span>box <span class="token punctuation">{</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">97</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 29px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 41px<span class="token punctuation">;</span>
  <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 3px<span class="token punctuation">;</span>
  box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0px 3px 6px 1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>transition<span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>transition<span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>o<span class="token operator">-</span>transition<span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  img <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 17px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 17px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>eventList2 <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 2px <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vh <span class="token operator">-</span> 35px<span class="token punctuation">)</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
  padding<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>transition<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>transition<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>o<span class="token operator">-</span>transition<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>collapsed<span class="token operator">-</span>box2 <span class="token punctuation">{</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>transition<span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>transition<span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>o<span class="token operator">-</span>transition<span class="token operator">:</span> left <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>dn <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> none <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>transition<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>transition<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
  <span class="token operator">-</span>o<span class="token operator">-</span>transition<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>5s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>satellite<span class="token operator">-</span>icon<span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>125rem<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>125rem<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>right<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>satellite<span class="token operator">-</span>title<span class="token punctuation">{</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 18px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br><span class="line-number">538</span><br><span class="line-number">539</span><br><span class="line-number">540</span><br><span class="line-number">541</span><br><span class="line-number">542</span><br><span class="line-number">543</span><br><span class="line-number">544</span><br><span class="line-number">545</span><br><span class="line-number">546</span><br><span class="line-number">547</span><br><span class="line-number">548</span><br><span class="line-number">549</span><br><span class="line-number">550</span><br><span class="line-number">551</span><br><span class="line-number">552</span><br><span class="line-number">553</span><br><span class="line-number">554</span><br><span class="line-number">555</span><br><span class="line-number">556</span><br><span class="line-number">557</span><br><span class="line-number">558</span><br><span class="line-number">559</span><br><span class="line-number">560</span><br><span class="line-number">561</span><br><span class="line-number">562</span><br><span class="line-number">563</span><br><span class="line-number">564</span><br><span class="line-number">565</span><br><span class="line-number">566</span><br><span class="line-number">567</span><br><span class="line-number">568</span><br><span class="line-number">569</span><br><span class="line-number">570</span><br><span class="line-number">571</span><br><span class="line-number">572</span><br><span class="line-number">573</span><br><span class="line-number">574</span><br><span class="line-number">575</span><br><span class="line-number">576</span><br><span class="line-number">577</span><br><span class="line-number">578</span><br><span class="line-number">579</span><br><span class="line-number">580</span><br><span class="line-number">581</span><br><span class="line-number">582</span><br><span class="line-number">583</span><br><span class="line-number">584</span><br><span class="line-number">585</span><br><span class="line-number">586</span><br><span class="line-number">587</span><br><span class="line-number">588</span><br><span class="line-number">589</span><br><span class="line-number">590</span><br><span class="line-number">591</span><br><span class="line-number">592</span><br><span class="line-number">593</span><br><span class="line-number">594</span><br><span class="line-number">595</span><br><span class="line-number">596</span><br><span class="line-number">597</span><br><span class="line-number">598</span><br><span class="line-number">599</span><br><span class="line-number">600</span><br><span class="line-number">601</span><br><span class="line-number">602</span><br><span class="line-number">603</span><br><span class="line-number">604</span><br><span class="line-number">605</span><br><span class="line-number">606</span><br><span class="line-number">607</span><br><span class="line-number">608</span><br><span class="line-number">609</span><br><span class="line-number">610</span><br><span class="line-number">611</span><br><span class="line-number">612</span><br><span class="line-number">613</span><br><span class="line-number">614</span><br><span class="line-number">615</span><br><span class="line-number">616</span><br><span class="line-number">617</span><br><span class="line-number">618</span><br><span class="line-number">619</span><br><span class="line-number">620</span><br><span class="line-number">621</span><br><span class="line-number">622</span><br><span class="line-number">623</span><br><span class="line-number">624</span><br><span class="line-number">625</span><br><span class="line-number">626</span><br><span class="line-number">627</span><br><span class="line-number">628</span><br><span class="line-number">629</span><br><span class="line-number">630</span><br><span class="line-number">631</span><br><span class="line-number">632</span><br><span class="line-number">633</span><br><span class="line-number">634</span><br><span class="line-number">635</span><br><span class="line-number">636</span><br><span class="line-number">637</span><br><span class="line-number">638</span><br><span class="line-number">639</span><br><span class="line-number">640</span><br><span class="line-number">641</span><br><span class="line-number">642</span><br><span class="line-number">643</span><br><span class="line-number">644</span><br><span class="line-number">645</span><br><span class="line-number">646</span><br><span class="line-number">647</span><br><span class="line-number">648</span><br><span class="line-number">649</span><br><span class="line-number">650</span><br><span class="line-number">651</span><br><span class="line-number">652</span><br><span class="line-number">653</span><br><span class="line-number">654</span><br><span class="line-number">655</span><br><span class="line-number">656</span><br><span class="line-number">657</span><br><span class="line-number">658</span><br><span class="line-number">659</span><br><span class="line-number">660</span><br><span class="line-number">661</span><br><span class="line-number">662</span><br><span class="line-number">663</span><br><span class="line-number">664</span><br><span class="line-number">665</span><br><span class="line-number">666</span><br><span class="line-number">667</span><br><span class="line-number">668</span><br><span class="line-number">669</span><br><span class="line-number">670</span><br><span class="line-number">671</span><br><span class="line-number">672</span><br><span class="line-number">673</span><br><span class="line-number">674</span><br><span class="line-number">675</span><br><span class="line-number">676</span><br><span class="line-number">677</span><br><span class="line-number">678</span><br><span class="line-number">679</span><br><span class="line-number">680</span><br><span class="line-number">681</span><br><span class="line-number">682</span><br><span class="line-number">683</span><br><span class="line-number">684</span><br><span class="line-number">685</span><br><span class="line-number">686</span><br><span class="line-number">687</span><br><span class="line-number">688</span><br><span class="line-number">689</span><br><span class="line-number">690</span><br><span class="line-number">691</span><br><span class="line-number">692</span><br><span class="line-number">693</span><br><span class="line-number">694</span><br><span class="line-number">695</span><br><span class="line-number">696</span><br><span class="line-number">697</span><br><span class="line-number">698</span><br><span class="line-number">699</span><br><span class="line-number">700</span><br><span class="line-number">701</span><br><span class="line-number">702</span><br><span class="line-number">703</span><br><span class="line-number">704</span><br><span class="line-number">705</span><br><span class="line-number">706</span><br><span class="line-number">707</span><br><span class="line-number">708</span><br><span class="line-number">709</span><br><span class="line-number">710</span><br><span class="line-number">711</span><br><span class="line-number">712</span><br><span class="line-number">713</span><br><span class="line-number">714</span><br><span class="line-number">715</span><br><span class="line-number">716</span><br><span class="line-number">717</span><br><span class="line-number">718</span><br><span class="line-number">719</span><br><span class="line-number">720</span><br><span class="line-number">721</span><br><span class="line-number">722</span><br><span class="line-number">723</span><br><span class="line-number">724</span><br><span class="line-number">725</span><br><span class="line-number">726</span><br><span class="line-number">727</span><br><span class="line-number">728</span><br><span class="line-number">729</span><br><span class="line-number">730</span><br><span class="line-number">731</span><br><span class="line-number">732</span><br><span class="line-number">733</span><br><span class="line-number">734</span><br><span class="line-number">735</span><br><span class="line-number">736</span><br><span class="line-number">737</span><br><span class="line-number">738</span><br><span class="line-number">739</span><br><span class="line-number">740</span><br><span class="line-number">741</span><br><span class="line-number">742</span><br><span class="line-number">743</span><br><span class="line-number">744</span><br><span class="line-number">745</span><br><span class="line-number">746</span><br><span class="line-number">747</span><br><span class="line-number">748</span><br><span class="line-number">749</span><br><span class="line-number">750</span><br><span class="line-number">751</span><br><span class="line-number">752</span><br><span class="line-number">753</span><br><span class="line-number">754</span><br><span class="line-number">755</span><br><span class="line-number">756</span><br><span class="line-number">757</span><br><span class="line-number">758</span><br><span class="line-number">759</span><br><span class="line-number">760</span><br><span class="line-number">761</span><br><span class="line-number">762</span><br><span class="line-number">763</span><br><span class="line-number">764</span><br><span class="line-number">765</span><br><span class="line-number">766</span><br><span class="line-number">767</span><br><span class="line-number">768</span><br><span class="line-number">769</span><br><span class="line-number">770</span><br><span class="line-number">771</span><br><span class="line-number">772</span><br><span class="line-number">773</span><br><span class="line-number">774</span><br><span class="line-number">775</span><br><span class="line-number">776</span><br><span class="line-number">777</span><br><span class="line-number">778</span><br><span class="line-number">779</span><br><span class="line-number">780</span><br><span class="line-number">781</span><br><span class="line-number">782</span><br><span class="line-number">783</span><br><span class="line-number">784</span><br><span class="line-number">785</span><br><span class="line-number">786</span><br><span class="line-number">787</span><br><span class="line-number">788</span><br><span class="line-number">789</span><br><span class="line-number">790</span><br><span class="line-number">791</span><br><span class="line-number">792</span><br><span class="line-number">793</span><br><span class="line-number">794</span><br><span class="line-number">795</span><br><span class="line-number">796</span><br><span class="line-number">797</span><br><span class="line-number">798</span><br><span class="line-number">799</span><br><span class="line-number">800</span><br><span class="line-number">801</span><br><span class="line-number">802</span><br><span class="line-number">803</span><br><span class="line-number">804</span><br><span class="line-number">805</span><br><span class="line-number">806</span><br><span class="line-number">807</span><br><span class="line-number">808</span><br><span class="line-number">809</span><br><span class="line-number">810</span><br><span class="line-number">811</span><br><span class="line-number">812</span><br><span class="line-number">813</span><br><span class="line-number">814</span><br><span class="line-number">815</span><br><span class="line-number">816</span><br><span class="line-number">817</span><br><span class="line-number">818</span><br><span class="line-number">819</span><br><span class="line-number">820</span><br><span class="line-number">821</span><br><span class="line-number">822</span><br><span class="line-number">823</span><br><span class="line-number">824</span><br><span class="line-number">825</span><br><span class="line-number">826</span><br><span class="line-number">827</span><br><span class="line-number">828</span><br><span class="line-number">829</span><br><span class="line-number">830</span><br><span class="line-number">831</span><br><span class="line-number">832</span><br><span class="line-number">833</span><br><span class="line-number">834</span><br><span class="line-number">835</span><br><span class="line-number">836</span><br><span class="line-number">837</span><br><span class="line-number">838</span><br><span class="line-number">839</span><br><span class="line-number">840</span><br><span class="line-number">841</span><br><span class="line-number">842</span><br><span class="line-number">843</span><br><span class="line-number">844</span><br><span class="line-number">845</span><br><span class="line-number">846</span><br><span class="line-number">847</span><br><span class="line-number">848</span><br><span class="line-number">849</span><br><span class="line-number">850</span><br><span class="line-number">851</span><br><span class="line-number">852</span><br><span class="line-number">853</span><br><span class="line-number">854</span><br><span class="line-number">855</span><br><span class="line-number">856</span><br><span class="line-number">857</span><br><span class="line-number">858</span><br><span class="line-number">859</span><br><span class="line-number">860</span><br><span class="line-number">861</span><br><span class="line-number">862</span><br><span class="line-number">863</span><br><span class="line-number">864</span><br><span class="line-number">865</span><br><span class="line-number">866</span><br><span class="line-number">867</span><br><span class="line-number">868</span><br><span class="line-number">869</span><br><span class="line-number">870</span><br><span class="line-number">871</span><br><span class="line-number">872</span><br><span class="line-number">873</span><br><span class="line-number">874</span><br><span class="line-number">875</span><br><span class="line-number">876</span><br><span class="line-number">877</span><br><span class="line-number">878</span><br><span class="line-number">879</span><br><span class="line-number">880</span><br><span class="line-number">881</span><br><span class="line-number">882</span><br><span class="line-number">883</span><br><span class="line-number">884</span><br><span class="line-number">885</span><br><span class="line-number">886</span><br><span class="line-number">887</span><br><span class="line-number">888</span><br><span class="line-number">889</span><br><span class="line-number">890</span><br><span class="line-number">891</span><br><span class="line-number">892</span><br><span class="line-number">893</span><br><span class="line-number">894</span><br><span class="line-number">895</span><br><span class="line-number">896</span><br><span class="line-number">897</span><br><span class="line-number">898</span><br><span class="line-number">899</span><br><span class="line-number">900</span><br><span class="line-number">901</span><br><span class="line-number">902</span><br><span class="line-number">903</span><br><span class="line-number">904</span><br><span class="line-number">905</span><br><span class="line-number">906</span><br><span class="line-number">907</span><br><span class="line-number">908</span><br><span class="line-number">909</span><br><span class="line-number">910</span><br><span class="line-number">911</span><br><span class="line-number">912</span><br><span class="line-number">913</span><br><span class="line-number">914</span><br><span class="line-number">915</span><br><span class="line-number">916</span><br><span class="line-number">917</span><br><span class="line-number">918</span><br><span class="line-number">919</span><br><span class="line-number">920</span><br><span class="line-number">921</span><br><span class="line-number">922</span><br><span class="line-number">923</span><br><span class="line-number">924</span><br><span class="line-number">925</span><br><span class="line-number">926</span><br><span class="line-number">927</span><br><span class="line-number">928</span><br><span class="line-number">929</span><br><span class="line-number">930</span><br><span class="line-number">931</span><br><span class="line-number">932</span><br><span class="line-number">933</span><br><span class="line-number">934</span><br><span class="line-number">935</span><br><span class="line-number">936</span><br><span class="line-number">937</span><br><span class="line-number">938</span><br><span class="line-number">939</span><br><span class="line-number">940</span><br><span class="line-number">941</span><br><span class="line-number">942</span><br><span class="line-number">943</span><br><span class="line-number">944</span><br><span class="line-number">945</span><br><span class="line-number">946</span><br><span class="line-number">947</span><br><span class="line-number">948</span><br><span class="line-number">949</span><br><span class="line-number">950</span><br><span class="line-number">951</span><br><span class="line-number">952</span><br><span class="line-number">953</span><br><span class="line-number">954</span><br><span class="line-number">955</span><br><span class="line-number">956</span><br><span class="line-number">957</span><br><span class="line-number">958</span><br><span class="line-number">959</span><br><span class="line-number">960</span><br><span class="line-number">961</span><br><span class="line-number">962</span><br><span class="line-number">963</span><br><span class="line-number">964</span><br><span class="line-number">965</span><br><span class="line-number">966</span><br><span class="line-number">967</span><br><span class="line-number">968</span><br><span class="line-number">969</span><br><span class="line-number">970</span><br><span class="line-number">971</span><br><span class="line-number">972</span><br><span class="line-number">973</span><br><span class="line-number">974</span><br><span class="line-number">975</span><br><span class="line-number">976</span><br><span class="line-number">977</span><br><span class="line-number">978</span><br><span class="line-number">979</span><br><span class="line-number">980</span><br><span class="line-number">981</span><br><span class="line-number">982</span><br><span class="line-number">983</span><br><span class="line-number">984</span><br><span class="line-number">985</span><br><span class="line-number">986</span><br><span class="line-number">987</span><br><span class="line-number">988</span><br><span class="line-number">989</span><br><span class="line-number">990</span><br><span class="line-number">991</span><br><span class="line-number">992</span><br><span class="line-number">993</span><br><span class="line-number">994</span><br><span class="line-number">995</span><br><span class="line-number">996</span><br><span class="line-number">997</span><br><span class="line-number">998</span><br><span class="line-number">999</span><br><span class="line-number">1000</span><br><span class="line-number">1001</span><br><span class="line-number">1002</span><br><span class="line-number">1003</span><br><span class="line-number">1004</span><br><span class="line-number">1005</span><br><span class="line-number">1006</span><br><span class="line-number">1007</span><br><span class="line-number">1008</span><br><span class="line-number">1009</span><br><span class="line-number">1010</span><br><span class="line-number">1011</span><br><span class="line-number">1012</span><br><span class="line-number">1013</span><br><span class="line-number">1014</span><br><span class="line-number">1015</span><br><span class="line-number">1016</span><br><span class="line-number">1017</span><br><span class="line-number">1018</span><br><span class="line-number">1019</span><br><span class="line-number">1020</span><br><span class="line-number">1021</span><br><span class="line-number">1022</span><br><span class="line-number">1023</span><br><span class="line-number">1024</span><br><span class="line-number">1025</span><br><span class="line-number">1026</span><br><span class="line-number">1027</span><br><span class="line-number">1028</span><br><span class="line-number">1029</span><br><span class="line-number">1030</span><br><span class="line-number">1031</span><br><span class="line-number">1032</span><br><span class="line-number">1033</span><br><span class="line-number">1034</span><br><span class="line-number">1035</span><br><span class="line-number">1036</span><br><span class="line-number">1037</span><br><span class="line-number">1038</span><br><span class="line-number">1039</span><br><span class="line-number">1040</span><br><span class="line-number">1041</span><br><span class="line-number">1042</span><br><span class="line-number">1043</span><br><span class="line-number">1044</span><br><span class="line-number">1045</span><br><span class="line-number">1046</span><br><span class="line-number">1047</span><br><span class="line-number">1048</span><br><span class="line-number">1049</span><br><span class="line-number">1050</span><br><span class="line-number">1051</span><br><span class="line-number">1052</span><br><span class="line-number">1053</span><br><span class="line-number">1054</span><br><span class="line-number">1055</span><br><span class="line-number">1056</span><br><span class="line-number">1057</span><br><span class="line-number">1058</span><br><span class="line-number">1059</span><br><span class="line-number">1060</span><br><span class="line-number">1061</span><br><span class="line-number">1062</span><br><span class="line-number">1063</span><br><span class="line-number">1064</span><br><span class="line-number">1065</span><br><span class="line-number">1066</span><br><span class="line-number">1067</span><br><span class="line-number">1068</span><br><span class="line-number">1069</span><br><span class="line-number">1070</span><br><span class="line-number">1071</span><br><span class="line-number">1072</span><br><span class="line-number">1073</span><br><span class="line-number">1074</span><br><span class="line-number">1075</span><br><span class="line-number">1076</span><br><span class="line-number">1077</span><br><span class="line-number">1078</span><br><span class="line-number">1079</span><br><span class="line-number">1080</span><br><span class="line-number">1081</span><br><span class="line-number">1082</span><br><span class="line-number">1083</span><br><span class="line-number">1084</span><br><span class="line-number">1085</span><br><span class="line-number">1086</span><br><span class="line-number">1087</span><br><span class="line-number">1088</span><br><span class="line-number">1089</span><br><span class="line-number">1090</span><br><span class="line-number">1091</span><br><span class="line-number">1092</span><br><span class="line-number">1093</span><br><span class="line-number">1094</span><br><span class="line-number">1095</span><br><span class="line-number">1096</span><br><span class="line-number">1097</span><br><span class="line-number">1098</span><br><span class="line-number">1099</span><br><span class="line-number">1100</span><br><span class="line-number">1101</span><br><span class="line-number">1102</span><br><span class="line-number">1103</span><br><span class="line-number">1104</span><br><span class="line-number">1105</span><br><span class="line-number">1106</span><br><span class="line-number">1107</span><br><span class="line-number">1108</span><br><span class="line-number">1109</span><br><span class="line-number">1110</span><br><span class="line-number">1111</span><br><span class="line-number">1112</span><br><span class="line-number">1113</span><br><span class="line-number">1114</span><br><span class="line-number">1115</span><br><span class="line-number">1116</span><br><span class="line-number">1117</span><br><span class="line-number">1118</span><br><span class="line-number">1119</span><br><span class="line-number">1120</span><br><span class="line-number">1121</span><br><span class="line-number">1122</span><br><span class="line-number">1123</span><br><span class="line-number">1124</span><br><span class="line-number">1125</span><br><span class="line-number">1126</span><br><span class="line-number">1127</span><br><span class="line-number">1128</span><br><span class="line-number">1129</span><br><span class="line-number">1130</span><br><span class="line-number">1131</span><br><span class="line-number">1132</span><br><span class="line-number">1133</span><br><span class="line-number">1134</span><br><span class="line-number">1135</span><br><span class="line-number">1136</span><br><span class="line-number">1137</span><br><span class="line-number">1138</span><br><span class="line-number">1139</span><br><span class="line-number">1140</span><br><span class="line-number">1141</span><br><span class="line-number">1142</span><br><span class="line-number">1143</span><br><span class="line-number">1144</span><br><span class="line-number">1145</span><br><span class="line-number">1146</span><br><span class="line-number">1147</span><br><span class="line-number">1148</span><br><span class="line-number">1149</span><br><span class="line-number">1150</span><br><span class="line-number">1151</span><br><span class="line-number">1152</span><br><span class="line-number">1153</span><br><span class="line-number">1154</span><br><span class="line-number">1155</span><br><span class="line-number">1156</span><br><span class="line-number">1157</span><br><span class="line-number">1158</span><br><span class="line-number">1159</span><br><span class="line-number">1160</span><br><span class="line-number">1161</span><br><span class="line-number">1162</span><br><span class="line-number">1163</span><br><span class="line-number">1164</span><br><span class="line-number">1165</span><br><span class="line-number">1166</span><br><span class="line-number">1167</span><br><span class="line-number">1168</span><br><span class="line-number">1169</span><br><span class="line-number">1170</span><br><span class="line-number">1171</span><br><span class="line-number">1172</span><br><span class="line-number">1173</span><br><span class="line-number">1174</span><br><span class="line-number">1175</span><br><span class="line-number">1176</span><br><span class="line-number">1177</span><br><span class="line-number">1178</span><br><span class="line-number">1179</span><br><span class="line-number">1180</span><br><span class="line-number">1181</span><br><span class="line-number">1182</span><br><span class="line-number">1183</span><br><span class="line-number">1184</span><br><span class="line-number">1185</span><br><span class="line-number">1186</span><br><span class="line-number">1187</span><br><span class="line-number">1188</span><br><span class="line-number">1189</span><br><span class="line-number">1190</span><br><span class="line-number">1191</span><br><span class="line-number">1192</span><br><span class="line-number">1193</span><br><span class="line-number">1194</span><br><span class="line-number">1195</span><br><span class="line-number">1196</span><br><span class="line-number">1197</span><br><span class="line-number">1198</span><br><span class="line-number">1199</span><br><span class="line-number">1200</span><br><span class="line-number">1201</span><br><span class="line-number">1202</span><br><span class="line-number">1203</span><br><span class="line-number">1204</span><br><span class="line-number">1205</span><br><span class="line-number">1206</span><br><span class="line-number">1207</span><br><span class="line-number">1208</span><br><span class="line-number">1209</span><br><span class="line-number">1210</span><br><span class="line-number">1211</span><br><span class="line-number">1212</span><br><span class="line-number">1213</span><br><span class="line-number">1214</span><br><span class="line-number">1215</span><br><span class="line-number">1216</span><br><span class="line-number">1217</span><br><span class="line-number">1218</span><br><span class="line-number">1219</span><br><span class="line-number">1220</span><br><span class="line-number">1221</span><br><span class="line-number">1222</span><br><span class="line-number">1223</span><br><span class="line-number">1224</span><br><span class="line-number">1225</span><br><span class="line-number">1226</span><br><span class="line-number">1227</span><br><span class="line-number">1228</span><br><span class="line-number">1229</span><br><span class="line-number">1230</span><br><span class="line-number">1231</span><br><span class="line-number">1232</span><br><span class="line-number">1233</span><br><span class="line-number">1234</span><br><span class="line-number">1235</span><br><span class="line-number">1236</span><br><span class="line-number">1237</span><br><span class="line-number">1238</span><br><span class="line-number">1239</span><br><span class="line-number">1240</span><br><span class="line-number">1241</span><br><span class="line-number">1242</span><br><span class="line-number">1243</span><br><span class="line-number">1244</span><br><span class="line-number">1245</span><br><span class="line-number">1246</span><br><span class="line-number">1247</span><br><span class="line-number">1248</span><br><span class="line-number">1249</span><br><span class="line-number">1250</span><br><span class="line-number">1251</span><br><span class="line-number">1252</span><br><span class="line-number">1253</span><br><span class="line-number">1254</span><br><span class="line-number">1255</span><br><span class="line-number">1256</span><br><span class="line-number">1257</span><br><span class="line-number">1258</span><br><span class="line-number">1259</span><br><span class="line-number">1260</span><br><span class="line-number">1261</span><br><span class="line-number">1262</span><br><span class="line-number">1263</span><br><span class="line-number">1264</span><br><span class="line-number">1265</span><br><span class="line-number">1266</span><br><span class="line-number">1267</span><br><span class="line-number">1268</span><br><span class="line-number">1269</span><br><span class="line-number">1270</span><br><span class="line-number">1271</span><br><span class="line-number">1272</span><br><span class="line-number">1273</span><br><span class="line-number">1274</span><br><span class="line-number">1275</span><br><span class="line-number">1276</span><br><span class="line-number">1277</span><br><span class="line-number">1278</span><br><span class="line-number">1279</span><br><span class="line-number">1280</span><br><span class="line-number">1281</span><br><span class="line-number">1282</span><br><span class="line-number">1283</span><br><span class="line-number">1284</span><br><span class="line-number">1285</span><br><span class="line-number">1286</span><br><span class="line-number">1287</span><br><span class="line-number">1288</span><br><span class="line-number">1289</span><br><span class="line-number">1290</span><br><span class="line-number">1291</span><br><span class="line-number">1292</span><br><span class="line-number">1293</span><br><span class="line-number">1294</span><br><span class="line-number">1295</span><br><span class="line-number">1296</span><br><span class="line-number">1297</span><br><span class="line-number">1298</span><br><span class="line-number">1299</span><br><span class="line-number">1300</span><br><span class="line-number">1301</span><br><span class="line-number">1302</span><br><span class="line-number">1303</span><br><span class="line-number">1304</span><br><span class="line-number">1305</span><br><span class="line-number">1306</span><br><span class="line-number">1307</span><br><span class="line-number">1308</span><br><span class="line-number">1309</span><br><span class="line-number">1310</span><br><span class="line-number">1311</span><br><span class="line-number">1312</span><br><span class="line-number">1313</span><br><span class="line-number">1314</span><br><span class="line-number">1315</span><br><span class="line-number">1316</span><br><span class="line-number">1317</span><br><span class="line-number">1318</span><br><span class="line-number">1319</span><br><span class="line-number">1320</span><br><span class="line-number">1321</span><br><span class="line-number">1322</span><br><span class="line-number">1323</span><br><span class="line-number">1324</span><br><span class="line-number">1325</span><br><span class="line-number">1326</span><br><span class="line-number">1327</span><br><span class="line-number">1328</span><br><span class="line-number">1329</span><br><span class="line-number">1330</span><br><span class="line-number">1331</span><br><span class="line-number">1332</span><br><span class="line-number">1333</span><br><span class="line-number">1334</span><br><span class="line-number">1335</span><br><span class="line-number">1336</span><br><span class="line-number">1337</span><br><span class="line-number">1338</span><br><span class="line-number">1339</span><br><span class="line-number">1340</span><br><span class="line-number">1341</span><br><span class="line-number">1342</span><br><span class="line-number">1343</span><br><span class="line-number">1344</span><br><span class="line-number">1345</span><br><span class="line-number">1346</span><br><span class="line-number">1347</span><br><span class="line-number">1348</span><br><span class="line-number">1349</span><br><span class="line-number">1350</span><br><span class="line-number">1351</span><br><span class="line-number">1352</span><br><span class="line-number">1353</span><br><span class="line-number">1354</span><br><span class="line-number">1355</span><br><span class="line-number">1356</span><br><span class="line-number">1357</span><br><span class="line-number">1358</span><br><span class="line-number">1359</span><br><span class="line-number">1360</span><br><span class="line-number">1361</span><br><span class="line-number">1362</span><br><span class="line-number">1363</span><br><span class="line-number">1364</span><br><span class="line-number">1365</span><br><span class="line-number">1366</span><br><span class="line-number">1367</span><br><span class="line-number">1368</span><br><span class="line-number">1369</span><br><span class="line-number">1370</span><br><span class="line-number">1371</span><br><span class="line-number">1372</span><br><span class="line-number">1373</span><br><span class="line-number">1374</span><br><span class="line-number">1375</span><br><span class="line-number">1376</span><br><span class="line-number">1377</span><br><span class="line-number">1378</span><br><span class="line-number">1379</span><br><span class="line-number">1380</span><br><span class="line-number">1381</span><br><span class="line-number">1382</span><br><span class="line-number">1383</span><br><span class="line-number">1384</span><br><span class="line-number">1385</span><br><span class="line-number">1386</span><br><span class="line-number">1387</span><br><span class="line-number">1388</span><br><span class="line-number">1389</span><br><span class="line-number">1390</span><br><span class="line-number">1391</span><br><span class="line-number">1392</span><br><span class="line-number">1393</span><br><span class="line-number">1394</span><br><span class="line-number">1395</span><br><span class="line-number">1396</span><br><span class="line-number">1397</span><br><span class="line-number">1398</span><br><span class="line-number">1399</span><br><span class="line-number">1400</span><br><span class="line-number">1401</span><br><span class="line-number">1402</span><br><span class="line-number">1403</span><br><span class="line-number">1404</span><br><span class="line-number">1405</span><br><span class="line-number">1406</span><br><span class="line-number">1407</span><br><span class="line-number">1408</span><br><span class="line-number">1409</span><br><span class="line-number">1410</span><br><span class="line-number">1411</span><br><span class="line-number">1412</span><br><span class="line-number">1413</span><br><span class="line-number">1414</span><br><span class="line-number">1415</span><br><span class="line-number">1416</span><br><span class="line-number">1417</span><br><span class="line-number">1418</span><br><span class="line-number">1419</span><br><span class="line-number">1420</span><br><span class="line-number">1421</span><br><span class="line-number">1422</span><br><span class="line-number">1423</span><br><span class="line-number">1424</span><br><span class="line-number">1425</span><br><span class="line-number">1426</span><br><span class="line-number">1427</span><br><span class="line-number">1428</span><br><span class="line-number">1429</span><br><span class="line-number">1430</span><br><span class="line-number">1431</span><br><span class="line-number">1432</span><br><span class="line-number">1433</span><br><span class="line-number">1434</span><br><span class="line-number">1435</span><br><span class="line-number">1436</span><br><span class="line-number">1437</span><br><span class="line-number">1438</span><br><span class="line-number">1439</span><br><span class="line-number">1440</span><br><span class="line-number">1441</span><br><span class="line-number">1442</span><br><span class="line-number">1443</span><br><span class="line-number">1444</span><br><span class="line-number">1445</span><br><span class="line-number">1446</span><br><span class="line-number">1447</span><br><span class="line-number">1448</span><br><span class="line-number">1449</span><br><span class="line-number">1450</span><br><span class="line-number">1451</span><br><span class="line-number">1452</span><br><span class="line-number">1453</span><br><span class="line-number">1454</span><br><span class="line-number">1455</span><br><span class="line-number">1456</span><br><span class="line-number">1457</span><br><span class="line-number">1458</span><br><span class="line-number">1459</span><br><span class="line-number">1460</span><br><span class="line-number">1461</span><br><span class="line-number">1462</span><br><span class="line-number">1463</span><br><span class="line-number">1464</span><br><span class="line-number">1465</span><br><span class="line-number">1466</span><br><span class="line-number">1467</span><br><span class="line-number">1468</span><br><span class="line-number">1469</span><br><span class="line-number">1470</span><br><span class="line-number">1471</span><br><span class="line-number">1472</span><br><span class="line-number">1473</span><br><span class="line-number">1474</span><br><span class="line-number">1475</span><br><span class="line-number">1476</span><br><span class="line-number">1477</span><br><span class="line-number">1478</span><br><span class="line-number">1479</span><br><span class="line-number">1480</span><br><span class="line-number">1481</span><br><span class="line-number">1482</span><br><span class="line-number">1483</span><br><span class="line-number">1484</span><br><span class="line-number">1485</span><br><span class="line-number">1486</span><br><span class="line-number">1487</span><br><span class="line-number">1488</span><br><span class="line-number">1489</span><br><span class="line-number">1490</span><br><span class="line-number">1491</span><br><span class="line-number">1492</span><br><span class="line-number">1493</span><br><span class="line-number">1494</span><br><span class="line-number">1495</span><br><span class="line-number">1496</span><br><span class="line-number">1497</span><br><span class="line-number">1498</span><br><span class="line-number">1499</span><br><span class="line-number">1500</span><br><span class="line-number">1501</span><br><span class="line-number">1502</span><br><span class="line-number">1503</span><br><span class="line-number">1504</span><br><span class="line-number">1505</span><br><span class="line-number">1506</span><br><span class="line-number">1507</span><br><span class="line-number">1508</span><br><span class="line-number">1509</span><br><span class="line-number">1510</span><br><span class="line-number">1511</span><br><span class="line-number">1512</span><br><span class="line-number">1513</span><br><span class="line-number">1514</span><br><span class="line-number">1515</span><br><span class="line-number">1516</span><br><span class="line-number">1517</span><br><span class="line-number">1518</span><br><span class="line-number">1519</span><br><span class="line-number">1520</span><br><span class="line-number">1521</span><br><span class="line-number">1522</span><br><span class="line-number">1523</span><br><span class="line-number">1524</span><br><span class="line-number">1525</span><br><span class="line-number">1526</span><br><span class="line-number">1527</span><br><span class="line-number">1528</span><br><span class="line-number">1529</span><br><span class="line-number">1530</span><br><span class="line-number">1531</span><br><span class="line-number">1532</span><br><span class="line-number">1533</span><br><span class="line-number">1534</span><br><span class="line-number">1535</span><br><span class="line-number">1536</span><br><span class="line-number">1537</span><br><span class="line-number">1538</span><br><span class="line-number">1539</span><br><span class="line-number">1540</span><br><span class="line-number">1541</span><br><span class="line-number">1542</span><br><span class="line-number">1543</span><br><span class="line-number">1544</span><br><span class="line-number">1545</span><br><span class="line-number">1546</span><br><span class="line-number">1547</span><br><span class="line-number">1548</span><br><span class="line-number">1549</span><br><span class="line-number">1550</span><br><span class="line-number">1551</span><br><span class="line-number">1552</span><br><span class="line-number">1553</span><br><span class="line-number">1554</span><br><span class="line-number">1555</span><br><span class="line-number">1556</span><br><span class="line-number">1557</span><br><span class="line-number">1558</span><br><span class="line-number">1559</span><br><span class="line-number">1560</span><br><span class="line-number">1561</span><br><span class="line-number">1562</span><br><span class="line-number">1563</span><br><span class="line-number">1564</span><br><span class="line-number">1565</span><br><span class="line-number">1566</span><br><span class="line-number">1567</span><br><span class="line-number">1568</span><br><span class="line-number">1569</span><br><span class="line-number">1570</span><br><span class="line-number">1571</span><br><span class="line-number">1572</span><br><span class="line-number">1573</span><br><span class="line-number">1574</span><br><span class="line-number">1575</span><br><span class="line-number">1576</span><br><span class="line-number">1577</span><br><span class="line-number">1578</span><br><span class="line-number">1579</span><br><span class="line-number">1580</span><br><span class="line-number">1581</span><br><span class="line-number">1582</span><br><span class="line-number">1583</span><br><span class="line-number">1584</span><br><span class="line-number">1585</span><br><span class="line-number">1586</span><br><span class="line-number">1587</span><br><span class="line-number">1588</span><br><span class="line-number">1589</span><br><span class="line-number">1590</span><br><span class="line-number">1591</span><br><span class="line-number">1592</span><br><span class="line-number">1593</span><br><span class="line-number">1594</span><br><span class="line-number">1595</span><br><span class="line-number">1596</span><br><span class="line-number">1597</span><br><span class="line-number">1598</span><br><span class="line-number">1599</span><br><span class="line-number">1600</span><br><span class="line-number">1601</span><br><span class="line-number">1602</span><br><span class="line-number">1603</span><br><span class="line-number">1604</span><br><span class="line-number">1605</span><br><span class="line-number">1606</span><br><span class="line-number">1607</span><br><span class="line-number">1608</span><br><span class="line-number">1609</span><br><span class="line-number">1610</span><br><span class="line-number">1611</span><br><span class="line-number">1612</span><br><span class="line-number">1613</span><br><span class="line-number">1614</span><br><span class="line-number">1615</span><br><span class="line-number">1616</span><br><span class="line-number">1617</span><br><span class="line-number">1618</span><br><span class="line-number">1619</span><br><span class="line-number">1620</span><br><span class="line-number">1621</span><br><span class="line-number">1622</span><br><span class="line-number">1623</span><br><span class="line-number">1624</span><br><span class="line-number">1625</span><br><span class="line-number">1626</span><br><span class="line-number">1627</span><br><span class="line-number">1628</span><br><span class="line-number">1629</span><br><span class="line-number">1630</span><br><span class="line-number">1631</span><br><span class="line-number">1632</span><br><span class="line-number">1633</span><br><span class="line-number">1634</span><br><span class="line-number">1635</span><br><span class="line-number">1636</span><br><span class="line-number">1637</span><br><span class="line-number">1638</span><br><span class="line-number">1639</span><br><span class="line-number">1640</span><br><span class="line-number">1641</span><br><span class="line-number">1642</span><br><span class="line-number">1643</span><br><span class="line-number">1644</span><br><span class="line-number">1645</span><br><span class="line-number">1646</span><br><span class="line-number">1647</span><br><span class="line-number">1648</span><br><span class="line-number">1649</span><br><span class="line-number">1650</span><br><span class="line-number">1651</span><br><span class="line-number">1652</span><br><span class="line-number">1653</span><br><span class="line-number">1654</span><br><span class="line-number">1655</span><br><span class="line-number">1656</span><br><span class="line-number">1657</span><br><span class="line-number">1658</span><br><span class="line-number">1659</span><br><span class="line-number">1660</span><br><span class="line-number">1661</span><br><span class="line-number">1662</span><br><span class="line-number">1663</span><br><span class="line-number">1664</span><br><span class="line-number">1665</span><br><span class="line-number">1666</span><br><span class="line-number">1667</span><br><span class="line-number">1668</span><br><span class="line-number">1669</span><br><span class="line-number">1670</span><br><span class="line-number">1671</span><br><span class="line-number">1672</span><br><span class="line-number">1673</span><br><span class="line-number">1674</span><br><span class="line-number">1675</span><br><span class="line-number">1676</span><br><span class="line-number">1677</span><br><span class="line-number">1678</span><br><span class="line-number">1679</span><br><span class="line-number">1680</span><br><span class="line-number">1681</span><br><span class="line-number">1682</span><br><span class="line-number">1683</span><br><span class="line-number">1684</span><br><span class="line-number">1685</span><br><span class="line-number">1686</span><br><span class="line-number">1687</span><br><span class="line-number">1688</span><br><span class="line-number">1689</span><br><span class="line-number">1690</span><br><span class="line-number">1691</span><br><span class="line-number">1692</span><br><span class="line-number">1693</span><br><span class="line-number">1694</span><br><span class="line-number">1695</span><br><span class="line-number">1696</span><br><span class="line-number">1697</span><br><span class="line-number">1698</span><br><span class="line-number">1699</span><br><span class="line-number">1700</span><br><span class="line-number">1701</span><br><span class="line-number">1702</span><br><span class="line-number">1703</span><br><span class="line-number">1704</span><br><span class="line-number">1705</span><br><span class="line-number">1706</span><br><span class="line-number">1707</span><br><span class="line-number">1708</span><br><span class="line-number">1709</span><br><span class="line-number">1710</span><br><span class="line-number">1711</span><br><span class="line-number">1712</span><br><span class="line-number">1713</span><br><span class="line-number">1714</span><br><span class="line-number">1715</span><br><span class="line-number">1716</span><br><span class="line-number">1717</span><br><span class="line-number">1718</span><br><span class="line-number">1719</span><br><span class="line-number">1720</span><br><span class="line-number">1721</span><br><span class="line-number">1722</span><br><span class="line-number">1723</span><br><span class="line-number">1724</span><br><span class="line-number">1725</span><br><span class="line-number">1726</span><br><span class="line-number">1727</span><br><span class="line-number">1728</span><br><span class="line-number">1729</span><br><span class="line-number">1730</span><br><span class="line-number">1731</span><br><span class="line-number">1732</span><br><span class="line-number">1733</span><br><span class="line-number">1734</span><br><span class="line-number">1735</span><br><span class="line-number">1736</span><br><span class="line-number">1737</span><br><span class="line-number">1738</span><br><span class="line-number">1739</span><br><span class="line-number">1740</span><br><span class="line-number">1741</span><br><span class="line-number">1742</span><br><span class="line-number">1743</span><br><span class="line-number">1744</span><br><span class="line-number">1745</span><br><span class="line-number">1746</span><br><span class="line-number">1747</span><br><span class="line-number">1748</span><br><span class="line-number">1749</span><br><span class="line-number">1750</span><br><span class="line-number">1751</span><br><span class="line-number">1752</span><br><span class="line-number">1753</span><br><span class="line-number">1754</span><br><span class="line-number">1755</span><br><span class="line-number">1756</span><br><span class="line-number">1757</span><br><span class="line-number">1758</span><br><span class="line-number">1759</span><br><span class="line-number">1760</span><br><span class="line-number">1761</span><br><span class="line-number">1762</span><br><span class="line-number">1763</span><br><span class="line-number">1764</span><br><span class="line-number">1765</span><br><span class="line-number">1766</span><br><span class="line-number">1767</span><br><span class="line-number">1768</span><br><span class="line-number">1769</span><br><span class="line-number">1770</span><br><span class="line-number">1771</span><br><span class="line-number">1772</span><br><span class="line-number">1773</span><br><span class="line-number">1774</span><br><span class="line-number">1775</span><br><span class="line-number">1776</span><br><span class="line-number">1777</span><br><span class="line-number">1778</span><br><span class="line-number">1779</span><br><span class="line-number">1780</span><br><span class="line-number">1781</span><br><span class="line-number">1782</span><br><span class="line-number">1783</span><br><span class="line-number">1784</span><br><span class="line-number">1785</span><br><span class="line-number">1786</span><br><span class="line-number">1787</span><br><span class="line-number">1788</span><br><span class="line-number">1789</span><br><span class="line-number">1790</span><br><span class="line-number">1791</span><br><span class="line-number">1792</span><br><span class="line-number">1793</span><br><span class="line-number">1794</span><br><span class="line-number">1795</span><br><span class="line-number">1796</span><br><span class="line-number">1797</span><br><span class="line-number">1798</span><br><span class="line-number">1799</span><br><span class="line-number">1800</span><br><span class="line-number">1801</span><br><span class="line-number">1802</span><br><span class="line-number">1803</span><br><span class="line-number">1804</span><br><span class="line-number">1805</span><br><span class="line-number">1806</span><br><span class="line-number">1807</span><br><span class="line-number">1808</span><br><span class="line-number">1809</span><br><span class="line-number">1810</span><br><span class="line-number">1811</span><br><span class="line-number">1812</span><br><span class="line-number">1813</span><br><span class="line-number">1814</span><br><span class="line-number">1815</span><br><span class="line-number">1816</span><br><span class="line-number">1817</span><br><span class="line-number">1818</span><br><span class="line-number">1819</span><br><span class="line-number">1820</span><br><span class="line-number">1821</span><br><span class="line-number">1822</span><br><span class="line-number">1823</span><br><span class="line-number">1824</span><br><span class="line-number">1825</span><br><span class="line-number">1826</span><br><span class="line-number">1827</span><br><span class="line-number">1828</span><br><span class="line-number">1829</span><br><span class="line-number">1830</span><br><span class="line-number">1831</span><br><span class="line-number">1832</span><br><span class="line-number">1833</span><br><span class="line-number">1834</span><br><span class="line-number">1835</span><br><span class="line-number">1836</span><br><span class="line-number">1837</span><br><span class="line-number">1838</span><br><span class="line-number">1839</span><br><span class="line-number">1840</span><br><span class="line-number">1841</span><br><span class="line-number">1842</span><br><span class="line-number">1843</span><br><span class="line-number">1844</span><br><span class="line-number">1845</span><br><span class="line-number">1846</span><br><span class="line-number">1847</span><br><span class="line-number">1848</span><br><span class="line-number">1849</span><br><span class="line-number">1850</span><br><span class="line-number">1851</span><br><span class="line-number">1852</span><br><span class="line-number">1853</span><br><span class="line-number">1854</span><br><span class="line-number">1855</span><br><span class="line-number">1856</span><br><span class="line-number">1857</span><br><span class="line-number">1858</span><br><span class="line-number">1859</span><br><span class="line-number">1860</span><br><span class="line-number">1861</span><br><span class="line-number">1862</span><br><span class="line-number">1863</span><br><span class="line-number">1864</span><br><span class="line-number">1865</span><br><span class="line-number">1866</span><br><span class="line-number">1867</span><br><span class="line-number">1868</span><br><span class="line-number">1869</span><br><span class="line-number">1870</span><br><span class="line-number">1871</span><br><span class="line-number">1872</span><br><span class="line-number">1873</span><br><span class="line-number">1874</span><br><span class="line-number">1875</span><br><span class="line-number">1876</span><br><span class="line-number">1877</span><br><span class="line-number">1878</span><br><span class="line-number">1879</span><br><span class="line-number">1880</span><br><span class="line-number">1881</span><br><span class="line-number">1882</span><br><span class="line-number">1883</span><br><span class="line-number">1884</span><br><span class="line-number">1885</span><br><span class="line-number">1886</span><br><span class="line-number">1887</span><br><span class="line-number">1888</span><br><span class="line-number">1889</span><br><span class="line-number">1890</span><br><span class="line-number">1891</span><br><span class="line-number">1892</span><br><span class="line-number">1893</span><br><span class="line-number">1894</span><br><span class="line-number">1895</span><br><span class="line-number">1896</span><br><span class="line-number">1897</span><br><span class="line-number">1898</span><br><span class="line-number">1899</span><br><span class="line-number">1900</span><br><span class="line-number">1901</span><br><span class="line-number">1902</span><br><span class="line-number">1903</span><br><span class="line-number">1904</span><br><span class="line-number">1905</span><br><span class="line-number">1906</span><br><span class="line-number">1907</span><br><span class="line-number">1908</span><br><span class="line-number">1909</span><br><span class="line-number">1910</span><br><span class="line-number">1911</span><br><span class="line-number">1912</span><br><span class="line-number">1913</span><br><span class="line-number">1914</span><br><span class="line-number">1915</span><br><span class="line-number">1916</span><br><span class="line-number">1917</span><br><span class="line-number">1918</span><br><span class="line-number">1919</span><br><span class="line-number">1920</span><br><span class="line-number">1921</span><br><span class="line-number">1922</span><br><span class="line-number">1923</span><br><span class="line-number">1924</span><br><span class="line-number">1925</span><br><span class="line-number">1926</span><br><span class="line-number">1927</span><br><span class="line-number">1928</span><br><span class="line-number">1929</span><br><span class="line-number">1930</span><br><span class="line-number">1931</span><br><span class="line-number">1932</span><br><span class="line-number">1933</span><br><span class="line-number">1934</span><br><span class="line-number">1935</span><br><span class="line-number">1936</span><br><span class="line-number">1937</span><br><span class="line-number">1938</span><br><span class="line-number">1939</span><br><span class="line-number">1940</span><br><span class="line-number">1941</span><br><span class="line-number">1942</span><br><span class="line-number">1943</span><br><span class="line-number">1944</span><br><span class="line-number">1945</span><br><span class="line-number">1946</span><br><span class="line-number">1947</span><br><span class="line-number">1948</span><br><span class="line-number">1949</span><br><span class="line-number">1950</span><br><span class="line-number">1951</span><br><span class="line-number">1952</span><br><span class="line-number">1953</span><br><span class="line-number">1954</span><br><span class="line-number">1955</span><br><span class="line-number">1956</span><br><span class="line-number">1957</span><br><span class="line-number">1958</span><br><span class="line-number">1959</span><br><span class="line-number">1960</span><br><span class="line-number">1961</span><br><span class="line-number">1962</span><br><span class="line-number">1963</span><br><span class="line-number">1964</span><br><span class="line-number">1965</span><br><span class="line-number">1966</span><br><span class="line-number">1967</span><br><span class="line-number">1968</span><br><span class="line-number">1969</span><br><span class="line-number">1970</span><br><span class="line-number">1971</span><br><span class="line-number">1972</span><br><span class="line-number">1973</span><br><span class="line-number">1974</span><br><span class="line-number">1975</span><br><span class="line-number">1976</span><br><span class="line-number">1977</span><br><span class="line-number">1978</span><br><span class="line-number">1979</span><br><span class="line-number">1980</span><br><span class="line-number">1981</span><br><span class="line-number">1982</span><br><span class="line-number">1983</span><br><span class="line-number">1984</span><br><span class="line-number">1985</span><br><span class="line-number">1986</span><br><span class="line-number">1987</span><br><span class="line-number">1988</span><br><span class="line-number">1989</span><br><span class="line-number">1990</span><br><span class="line-number">1991</span><br><span class="line-number">1992</span><br><span class="line-number">1993</span><br><span class="line-number">1994</span><br><span class="line-number">1995</span><br><span class="line-number">1996</span><br><span class="line-number">1997</span><br><span class="line-number">1998</span><br><span class="line-number">1999</span><br><span class="line-number">2000</span><br><span class="line-number">2001</span><br><span class="line-number">2002</span><br><span class="line-number">2003</span><br><span class="line-number">2004</span><br><span class="line-number">2005</span><br><span class="line-number">2006</span><br><span class="line-number">2007</span><br><span class="line-number">2008</span><br><span class="line-number">2009</span><br><span class="line-number">2010</span><br><span class="line-number">2011</span><br><span class="line-number">2012</span><br><span class="line-number">2013</span><br><span class="line-number">2014</span><br><span class="line-number">2015</span><br><span class="line-number">2016</span><br><span class="line-number">2017</span><br><span class="line-number">2018</span><br><span class="line-number">2019</span><br><span class="line-number">2020</span><br><span class="line-number">2021</span><br><span class="line-number">2022</span><br><span class="line-number">2023</span><br><span class="line-number">2024</span><br><span class="line-number">2025</span><br><span class="line-number">2026</span><br><span class="line-number">2027</span><br><span class="line-number">2028</span><br><span class="line-number">2029</span><br><span class="line-number">2030</span><br><span class="line-number">2031</span><br><span class="line-number">2032</span><br><span class="line-number">2033</span><br><span class="line-number">2034</span><br><span class="line-number">2035</span><br><span class="line-number">2036</span><br><span class="line-number">2037</span><br><span class="line-number">2038</span><br><span class="line-number">2039</span><br><span class="line-number">2040</span><br><span class="line-number">2041</span><br><span class="line-number">2042</span><br><span class="line-number">2043</span><br><span class="line-number">2044</span><br><span class="line-number">2045</span><br><span class="line-number">2046</span><br><span class="line-number">2047</span><br><span class="line-number">2048</span><br><span class="line-number">2049</span><br><span class="line-number">2050</span><br><span class="line-number">2051</span><br><span class="line-number">2052</span><br><span class="line-number">2053</span><br><span class="line-number">2054</span><br><span class="line-number">2055</span><br><span class="line-number">2056</span><br><span class="line-number">2057</span><br><span class="line-number">2058</span><br><span class="line-number">2059</span><br><span class="line-number">2060</span><br><span class="line-number">2061</span><br><span class="line-number">2062</span><br><span class="line-number">2063</span><br><span class="line-number">2064</span><br><span class="line-number">2065</span><br><span class="line-number">2066</span><br><span class="line-number">2067</span><br><span class="line-number">2068</span><br><span class="line-number">2069</span><br><span class="line-number">2070</span><br><span class="line-number">2071</span><br><span class="line-number">2072</span><br><span class="line-number">2073</span><br><span class="line-number">2074</span><br><span class="line-number">2075</span><br><span class="line-number">2076</span><br><span class="line-number">2077</span><br><span class="line-number">2078</span><br><span class="line-number">2079</span><br><span class="line-number">2080</span><br><span class="line-number">2081</span><br><span class="line-number">2082</span><br><span class="line-number">2083</span><br><span class="line-number">2084</span><br><span class="line-number">2085</span><br><span class="line-number">2086</span><br><span class="line-number">2087</span><br><span class="line-number">2088</span><br><span class="line-number">2089</span><br><span class="line-number">2090</span><br><span class="line-number">2091</span><br><span class="line-number">2092</span><br><span class="line-number">2093</span><br><span class="line-number">2094</span><br><span class="line-number">2095</span><br><span class="line-number">2096</span><br><span class="line-number">2097</span><br><span class="line-number">2098</span><br><span class="line-number">2099</span><br><span class="line-number">2100</span><br><span class="line-number">2101</span><br><span class="line-number">2102</span><br><span class="line-number">2103</span><br><span class="line-number">2104</span><br><span class="line-number">2105</span><br><span class="line-number">2106</span><br><span class="line-number">2107</span><br><span class="line-number">2108</span><br><span class="line-number">2109</span><br><span class="line-number">2110</span><br><span class="line-number">2111</span><br><span class="line-number">2112</span><br><span class="line-number">2113</span><br><span class="line-number">2114</span><br><span class="line-number">2115</span><br><span class="line-number">2116</span><br><span class="line-number">2117</span><br><span class="line-number">2118</span><br><span class="line-number">2119</span><br><span class="line-number">2120</span><br><span class="line-number">2121</span><br><span class="line-number">2122</span><br><span class="line-number">2123</span><br><span class="line-number">2124</span><br><span class="line-number">2125</span><br><span class="line-number">2126</span><br><span class="line-number">2127</span><br><span class="line-number">2128</span><br><span class="line-number">2129</span><br><span class="line-number">2130</span><br><span class="line-number">2131</span><br><span class="line-number">2132</span><br><span class="line-number">2133</span><br><span class="line-number">2134</span><br><span class="line-number">2135</span><br><span class="line-number">2136</span><br><span class="line-number">2137</span><br><span class="line-number">2138</span><br><span class="line-number">2139</span><br><span class="line-number">2140</span><br><span class="line-number">2141</span><br><span class="line-number">2142</span><br><span class="line-number">2143</span><br><span class="line-number">2144</span><br><span class="line-number">2145</span><br><span class="line-number">2146</span><br><span class="line-number">2147</span><br><span class="line-number">2148</span><br><span class="line-number">2149</span><br><span class="line-number">2150</span><br><span class="line-number">2151</span><br><span class="line-number">2152</span><br><span class="line-number">2153</span><br><span class="line-number">2154</span><br><span class="line-number">2155</span><br><span class="line-number">2156</span><br><span class="line-number">2157</span><br><span class="line-number">2158</span><br><span class="line-number">2159</span><br><span class="line-number">2160</span><br><span class="line-number">2161</span><br><span class="line-number">2162</span><br><span class="line-number">2163</span><br><span class="line-number">2164</span><br><span class="line-number">2165</span><br><span class="line-number">2166</span><br><span class="line-number">2167</span><br><span class="line-number">2168</span><br><span class="line-number">2169</span><br><span class="line-number">2170</span><br><span class="line-number">2171</span><br><span class="line-number">2172</span><br><span class="line-number">2173</span><br><span class="line-number">2174</span><br><span class="line-number">2175</span><br><span class="line-number">2176</span><br><span class="line-number">2177</span><br><span class="line-number">2178</span><br><span class="line-number">2179</span><br><span class="line-number">2180</span><br><span class="line-number">2181</span><br><span class="line-number">2182</span><br><span class="line-number">2183</span><br><span class="line-number">2184</span><br><span class="line-number">2185</span><br><span class="line-number">2186</span><br><span class="line-number">2187</span><br><span class="line-number">2188</span><br><span class="line-number">2189</span><br><span class="line-number">2190</span><br><span class="line-number">2191</span><br><span class="line-number">2192</span><br><span class="line-number">2193</span><br><span class="line-number">2194</span><br><span class="line-number">2195</span><br><span class="line-number">2196</span><br><span class="line-number">2197</span><br><span class="line-number">2198</span><br><span class="line-number">2199</span><br><span class="line-number">2200</span><br><span class="line-number">2201</span><br><span class="line-number">2202</span><br><span class="line-number">2203</span><br><span class="line-number">2204</span><br><span class="line-number">2205</span><br><span class="line-number">2206</span><br><span class="line-number">2207</span><br><span class="line-number">2208</span><br><span class="line-number">2209</span><br><span class="line-number">2210</span><br><span class="line-number">2211</span><br><span class="line-number">2212</span><br><span class="line-number">2213</span><br><span class="line-number">2214</span><br><span class="line-number">2215</span><br><span class="line-number">2216</span><br><span class="line-number">2217</span><br><span class="line-number">2218</span><br><span class="line-number">2219</span><br><span class="line-number">2220</span><br><span class="line-number">2221</span><br><span class="line-number">2222</span><br><span class="line-number">2223</span><br><span class="line-number">2224</span><br><span class="line-number">2225</span><br><span class="line-number">2226</span><br><span class="line-number">2227</span><br><span class="line-number">2228</span><br><span class="line-number">2229</span><br><span class="line-number">2230</span><br><span class="line-number">2231</span><br><span class="line-number">2232</span><br><span class="line-number">2233</span><br><span class="line-number">2234</span><br><span class="line-number">2235</span><br><span class="line-number">2236</span><br><span class="line-number">2237</span><br><span class="line-number">2238</span><br><span class="line-number">2239</span><br><span class="line-number">2240</span><br><span class="line-number">2241</span><br><span class="line-number">2242</span><br><span class="line-number">2243</span><br><span class="line-number">2244</span><br><span class="line-number">2245</span><br><span class="line-number">2246</span><br><span class="line-number">2247</span><br><span class="line-number">2248</span><br><span class="line-number">2249</span><br><span class="line-number">2250</span><br><span class="line-number">2251</span><br><span class="line-number">2252</span><br><span class="line-number">2253</span><br><span class="line-number">2254</span><br><span class="line-number">2255</span><br><span class="line-number">2256</span><br><span class="line-number">2257</span><br><span class="line-number">2258</span><br><span class="line-number">2259</span><br><span class="line-number">2260</span><br><span class="line-number">2261</span><br><span class="line-number">2262</span><br><span class="line-number">2263</span><br><span class="line-number">2264</span><br><span class="line-number">2265</span><br><span class="line-number">2266</span><br><span class="line-number">2267</span><br><span class="line-number">2268</span><br><span class="line-number">2269</span><br><span class="line-number">2270</span><br><span class="line-number">2271</span><br><span class="line-number">2272</span><br><span class="line-number">2273</span><br><span class="line-number">2274</span><br><span class="line-number">2275</span><br><span class="line-number">2276</span><br><span class="line-number">2277</span><br><span class="line-number">2278</span><br><span class="line-number">2279</span><br><span class="line-number">2280</span><br><span class="line-number">2281</span><br><span class="line-number">2282</span><br><span class="line-number">2283</span><br><span class="line-number">2284</span><br><span class="line-number">2285</span><br><span class="line-number">2286</span><br><span class="line-number">2287</span><br><span class="line-number">2288</span><br><span class="line-number">2289</span><br><span class="line-number">2290</span><br><span class="line-number">2291</span><br><span class="line-number">2292</span><br><span class="line-number">2293</span><br><span class="line-number">2294</span><br><span class="line-number">2295</span><br><span class="line-number">2296</span><br><span class="line-number">2297</span><br><span class="line-number">2298</span><br><span class="line-number">2299</span><br><span class="line-number">2300</span><br><span class="line-number">2301</span><br><span class="line-number">2302</span><br><span class="line-number">2303</span><br><span class="line-number">2304</span><br><span class="line-number">2305</span><br><span class="line-number">2306</span><br><span class="line-number">2307</span><br><span class="line-number">2308</span><br><span class="line-number">2309</span><br><span class="line-number">2310</span><br><span class="line-number">2311</span><br><span class="line-number">2312</span><br><span class="line-number">2313</span><br><span class="line-number">2314</span><br><span class="line-number">2315</span><br><span class="line-number">2316</span><br><span class="line-number">2317</span><br><span class="line-number">2318</span><br><span class="line-number">2319</span><br><span class="line-number">2320</span><br><span class="line-number">2321</span><br><span class="line-number">2322</span><br><span class="line-number">2323</span><br><span class="line-number">2324</span><br><span class="line-number">2325</span><br><span class="line-number">2326</span><br><span class="line-number">2327</span><br><span class="line-number">2328</span><br><span class="line-number">2329</span><br><span class="line-number">2330</span><br><span class="line-number">2331</span><br><span class="line-number">2332</span><br><span class="line-number">2333</span><br><span class="line-number">2334</span><br><span class="line-number">2335</span><br><span class="line-number">2336</span><br><span class="line-number">2337</span><br><span class="line-number">2338</span><br><span class="line-number">2339</span><br><span class="line-number">2340</span><br><span class="line-number">2341</span><br><span class="line-number">2342</span><br><span class="line-number">2343</span><br><span class="line-number">2344</span><br><span class="line-number">2345</span><br><span class="line-number">2346</span><br><span class="line-number">2347</span><br><span class="line-number">2348</span><br><span class="line-number">2349</span><br><span class="line-number">2350</span><br><span class="line-number">2351</span><br><span class="line-number">2352</span><br><span class="line-number">2353</span><br><span class="line-number">2354</span><br><span class="line-number">2355</span><br><span class="line-number">2356</span><br><span class="line-number">2357</span><br><span class="line-number">2358</span><br><span class="line-number">2359</span><br><span class="line-number">2360</span><br><span class="line-number">2361</span><br><span class="line-number">2362</span><br><span class="line-number">2363</span><br><span class="line-number">2364</span><br><span class="line-number">2365</span><br><span class="line-number">2366</span><br><span class="line-number">2367</span><br><span class="line-number">2368</span><br><span class="line-number">2369</span><br><span class="line-number">2370</span><br><span class="line-number">2371</span><br><span class="line-number">2372</span><br><span class="line-number">2373</span><br><span class="line-number">2374</span><br><span class="line-number">2375</span><br><span class="line-number">2376</span><br><span class="line-number">2377</span><br><span class="line-number">2378</span><br><span class="line-number">2379</span><br><span class="line-number">2380</span><br><span class="line-number">2381</span><br><span class="line-number">2382</span><br><span class="line-number">2383</span><br><span class="line-number">2384</span><br><span class="line-number">2385</span><br><span class="line-number">2386</span><br><span class="line-number">2387</span><br><span class="line-number">2388</span><br><span class="line-number">2389</span><br><span class="line-number">2390</span><br><span class="line-number">2391</span><br><span class="line-number">2392</span><br><span class="line-number">2393</span><br><span class="line-number">2394</span><br><span class="line-number">2395</span><br><span class="line-number">2396</span><br><span class="line-number">2397</span><br><span class="line-number">2398</span><br><span class="line-number">2399</span><br><span class="line-number">2400</span><br><span class="line-number">2401</span><br><span class="line-number">2402</span><br><span class="line-number">2403</span><br><span class="line-number">2404</span><br><span class="line-number">2405</span><br><span class="line-number">2406</span><br><span class="line-number">2407</span><br><span class="line-number">2408</span><br><span class="line-number">2409</span><br><span class="line-number">2410</span><br><span class="line-number">2411</span><br><span class="line-number">2412</span><br><span class="line-number">2413</span><br><span class="line-number">2414</span><br><span class="line-number">2415</span><br><span class="line-number">2416</span><br><span class="line-number">2417</span><br><span class="line-number">2418</span><br><span class="line-number">2419</span><br><span class="line-number">2420</span><br><span class="line-number">2421</span><br><span class="line-number">2422</span><br><span class="line-number">2423</span><br><span class="line-number">2424</span><br><span class="line-number">2425</span><br><span class="line-number">2426</span><br><span class="line-number">2427</span><br><span class="line-number">2428</span><br><span class="line-number">2429</span><br><span class="line-number">2430</span><br><span class="line-number">2431</span><br><span class="line-number">2432</span><br><span class="line-number">2433</span><br><span class="line-number">2434</span><br><span class="line-number">2435</span><br><span class="line-number">2436</span><br><span class="line-number">2437</span><br><span class="line-number">2438</span><br><span class="line-number">2439</span><br><span class="line-number">2440</span><br><span class="line-number">2441</span><br><span class="line-number">2442</span><br><span class="line-number">2443</span><br><span class="line-number">2444</span><br><span class="line-number">2445</span><br><span class="line-number">2446</span><br><span class="line-number">2447</span><br><span class="line-number">2448</span><br><span class="line-number">2449</span><br><span class="line-number">2450</span><br><span class="line-number">2451</span><br><span class="line-number">2452</span><br><span class="line-number">2453</span><br><span class="line-number">2454</span><br><span class="line-number">2455</span><br><span class="line-number">2456</span><br><span class="line-number">2457</span><br><span class="line-number">2458</span><br><span class="line-number">2459</span><br><span class="line-number">2460</span><br><span class="line-number">2461</span><br><span class="line-number">2462</span><br><span class="line-number">2463</span><br><span class="line-number">2464</span><br><span class="line-number">2465</span><br><span class="line-number">2466</span><br><span class="line-number">2467</span><br><span class="line-number">2468</span><br><span class="line-number">2469</span><br><span class="line-number">2470</span><br><span class="line-number">2471</span><br><span class="line-number">2472</span><br><span class="line-number">2473</span><br><span class="line-number">2474</span><br><span class="line-number">2475</span><br><span class="line-number">2476</span><br><span class="line-number">2477</span><br><span class="line-number">2478</span><br><span class="line-number">2479</span><br><span class="line-number">2480</span><br><span class="line-number">2481</span><br><span class="line-number">2482</span><br><span class="line-number">2483</span><br><span class="line-number">2484</span><br><span class="line-number">2485</span><br><span class="line-number">2486</span><br><span class="line-number">2487</span><br><span class="line-number">2488</span><br><span class="line-number">2489</span><br><span class="line-number">2490</span><br><span class="line-number">2491</span><br><span class="line-number">2492</span><br><span class="line-number">2493</span><br><span class="line-number">2494</span><br><span class="line-number">2495</span><br><span class="line-number">2496</span><br><span class="line-number">2497</span><br><span class="line-number">2498</span><br><span class="line-number">2499</span><br><span class="line-number">2500</span><br><span class="line-number">2501</span><br><span class="line-number">2502</span><br><span class="line-number">2503</span><br><span class="line-number">2504</span><br><span class="line-number">2505</span><br><span class="line-number">2506</span><br><span class="line-number">2507</span><br><span class="line-number">2508</span><br><span class="line-number">2509</span><br><span class="line-number">2510</span><br><span class="line-number">2511</span><br><span class="line-number">2512</span><br><span class="line-number">2513</span><br><span class="line-number">2514</span><br><span class="line-number">2515</span><br><span class="line-number">2516</span><br><span class="line-number">2517</span><br><span class="line-number">2518</span><br><span class="line-number">2519</span><br><span class="line-number">2520</span><br><span class="line-number">2521</span><br><span class="line-number">2522</span><br><span class="line-number">2523</span><br><span class="line-number">2524</span><br><span class="line-number">2525</span><br><span class="line-number">2526</span><br><span class="line-number">2527</span><br><span class="line-number">2528</span><br><span class="line-number">2529</span><br><span class="line-number">2530</span><br><span class="line-number">2531</span><br><span class="line-number">2532</span><br><span class="line-number">2533</span><br><span class="line-number">2534</span><br><span class="line-number">2535</span><br><span class="line-number">2536</span><br><span class="line-number">2537</span><br><span class="line-number">2538</span><br><span class="line-number">2539</span><br><span class="line-number">2540</span><br><span class="line-number">2541</span><br><span class="line-number">2542</span><br><span class="line-number">2543</span><br><span class="line-number">2544</span><br><span class="line-number">2545</span><br><span class="line-number">2546</span><br><span class="line-number">2547</span><br><span class="line-number">2548</span><br><span class="line-number">2549</span><br><span class="line-number">2550</span><br><span class="line-number">2551</span><br><span class="line-number">2552</span><br><span class="line-number">2553</span><br><span class="line-number">2554</span><br><span class="line-number">2555</span><br><span class="line-number">2556</span><br><span class="line-number">2557</span><br><span class="line-number">2558</span><br><span class="line-number">2559</span><br><span class="line-number">2560</span><br><span class="line-number">2561</span><br><span class="line-number">2562</span><br><span class="line-number">2563</span><br><span class="line-number">2564</span><br><span class="line-number">2565</span><br><span class="line-number">2566</span><br><span class="line-number">2567</span><br><span class="line-number">2568</span><br><span class="line-number">2569</span><br><span class="line-number">2570</span><br><span class="line-number">2571</span><br><span class="line-number">2572</span><br><span class="line-number">2573</span><br><span class="line-number">2574</span><br><span class="line-number">2575</span><br><span class="line-number">2576</span><br><span class="line-number">2577</span><br><span class="line-number">2578</span><br><span class="line-number">2579</span><br><span class="line-number">2580</span><br><span class="line-number">2581</span><br><span class="line-number">2582</span><br><span class="line-number">2583</span><br><span class="line-number">2584</span><br><span class="line-number">2585</span><br><span class="line-number">2586</span><br><span class="line-number">2587</span><br><span class="line-number">2588</span><br><span class="line-number">2589</span><br><span class="line-number">2590</span><br><span class="line-number">2591</span><br><span class="line-number">2592</span><br><span class="line-number">2593</span><br><span class="line-number">2594</span><br><span class="line-number">2595</span><br><span class="line-number">2596</span><br><span class="line-number">2597</span><br><span class="line-number">2598</span><br><span class="line-number">2599</span><br><span class="line-number">2600</span><br><span class="line-number">2601</span><br><span class="line-number">2602</span><br><span class="line-number">2603</span><br><span class="line-number">2604</span><br><span class="line-number">2605</span><br><span class="line-number">2606</span><br><span class="line-number">2607</span><br><span class="line-number">2608</span><br><span class="line-number">2609</span><br><span class="line-number">2610</span><br><span class="line-number">2611</span><br><span class="line-number">2612</span><br><span class="line-number">2613</span><br><span class="line-number">2614</span><br><span class="line-number">2615</span><br><span class="line-number">2616</span><br><span class="line-number">2617</span><br><span class="line-number">2618</span><br><span class="line-number">2619</span><br><span class="line-number">2620</span><br><span class="line-number">2621</span><br><span class="line-number">2622</span><br><span class="line-number">2623</span><br><span class="line-number">2624</span><br><span class="line-number">2625</span><br><span class="line-number">2626</span><br><span class="line-number">2627</span><br><span class="line-number">2628</span><br><span class="line-number">2629</span><br><span class="line-number">2630</span><br><span class="line-number">2631</span><br><span class="line-number">2632</span><br><span class="line-number">2633</span><br><span class="line-number">2634</span><br><span class="line-number">2635</span><br><span class="line-number">2636</span><br><span class="line-number">2637</span><br><span class="line-number">2638</span><br><span class="line-number">2639</span><br><span class="line-number">2640</span><br><span class="line-number">2641</span><br><span class="line-number">2642</span><br><span class="line-number">2643</span><br><span class="line-number">2644</span><br><span class="line-number">2645</span><br><span class="line-number">2646</span><br><span class="line-number">2647</span><br><span class="line-number">2648</span><br><span class="line-number">2649</span><br><span class="line-number">2650</span><br><span class="line-number">2651</span><br><span class="line-number">2652</span><br><span class="line-number">2653</span><br><span class="line-number">2654</span><br><span class="line-number">2655</span><br><span class="line-number">2656</span><br><span class="line-number">2657</span><br><span class="line-number">2658</span><br><span class="line-number">2659</span><br><span class="line-number">2660</span><br><span class="line-number">2661</span><br><span class="line-number">2662</span><br><span class="line-number">2663</span><br><span class="line-number">2664</span><br><span class="line-number">2665</span><br><span class="line-number">2666</span><br><span class="line-number">2667</span><br><span class="line-number">2668</span><br><span class="line-number">2669</span><br><span class="line-number">2670</span><br><span class="line-number">2671</span><br><span class="line-number">2672</span><br><span class="line-number">2673</span><br><span class="line-number">2674</span><br><span class="line-number">2675</span><br><span class="line-number">2676</span><br><span class="line-number">2677</span><br><span class="line-number">2678</span><br><span class="line-number">2679</span><br><span class="line-number">2680</span><br><span class="line-number">2681</span><br><span class="line-number">2682</span><br><span class="line-number">2683</span><br><span class="line-number">2684</span><br><span class="line-number">2685</span><br><span class="line-number">2686</span><br><span class="line-number">2687</span><br><span class="line-number">2688</span><br><span class="line-number">2689</span><br><span class="line-number">2690</span><br><span class="line-number">2691</span><br><span class="line-number">2692</span><br><span class="line-number">2693</span><br><span class="line-number">2694</span><br><span class="line-number">2695</span><br><span class="line-number">2696</span><br><span class="line-number">2697</span><br><span class="line-number">2698</span><br><span class="line-number">2699</span><br><span class="line-number">2700</span><br><span class="line-number">2701</span><br><span class="line-number">2702</span><br><span class="line-number">2703</span><br><span class="line-number">2704</span><br><span class="line-number">2705</span><br><span class="line-number">2706</span><br><span class="line-number">2707</span><br><span class="line-number">2708</span><br><span class="line-number">2709</span><br><span class="line-number">2710</span><br><span class="line-number">2711</span><br><span class="line-number">2712</span><br><span class="line-number">2713</span><br><span class="line-number">2714</span><br><span class="line-number">2715</span><br><span class="line-number">2716</span><br><span class="line-number">2717</span><br><span class="line-number">2718</span><br><span class="line-number">2719</span><br><span class="line-number">2720</span><br><span class="line-number">2721</span><br><span class="line-number">2722</span><br><span class="line-number">2723</span><br><span class="line-number">2724</span><br><span class="line-number">2725</span><br><span class="line-number">2726</span><br><span class="line-number">2727</span><br><span class="line-number">2728</span><br><span class="line-number">2729</span><br><span class="line-number">2730</span><br><span class="line-number">2731</span><br><span class="line-number">2732</span><br><span class="line-number">2733</span><br><span class="line-number">2734</span><br><span class="line-number">2735</span><br><span class="line-number">2736</span><br><span class="line-number">2737</span><br><span class="line-number">2738</span><br><span class="line-number">2739</span><br><span class="line-number">2740</span><br><span class="line-number">2741</span><br><span class="line-number">2742</span><br><span class="line-number">2743</span><br><span class="line-number">2744</span><br><span class="line-number">2745</span><br><span class="line-number">2746</span><br><span class="line-number">2747</span><br><span class="line-number">2748</span><br><span class="line-number">2749</span><br><span class="line-number">2750</span><br><span class="line-number">2751</span><br><span class="line-number">2752</span><br><span class="line-number">2753</span><br><span class="line-number">2754</span><br><span class="line-number">2755</span><br><span class="line-number">2756</span><br><span class="line-number">2757</span><br><span class="line-number">2758</span><br><span class="line-number">2759</span><br><span class="line-number">2760</span><br><span class="line-number">2761</span><br><span class="line-number">2762</span><br><span class="line-number">2763</span><br><span class="line-number">2764</span><br><span class="line-number">2765</span><br><span class="line-number">2766</span><br><span class="line-number">2767</span><br><span class="line-number">2768</span><br><span class="line-number">2769</span><br><span class="line-number">2770</span><br><span class="line-number">2771</span><br><span class="line-number">2772</span><br><span class="line-number">2773</span><br><span class="line-number">2774</span><br><span class="line-number">2775</span><br><span class="line-number">2776</span><br><span class="line-number">2777</span><br><span class="line-number">2778</span><br><span class="line-number">2779</span><br><span class="line-number">2780</span><br><span class="line-number">2781</span><br><span class="line-number">2782</span><br><span class="line-number">2783</span><br><span class="line-number">2784</span><br><span class="line-number">2785</span><br><span class="line-number">2786</span><br><span class="line-number">2787</span><br><span class="line-number">2788</span><br><span class="line-number">2789</span><br><span class="line-number">2790</span><br><span class="line-number">2791</span><br><span class="line-number">2792</span><br><span class="line-number">2793</span><br><span class="line-number">2794</span><br><span class="line-number">2795</span><br><span class="line-number">2796</span><br><span class="line-number">2797</span><br><span class="line-number">2798</span><br><span class="line-number">2799</span><br><span class="line-number">2800</span><br><span class="line-number">2801</span><br><span class="line-number">2802</span><br><span class="line-number">2803</span><br><span class="line-number">2804</span><br><span class="line-number">2805</span><br><span class="line-number">2806</span><br><span class="line-number">2807</span><br><span class="line-number">2808</span><br><span class="line-number">2809</span><br><span class="line-number">2810</span><br><span class="line-number">2811</span><br><span class="line-number">2812</span><br><span class="line-number">2813</span><br><span class="line-number">2814</span><br><span class="line-number">2815</span><br><span class="line-number">2816</span><br><span class="line-number">2817</span><br><span class="line-number">2818</span><br><span class="line-number">2819</span><br><span class="line-number">2820</span><br><span class="line-number">2821</span><br><span class="line-number">2822</span><br><span class="line-number">2823</span><br><span class="line-number">2824</span><br><span class="line-number">2825</span><br><span class="line-number">2826</span><br><span class="line-number">2827</span><br><span class="line-number">2828</span><br><span class="line-number">2829</span><br><span class="line-number">2830</span><br><span class="line-number">2831</span><br><span class="line-number">2832</span><br><span class="line-number">2833</span><br><span class="line-number">2834</span><br><span class="line-number">2835</span><br><span class="line-number">2836</span><br><span class="line-number">2837</span><br><span class="line-number">2838</span><br><span class="line-number">2839</span><br><span class="line-number">2840</span><br><span class="line-number">2841</span><br><span class="line-number">2842</span><br><span class="line-number">2843</span><br><span class="line-number">2844</span><br><span class="line-number">2845</span><br><span class="line-number">2846</span><br><span class="line-number">2847</span><br><span class="line-number">2848</span><br><span class="line-number">2849</span><br><span class="line-number">2850</span><br><span class="line-number">2851</span><br><span class="line-number">2852</span><br><span class="line-number">2853</span><br><span class="line-number">2854</span><br><span class="line-number">2855</span><br><span class="line-number">2856</span><br><span class="line-number">2857</span><br><span class="line-number">2858</span><br><span class="line-number">2859</span><br><span class="line-number">2860</span><br><span class="line-number">2861</span><br><span class="line-number">2862</span><br><span class="line-number">2863</span><br><span class="line-number">2864</span><br><span class="line-number">2865</span><br><span class="line-number">2866</span><br><span class="line-number">2867</span><br><span class="line-number">2868</span><br><span class="line-number">2869</span><br><span class="line-number">2870</span><br><span class="line-number">2871</span><br><span class="line-number">2872</span><br><span class="line-number">2873</span><br><span class="line-number">2874</span><br><span class="line-number">2875</span><br><span class="line-number">2876</span><br><span class="line-number">2877</span><br><span class="line-number">2878</span><br><span class="line-number">2879</span><br><span class="line-number">2880</span><br><span class="line-number">2881</span><br><span class="line-number">2882</span><br><span class="line-number">2883</span><br><span class="line-number">2884</span><br><span class="line-number">2885</span><br><span class="line-number">2886</span><br><span class="line-number">2887</span><br><span class="line-number">2888</span><br><span class="line-number">2889</span><br><span class="line-number">2890</span><br><span class="line-number">2891</span><br><span class="line-number">2892</span><br><span class="line-number">2893</span><br><span class="line-number">2894</span><br><span class="line-number">2895</span><br><span class="line-number">2896</span><br><span class="line-number">2897</span><br><span class="line-number">2898</span><br><span class="line-number">2899</span><br><span class="line-number">2900</span><br><span class="line-number">2901</span><br><span class="line-number">2902</span><br><span class="line-number">2903</span><br><span class="line-number">2904</span><br><span class="line-number">2905</span><br><span class="line-number">2906</span><br><span class="line-number">2907</span><br><span class="line-number">2908</span><br><span class="line-number">2909</span><br><span class="line-number">2910</span><br><span class="line-number">2911</span><br><span class="line-number">2912</span><br><span class="line-number">2913</span><br><span class="line-number">2914</span><br><span class="line-number">2915</span><br><span class="line-number">2916</span><br><span class="line-number">2917</span><br><span class="line-number">2918</span><br><span class="line-number">2919</span><br><span class="line-number">2920</span><br><span class="line-number">2921</span><br><span class="line-number">2922</span><br><span class="line-number">2923</span><br><span class="line-number">2924</span><br><span class="line-number">2925</span><br><span class="line-number">2926</span><br><span class="line-number">2927</span><br><span class="line-number">2928</span><br><span class="line-number">2929</span><br><span class="line-number">2930</span><br><span class="line-number">2931</span><br><span class="line-number">2932</span><br><span class="line-number">2933</span><br><span class="line-number">2934</span><br><span class="line-number">2935</span><br><span class="line-number">2936</span><br><span class="line-number">2937</span><br><span class="line-number">2938</span><br><span class="line-number">2939</span><br><span class="line-number">2940</span><br><span class="line-number">2941</span><br><span class="line-number">2942</span><br><span class="line-number">2943</span><br><span class="line-number">2944</span><br><span class="line-number">2945</span><br><span class="line-number">2946</span><br><span class="line-number">2947</span><br><span class="line-number">2948</span><br><span class="line-number">2949</span><br><span class="line-number">2950</span><br><span class="line-number">2951</span><br><span class="line-number">2952</span><br><span class="line-number">2953</span><br><span class="line-number">2954</span><br><span class="line-number">2955</span><br><span class="line-number">2956</span><br><span class="line-number">2957</span><br><span class="line-number">2958</span><br><span class="line-number">2959</span><br><span class="line-number">2960</span><br><span class="line-number">2961</span><br><span class="line-number">2962</span><br><span class="line-number">2963</span><br><span class="line-number">2964</span><br><span class="line-number">2965</span><br><span class="line-number">2966</span><br><span class="line-number">2967</span><br><span class="line-number">2968</span><br><span class="line-number">2969</span><br><span class="line-number">2970</span><br><span class="line-number">2971</span><br><span class="line-number">2972</span><br><span class="line-number">2973</span><br><span class="line-number">2974</span><br><span class="line-number">2975</span><br><span class="line-number">2976</span><br><span class="line-number">2977</span><br><span class="line-number">2978</span><br><span class="line-number">2979</span><br><span class="line-number">2980</span><br><span class="line-number">2981</span><br><span class="line-number">2982</span><br><span class="line-number">2983</span><br><span class="line-number">2984</span><br><span class="line-number">2985</span><br><span class="line-number">2986</span><br><span class="line-number">2987</span><br><span class="line-number">2988</span><br><span class="line-number">2989</span><br><span class="line-number">2990</span><br><span class="line-number">2991</span><br><span class="line-number">2992</span><br><span class="line-number">2993</span><br><span class="line-number">2994</span><br><span class="line-number">2995</span><br><span class="line-number">2996</span><br><span class="line-number">2997</span><br><span class="line-number">2998</span><br><span class="line-number">2999</span><br><span class="line-number">3000</span><br><span class="line-number">3001</span><br><span class="line-number">3002</span><br><span class="line-number">3003</span><br><span class="line-number">3004</span><br><span class="line-number">3005</span><br><span class="line-number">3006</span><br><span class="line-number">3007</span><br><span class="line-number">3008</span><br><span class="line-number">3009</span><br><span class="line-number">3010</span><br><span class="line-number">3011</span><br><span class="line-number">3012</span><br><span class="line-number">3013</span><br><span class="line-number">3014</span><br><span class="line-number">3015</span><br><span class="line-number">3016</span><br><span class="line-number">3017</span><br><span class="line-number">3018</span><br><span class="line-number">3019</span><br><span class="line-number">3020</span><br><span class="line-number">3021</span><br><span class="line-number">3022</span><br><span class="line-number">3023</span><br><span class="line-number">3024</span><br><span class="line-number">3025</span><br><span class="line-number">3026</span><br><span class="line-number">3027</span><br><span class="line-number">3028</span><br><span class="line-number">3029</span><br><span class="line-number">3030</span><br><span class="line-number">3031</span><br><span class="line-number">3032</span><br><span class="line-number">3033</span><br><span class="line-number">3034</span><br><span class="line-number">3035</span><br><span class="line-number">3036</span><br><span class="line-number">3037</span><br><span class="line-number">3038</span><br><span class="line-number">3039</span><br><span class="line-number">3040</span><br><span class="line-number">3041</span><br><span class="line-number">3042</span><br><span class="line-number">3043</span><br><span class="line-number">3044</span><br><span class="line-number">3045</span><br><span class="line-number">3046</span><br><span class="line-number">3047</span><br><span class="line-number">3048</span><br><span class="line-number">3049</span><br><span class="line-number">3050</span><br><span class="line-number">3051</span><br><span class="line-number">3052</span><br><span class="line-number">3053</span><br><span class="line-number">3054</span><br><span class="line-number">3055</span><br><span class="line-number">3056</span><br><span class="line-number">3057</span><br><span class="line-number">3058</span><br><span class="line-number">3059</span><br><span class="line-number">3060</span><br><span class="line-number">3061</span><br><span class="line-number">3062</span><br><span class="line-number">3063</span><br><span class="line-number">3064</span><br><span class="line-number">3065</span><br><span class="line-number">3066</span><br><span class="line-number">3067</span><br><span class="line-number">3068</span><br><span class="line-number">3069</span><br><span class="line-number">3070</span><br><span class="line-number">3071</span><br><span class="line-number">3072</span><br><span class="line-number">3073</span><br><span class="line-number">3074</span><br><span class="line-number">3075</span><br><span class="line-number">3076</span><br><span class="line-number">3077</span><br><span class="line-number">3078</span><br><span class="line-number">3079</span><br><span class="line-number">3080</span><br><span class="line-number">3081</span><br><span class="line-number">3082</span><br><span class="line-number">3083</span><br><span class="line-number">3084</span><br><span class="line-number">3085</span><br><span class="line-number">3086</span><br><span class="line-number">3087</span><br><span class="line-number">3088</span><br><span class="line-number">3089</span><br><span class="line-number">3090</span><br><span class="line-number">3091</span><br><span class="line-number">3092</span><br><span class="line-number">3093</span><br><span class="line-number">3094</span><br><span class="line-number">3095</span><br><span class="line-number">3096</span><br><span class="line-number">3097</span><br><span class="line-number">3098</span><br><span class="line-number">3099</span><br><span class="line-number">3100</span><br><span class="line-number">3101</span><br><span class="line-number">3102</span><br><span class="line-number">3103</span><br><span class="line-number">3104</span><br><span class="line-number">3105</span><br><span class="line-number">3106</span><br><span class="line-number">3107</span><br><span class="line-number">3108</span><br><span class="line-number">3109</span><br><span class="line-number">3110</span><br><span class="line-number">3111</span><br><span class="line-number">3112</span><br><span class="line-number">3113</span><br><span class="line-number">3114</span><br><span class="line-number">3115</span><br><span class="line-number">3116</span><br><span class="line-number">3117</span><br><span class="line-number">3118</span><br><span class="line-number">3119</span><br><span class="line-number">3120</span><br><span class="line-number">3121</span><br><span class="line-number">3122</span><br><span class="line-number">3123</span><br><span class="line-number">3124</span><br><span class="line-number">3125</span><br><span class="line-number">3126</span><br><span class="line-number">3127</span><br><span class="line-number">3128</span><br><span class="line-number">3129</span><br><span class="line-number">3130</span><br><span class="line-number">3131</span><br><span class="line-number">3132</span><br><span class="line-number">3133</span><br><span class="line-number">3134</span><br><span class="line-number">3135</span><br><span class="line-number">3136</span><br><span class="line-number">3137</span><br><span class="line-number">3138</span><br><span class="line-number">3139</span><br><span class="line-number">3140</span><br><span class="line-number">3141</span><br><span class="line-number">3142</span><br><span class="line-number">3143</span><br><span class="line-number">3144</span><br><span class="line-number">3145</span><br><span class="line-number">3146</span><br><span class="line-number">3147</span><br><span class="line-number">3148</span><br><span class="line-number">3149</span><br><span class="line-number">3150</span><br><span class="line-number">3151</span><br><span class="line-number">3152</span><br><span class="line-number">3153</span><br><span class="line-number">3154</span><br><span class="line-number">3155</span><br><span class="line-number">3156</span><br><span class="line-number">3157</span><br><span class="line-number">3158</span><br><span class="line-number">3159</span><br><span class="line-number">3160</span><br><span class="line-number">3161</span><br><span class="line-number">3162</span><br><span class="line-number">3163</span><br><span class="line-number">3164</span><br><span class="line-number">3165</span><br><span class="line-number">3166</span><br><span class="line-number">3167</span><br><span class="line-number">3168</span><br><span class="line-number">3169</span><br><span class="line-number">3170</span><br><span class="line-number">3171</span><br><span class="line-number">3172</span><br><span class="line-number">3173</span><br><span class="line-number">3174</span><br><span class="line-number">3175</span><br><span class="line-number">3176</span><br><span class="line-number">3177</span><br><span class="line-number">3178</span><br><span class="line-number">3179</span><br><span class="line-number">3180</span><br><span class="line-number">3181</span><br><span class="line-number">3182</span><br><span class="line-number">3183</span><br><span class="line-number">3184</span><br><span class="line-number">3185</span><br><span class="line-number">3186</span><br><span class="line-number">3187</span><br><span class="line-number">3188</span><br><span class="line-number">3189</span><br><span class="line-number">3190</span><br><span class="line-number">3191</span><br><span class="line-number">3192</span><br><span class="line-number">3193</span><br><span class="line-number">3194</span><br><span class="line-number">3195</span><br><span class="line-number">3196</span><br><span class="line-number">3197</span><br><span class="line-number">3198</span><br><span class="line-number">3199</span><br><span class="line-number">3200</span><br><span class="line-number">3201</span><br><span class="line-number">3202</span><br><span class="line-number">3203</span><br><span class="line-number">3204</span><br><span class="line-number">3205</span><br><span class="line-number">3206</span><br><span class="line-number">3207</span><br><span class="line-number">3208</span><br><span class="line-number">3209</span><br><span class="line-number">3210</span><br><span class="line-number">3211</span><br><span class="line-number">3212</span><br><span class="line-number">3213</span><br><span class="line-number">3214</span><br><span class="line-number">3215</span><br><span class="line-number">3216</span><br><span class="line-number">3217</span><br><span class="line-number">3218</span><br><span class="line-number">3219</span><br><span class="line-number">3220</span><br><span class="line-number">3221</span><br><span class="line-number">3222</span><br><span class="line-number">3223</span><br><span class="line-number">3224</span><br><span class="line-number">3225</span><br><span class="line-number">3226</span><br><span class="line-number">3227</span><br><span class="line-number">3228</span><br><span class="line-number">3229</span><br><span class="line-number">3230</span><br><span class="line-number">3231</span><br><span class="line-number">3232</span><br><span class="line-number">3233</span><br><span class="line-number">3234</span><br><span class="line-number">3235</span><br><span class="line-number">3236</span><br><span class="line-number">3237</span><br><span class="line-number">3238</span><br><span class="line-number">3239</span><br><span class="line-number">3240</span><br><span class="line-number">3241</span><br><span class="line-number">3242</span><br><span class="line-number">3243</span><br><span class="line-number">3244</span><br><span class="line-number">3245</span><br><span class="line-number">3246</span><br><span class="line-number">3247</span><br><span class="line-number">3248</span><br><span class="line-number">3249</span><br><span class="line-number">3250</span><br><span class="line-number">3251</span><br><span class="line-number">3252</span><br><span class="line-number">3253</span><br><span class="line-number">3254</span><br><span class="line-number">3255</span><br><span class="line-number">3256</span><br><span class="line-number">3257</span><br><span class="line-number">3258</span><br><span class="line-number">3259</span><br><span class="line-number">3260</span><br><span class="line-number">3261</span><br><span class="line-number">3262</span><br><span class="line-number">3263</span><br><span class="line-number">3264</span><br><span class="line-number">3265</span><br><span class="line-number">3266</span><br><span class="line-number">3267</span><br><span class="line-number">3268</span><br><span class="line-number">3269</span><br><span class="line-number">3270</span><br><span class="line-number">3271</span><br><span class="line-number">3272</span><br><span class="line-number">3273</span><br><span class="line-number">3274</span><br><span class="line-number">3275</span><br><span class="line-number">3276</span><br><span class="line-number">3277</span><br><span class="line-number">3278</span><br><span class="line-number">3279</span><br><span class="line-number">3280</span><br><span class="line-number">3281</span><br><span class="line-number">3282</span><br><span class="line-number">3283</span><br><span class="line-number">3284</span><br><span class="line-number">3285</span><br><span class="line-number">3286</span><br><span class="line-number">3287</span><br><span class="line-number">3288</span><br><span class="line-number">3289</span><br><span class="line-number">3290</span><br><span class="line-number">3291</span><br><span class="line-number">3292</span><br><span class="line-number">3293</span><br><span class="line-number">3294</span><br><span class="line-number">3295</span><br><span class="line-number">3296</span><br><span class="line-number">3297</span><br><span class="line-number">3298</span><br><span class="line-number">3299</span><br><span class="line-number">3300</span><br><span class="line-number">3301</span><br><span class="line-number">3302</span><br><span class="line-number">3303</span><br><span class="line-number">3304</span><br><span class="line-number">3305</span><br><span class="line-number">3306</span><br><span class="line-number">3307</span><br><span class="line-number">3308</span><br><span class="line-number">3309</span><br><span class="line-number">3310</span><br><span class="line-number">3311</span><br><span class="line-number">3312</span><br><span class="line-number">3313</span><br><span class="line-number">3314</span><br><span class="line-number">3315</span><br><span class="line-number">3316</span><br><span class="line-number">3317</span><br><span class="line-number">3318</span><br><span class="line-number">3319</span><br><span class="line-number">3320</span><br><span class="line-number">3321</span><br><span class="line-number">3322</span><br><span class="line-number">3323</span><br><span class="line-number">3324</span><br><span class="line-number">3325</span><br><span class="line-number">3326</span><br><span class="line-number">3327</span><br><span class="line-number">3328</span><br><span class="line-number">3329</span><br><span class="line-number">3330</span><br><span class="line-number">3331</span><br><span class="line-number">3332</span><br><span class="line-number">3333</span><br><span class="line-number">3334</span><br><span class="line-number">3335</span><br><span class="line-number">3336</span><br><span class="line-number">3337</span><br><span class="line-number">3338</span><br><span class="line-number">3339</span><br><span class="line-number">3340</span><br><span class="line-number">3341</span><br><span class="line-number">3342</span><br><span class="line-number">3343</span><br><span class="line-number">3344</span><br><span class="line-number">3345</span><br><span class="line-number">3346</span><br><span class="line-number">3347</span><br><span class="line-number">3348</span><br><span class="line-number">3349</span><br><span class="line-number">3350</span><br><span class="line-number">3351</span><br><span class="line-number">3352</span><br><span class="line-number">3353</span><br><span class="line-number">3354</span><br><span class="line-number">3355</span><br><span class="line-number">3356</span><br><span class="line-number">3357</span><br><span class="line-number">3358</span><br><span class="line-number">3359</span><br><span class="line-number">3360</span><br><span class="line-number">3361</span><br><span class="line-number">3362</span><br><span class="line-number">3363</span><br><span class="line-number">3364</span><br><span class="line-number">3365</span><br><span class="line-number">3366</span><br><span class="line-number">3367</span><br><span class="line-number">3368</span><br><span class="line-number">3369</span><br><span class="line-number">3370</span><br><span class="line-number">3371</span><br><span class="line-number">3372</span><br><span class="line-number">3373</span><br><span class="line-number">3374</span><br><span class="line-number">3375</span><br><span class="line-number">3376</span><br><span class="line-number">3377</span><br><span class="line-number">3378</span><br><span class="line-number">3379</span><br><span class="line-number">3380</span><br><span class="line-number">3381</span><br><span class="line-number">3382</span><br><span class="line-number">3383</span><br><span class="line-number">3384</span><br><span class="line-number">3385</span><br><span class="line-number">3386</span><br><span class="line-number">3387</span><br><span class="line-number">3388</span><br><span class="line-number">3389</span><br><span class="line-number">3390</span><br><span class="line-number">3391</span><br><span class="line-number">3392</span><br><span class="line-number">3393</span><br><span class="line-number">3394</span><br><span class="line-number">3395</span><br><span class="line-number">3396</span><br><span class="line-number">3397</span><br><span class="line-number">3398</span><br><span class="line-number">3399</span><br><span class="line-number">3400</span><br><span class="line-number">3401</span><br><span class="line-number">3402</span><br><span class="line-number">3403</span><br><span class="line-number">3404</span><br><span class="line-number">3405</span><br><span class="line-number">3406</span><br><span class="line-number">3407</span><br><span class="line-number">3408</span><br><span class="line-number">3409</span><br><span class="line-number">3410</span><br><span class="line-number">3411</span><br><span class="line-number">3412</span><br><span class="line-number">3413</span><br><span class="line-number">3414</span><br><span class="line-number">3415</span><br><span class="line-number">3416</span><br><span class="line-number">3417</span><br><span class="line-number">3418</span><br><span class="line-number">3419</span><br><span class="line-number">3420</span><br><span class="line-number">3421</span><br><span class="line-number">3422</span><br><span class="line-number">3423</span><br><span class="line-number">3424</span><br><span class="line-number">3425</span><br><span class="line-number">3426</span><br><span class="line-number">3427</span><br><span class="line-number">3428</span><br><span class="line-number">3429</span><br><span class="line-number">3430</span><br><span class="line-number">3431</span><br><span class="line-number">3432</span><br><span class="line-number">3433</span><br><span class="line-number">3434</span><br><span class="line-number">3435</span><br><span class="line-number">3436</span><br><span class="line-number">3437</span><br><span class="line-number">3438</span><br><span class="line-number">3439</span><br><span class="line-number">3440</span><br><span class="line-number">3441</span><br><span class="line-number">3442</span><br><span class="line-number">3443</span><br><span class="line-number">3444</span><br><span class="line-number">3445</span><br><span class="line-number">3446</span><br><span class="line-number">3447</span><br><span class="line-number">3448</span><br><span class="line-number">3449</span><br><span class="line-number">3450</span><br><span class="line-number">3451</span><br><span class="line-number">3452</span><br><span class="line-number">3453</span><br><span class="line-number">3454</span><br><span class="line-number">3455</span><br><span class="line-number">3456</span><br><span class="line-number">3457</span><br><span class="line-number">3458</span><br><span class="line-number">3459</span><br><span class="line-number">3460</span><br><span class="line-number">3461</span><br><span class="line-number">3462</span><br><span class="line-number">3463</span><br><span class="line-number">3464</span><br><span class="line-number">3465</span><br><span class="line-number">3466</span><br><span class="line-number">3467</span><br><span class="line-number">3468</span><br><span class="line-number">3469</span><br><span class="line-number">3470</span><br><span class="line-number">3471</span><br><span class="line-number">3472</span><br><span class="line-number">3473</span><br><span class="line-number">3474</span><br><span class="line-number">3475</span><br><span class="line-number">3476</span><br><span class="line-number">3477</span><br><span class="line-number">3478</span><br><span class="line-number">3479</span><br><span class="line-number">3480</span><br><span class="line-number">3481</span><br><span class="line-number">3482</span><br><span class="line-number">3483</span><br><span class="line-number">3484</span><br><span class="line-number">3485</span><br><span class="line-number">3486</span><br><span class="line-number">3487</span><br><span class="line-number">3488</span><br><span class="line-number">3489</span><br><span class="line-number">3490</span><br><span class="line-number">3491</span><br><span class="line-number">3492</span><br><span class="line-number">3493</span><br><span class="line-number">3494</span><br><span class="line-number">3495</span><br><span class="line-number">3496</span><br><span class="line-number">3497</span><br><span class="line-number">3498</span><br><span class="line-number">3499</span><br><span class="line-number">3500</span><br><span class="line-number">3501</span><br><span class="line-number">3502</span><br><span class="line-number">3503</span><br><span class="line-number">3504</span><br><span class="line-number">3505</span><br><span class="line-number">3506</span><br><span class="line-number">3507</span><br><span class="line-number">3508</span><br><span class="line-number">3509</span><br><span class="line-number">3510</span><br><span class="line-number">3511</span><br><span class="line-number">3512</span><br><span class="line-number">3513</span><br><span class="line-number">3514</span><br><span class="line-number">3515</span><br><span class="line-number">3516</span><br><span class="line-number">3517</span><br><span class="line-number">3518</span><br><span class="line-number">3519</span><br><span class="line-number">3520</span><br><span class="line-number">3521</span><br><span class="line-number">3522</span><br><span class="line-number">3523</span><br><span class="line-number">3524</span><br><span class="line-number">3525</span><br><span class="line-number">3526</span><br><span class="line-number">3527</span><br><span class="line-number">3528</span><br><span class="line-number">3529</span><br><span class="line-number">3530</span><br><span class="line-number">3531</span><br><span class="line-number">3532</span><br><span class="line-number">3533</span><br><span class="line-number">3534</span><br><span class="line-number">3535</span><br><span class="line-number">3536</span><br><span class="line-number">3537</span><br><span class="line-number">3538</span><br><span class="line-number">3539</span><br><span class="line-number">3540</span><br><span class="line-number">3541</span><br><span class="line-number">3542</span><br><span class="line-number">3543</span><br><span class="line-number">3544</span><br><span class="line-number">3545</span><br><span class="line-number">3546</span><br><span class="line-number">3547</span><br><span class="line-number">3548</span><br><span class="line-number">3549</span><br><span class="line-number">3550</span><br><span class="line-number">3551</span><br><span class="line-number">3552</span><br><span class="line-number">3553</span><br><span class="line-number">3554</span><br><span class="line-number">3555</span><br><span class="line-number">3556</span><br><span class="line-number">3557</span><br><span class="line-number">3558</span><br><span class="line-number">3559</span><br><span class="line-number">3560</span><br><span class="line-number">3561</span><br><span class="line-number">3562</span><br><span class="line-number">3563</span><br><span class="line-number">3564</span><br><span class="line-number">3565</span><br><span class="line-number">3566</span><br><span class="line-number">3567</span><br><span class="line-number">3568</span><br><span class="line-number">3569</span><br><span class="line-number">3570</span><br><span class="line-number">3571</span><br><span class="line-number">3572</span><br><span class="line-number">3573</span><br><span class="line-number">3574</span><br><span class="line-number">3575</span><br><span class="line-number">3576</span><br><span class="line-number">3577</span><br><span class="line-number">3578</span><br><span class="line-number">3579</span><br><span class="line-number">3580</span><br><span class="line-number">3581</span><br><span class="line-number">3582</span><br><span class="line-number">3583</span><br><span class="line-number">3584</span><br><span class="line-number">3585</span><br><span class="line-number">3586</span><br><span class="line-number">3587</span><br><span class="line-number">3588</span><br><span class="line-number">3589</span><br><span class="line-number">3590</span><br><span class="line-number">3591</span><br><span class="line-number">3592</span><br><span class="line-number">3593</span><br><span class="line-number">3594</span><br><span class="line-number">3595</span><br><span class="line-number">3596</span><br><span class="line-number">3597</span><br><span class="line-number">3598</span><br><span class="line-number">3599</span><br><span class="line-number">3600</span><br><span class="line-number">3601</span><br><span class="line-number">3602</span><br><span class="line-number">3603</span><br><span class="line-number">3604</span><br><span class="line-number">3605</span><br><span class="line-number">3606</span><br><span class="line-number">3607</span><br><span class="line-number">3608</span><br><span class="line-number">3609</span><br><span class="line-number">3610</span><br><span class="line-number">3611</span><br><span class="line-number">3612</span><br><span class="line-number">3613</span><br><span class="line-number">3614</span><br><span class="line-number">3615</span><br><span class="line-number">3616</span><br><span class="line-number">3617</span><br><span class="line-number">3618</span><br><span class="line-number">3619</span><br><span class="line-number">3620</span><br><span class="line-number">3621</span><br><span class="line-number">3622</span><br><span class="line-number">3623</span><br><span class="line-number">3624</span><br><span class="line-number">3625</span><br><span class="line-number">3626</span><br><span class="line-number">3627</span><br><span class="line-number">3628</span><br><span class="line-number">3629</span><br><span class="line-number">3630</span><br><span class="line-number">3631</span><br><span class="line-number">3632</span><br><span class="line-number">3633</span><br><span class="line-number">3634</span><br><span class="line-number">3635</span><br><span class="line-number">3636</span><br><span class="line-number">3637</span><br><span class="line-number">3638</span><br><span class="line-number">3639</span><br><span class="line-number">3640</span><br><span class="line-number">3641</span><br><span class="line-number">3642</span><br><span class="line-number">3643</span><br><span class="line-number">3644</span><br><span class="line-number">3645</span><br><span class="line-number">3646</span><br><span class="line-number">3647</span><br><span class="line-number">3648</span><br><span class="line-number">3649</span><br><span class="line-number">3650</span><br><span class="line-number">3651</span><br><span class="line-number">3652</span><br><span class="line-number">3653</span><br><span class="line-number">3654</span><br><span class="line-number">3655</span><br><span class="line-number">3656</span><br><span class="line-number">3657</span><br><span class="line-number">3658</span><br><span class="line-number">3659</span><br><span class="line-number">3660</span><br><span class="line-number">3661</span><br><span class="line-number">3662</span><br><span class="line-number">3663</span><br><span class="line-number">3664</span><br><span class="line-number">3665</span><br><span class="line-number">3666</span><br><span class="line-number">3667</span><br><span class="line-number">3668</span><br><span class="line-number">3669</span><br><span class="line-number">3670</span><br><span class="line-number">3671</span><br><span class="line-number">3672</span><br><span class="line-number">3673</span><br><span class="line-number">3674</span><br><span class="line-number">3675</span><br><span class="line-number">3676</span><br><span class="line-number">3677</span><br><span class="line-number">3678</span><br><span class="line-number">3679</span><br><span class="line-number">3680</span><br><span class="line-number">3681</span><br><span class="line-number">3682</span><br><span class="line-number">3683</span><br><span class="line-number">3684</span><br><span class="line-number">3685</span><br><span class="line-number">3686</span><br><span class="line-number">3687</span><br><span class="line-number">3688</span><br><span class="line-number">3689</span><br><span class="line-number">3690</span><br><span class="line-number">3691</span><br><span class="line-number">3692</span><br><span class="line-number">3693</span><br><span class="line-number">3694</span><br><span class="line-number">3695</span><br><span class="line-number">3696</span><br><span class="line-number">3697</span><br><span class="line-number">3698</span><br><span class="line-number">3699</span><br><span class="line-number">3700</span><br><span class="line-number">3701</span><br><span class="line-number">3702</span><br><span class="line-number">3703</span><br><span class="line-number">3704</span><br><span class="line-number">3705</span><br><span class="line-number">3706</span><br><span class="line-number">3707</span><br><span class="line-number">3708</span><br><span class="line-number">3709</span><br><span class="line-number">3710</span><br><span class="line-number">3711</span><br><span class="line-number">3712</span><br><span class="line-number">3713</span><br><span class="line-number">3714</span><br><span class="line-number">3715</span><br><span class="line-number">3716</span><br><span class="line-number">3717</span><br><span class="line-number">3718</span><br><span class="line-number">3719</span><br><span class="line-number">3720</span><br><span class="line-number">3721</span><br><span class="line-number">3722</span><br><span class="line-number">3723</span><br><span class="line-number">3724</span><br><span class="line-number">3725</span><br><span class="line-number">3726</span><br><span class="line-number">3727</span><br><span class="line-number">3728</span><br><span class="line-number">3729</span><br><span class="line-number">3730</span><br><span class="line-number">3731</span><br><span class="line-number">3732</span><br><span class="line-number">3733</span><br><span class="line-number">3734</span><br><span class="line-number">3735</span><br><span class="line-number">3736</span><br><span class="line-number">3737</span><br><span class="line-number">3738</span><br><span class="line-number">3739</span><br><span class="line-number">3740</span><br><span class="line-number">3741</span><br><span class="line-number">3742</span><br><span class="line-number">3743</span><br><span class="line-number">3744</span><br><span class="line-number">3745</span><br><span class="line-number">3746</span><br><span class="line-number">3747</span><br><span class="line-number">3748</span><br><span class="line-number">3749</span><br><span class="line-number">3750</span><br><span class="line-number">3751</span><br><span class="line-number">3752</span><br><span class="line-number">3753</span><br><span class="line-number">3754</span><br><span class="line-number">3755</span><br><span class="line-number">3756</span><br><span class="line-number">3757</span><br><span class="line-number">3758</span><br><span class="line-number">3759</span><br><span class="line-number">3760</span><br><span class="line-number">3761</span><br><span class="line-number">3762</span><br><span class="line-number">3763</span><br><span class="line-number">3764</span><br><span class="line-number">3765</span><br><span class="line-number">3766</span><br><span class="line-number">3767</span><br><span class="line-number">3768</span><br><span class="line-number">3769</span><br><span class="line-number">3770</span><br><span class="line-number">3771</span><br><span class="line-number">3772</span><br><span class="line-number">3773</span><br><span class="line-number">3774</span><br><span class="line-number">3775</span><br><span class="line-number">3776</span><br><span class="line-number">3777</span><br><span class="line-number">3778</span><br><span class="line-number">3779</span><br><span class="line-number">3780</span><br><span class="line-number">3781</span><br><span class="line-number">3782</span><br><span class="line-number">3783</span><br><span class="line-number">3784</span><br><span class="line-number">3785</span><br><span class="line-number">3786</span><br><span class="line-number">3787</span><br><span class="line-number">3788</span><br><span class="line-number">3789</span><br><span class="line-number">3790</span><br><span class="line-number">3791</span><br><span class="line-number">3792</span><br><span class="line-number">3793</span><br><span class="line-number">3794</span><br><span class="line-number">3795</span><br><span class="line-number">3796</span><br><span class="line-number">3797</span><br><span class="line-number">3798</span><br><span class="line-number">3799</span><br><span class="line-number">3800</span><br><span class="line-number">3801</span><br><span class="line-number">3802</span><br><span class="line-number">3803</span><br><span class="line-number">3804</span><br><span class="line-number">3805</span><br><span class="line-number">3806</span><br><span class="line-number">3807</span><br><span class="line-number">3808</span><br><span class="line-number">3809</span><br><span class="line-number">3810</span><br><span class="line-number">3811</span><br><span class="line-number">3812</span><br><span class="line-number">3813</span><br><span class="line-number">3814</span><br><span class="line-number">3815</span><br><span class="line-number">3816</span><br><span class="line-number">3817</span><br><span class="line-number">3818</span><br><span class="line-number">3819</span><br><span class="line-number">3820</span><br><span class="line-number">3821</span><br><span class="line-number">3822</span><br><span class="line-number">3823</span><br><span class="line-number">3824</span><br><span class="line-number">3825</span><br><span class="line-number">3826</span><br><span class="line-number">3827</span><br><span class="line-number">3828</span><br><span class="line-number">3829</span><br><span class="line-number">3830</span><br><span class="line-number">3831</span><br><span class="line-number">3832</span><br><span class="line-number">3833</span><br><span class="line-number">3834</span><br><span class="line-number">3835</span><br><span class="line-number">3836</span><br><span class="line-number">3837</span><br><span class="line-number">3838</span><br><span class="line-number">3839</span><br><span class="line-number">3840</span><br><span class="line-number">3841</span><br><span class="line-number">3842</span><br><span class="line-number">3843</span><br><span class="line-number">3844</span><br><span class="line-number">3845</span><br><span class="line-number">3846</span><br><span class="line-number">3847</span><br><span class="line-number">3848</span><br><span class="line-number">3849</span><br><span class="line-number">3850</span><br><span class="line-number">3851</span><br><span class="line-number">3852</span><br><span class="line-number">3853</span><br><span class="line-number">3854</span><br><span class="line-number">3855</span><br><span class="line-number">3856</span><br><span class="line-number">3857</span><br><span class="line-number">3858</span><br><span class="line-number">3859</span><br><span class="line-number">3860</span><br><span class="line-number">3861</span><br><span class="line-number">3862</span><br><span class="line-number">3863</span><br><span class="line-number">3864</span><br><span class="line-number">3865</span><br><span class="line-number">3866</span><br><span class="line-number">3867</span><br><span class="line-number">3868</span><br><span class="line-number">3869</span><br><span class="line-number">3870</span><br><span class="line-number">3871</span><br><span class="line-number">3872</span><br><span class="line-number">3873</span><br><span class="line-number">3874</span><br><span class="line-number">3875</span><br><span class="line-number">3876</span><br><span class="line-number">3877</span><br><span class="line-number">3878</span><br><span class="line-number">3879</span><br><span class="line-number">3880</span><br><span class="line-number">3881</span><br><span class="line-number">3882</span><br><span class="line-number">3883</span><br><span class="line-number">3884</span><br><span class="line-number">3885</span><br><span class="line-number">3886</span><br><span class="line-number">3887</span><br><span class="line-number">3888</span><br><span class="line-number">3889</span><br><span class="line-number">3890</span><br><span class="line-number">3891</span><br><span class="line-number">3892</span><br><span class="line-number">3893</span><br><span class="line-number">3894</span><br><span class="line-number">3895</span><br><span class="line-number">3896</span><br><span class="line-number">3897</span><br><span class="line-number">3898</span><br><span class="line-number">3899</span><br><span class="line-number">3900</span><br><span class="line-number">3901</span><br><span class="line-number">3902</span><br><span class="line-number">3903</span><br><span class="line-number">3904</span><br><span class="line-number">3905</span><br><span class="line-number">3906</span><br><span class="line-number">3907</span><br><span class="line-number">3908</span><br><span class="line-number">3909</span><br><span class="line-number">3910</span><br><span class="line-number">3911</span><br><span class="line-number">3912</span><br><span class="line-number">3913</span><br><span class="line-number">3914</span><br><span class="line-number">3915</span><br><span class="line-number">3916</span><br><span class="line-number">3917</span><br><span class="line-number">3918</span><br><span class="line-number">3919</span><br><span class="line-number">3920</span><br><span class="line-number">3921</span><br><span class="line-number">3922</span><br><span class="line-number">3923</span><br><span class="line-number">3924</span><br><span class="line-number">3925</span><br><span class="line-number">3926</span><br><span class="line-number">3927</span><br><span class="line-number">3928</span><br><span class="line-number">3929</span><br><span class="line-number">3930</span><br><span class="line-number">3931</span><br><span class="line-number">3932</span><br><span class="line-number">3933</span><br><span class="line-number">3934</span><br><span class="line-number">3935</span><br><span class="line-number">3936</span><br><span class="line-number">3937</span><br><span class="line-number">3938</span><br><span class="line-number">3939</span><br><span class="line-number">3940</span><br><span class="line-number">3941</span><br><span class="line-number">3942</span><br><span class="line-number">3943</span><br><span class="line-number">3944</span><br><span class="line-number">3945</span><br><span class="line-number">3946</span><br><span class="line-number">3947</span><br><span class="line-number">3948</span><br><span class="line-number">3949</span><br><span class="line-number">3950</span><br><span class="line-number">3951</span><br><span class="line-number">3952</span><br><span class="line-number">3953</span><br><span class="line-number">3954</span><br><span class="line-number">3955</span><br><span class="line-number">3956</span><br><span class="line-number">3957</span><br><span class="line-number">3958</span><br><span class="line-number">3959</span><br><span class="line-number">3960</span><br><span class="line-number">3961</span><br><span class="line-number">3962</span><br><span class="line-number">3963</span><br><span class="line-number">3964</span><br><span class="line-number">3965</span><br><span class="line-number">3966</span><br><span class="line-number">3967</span><br><span class="line-number">3968</span><br><span class="line-number">3969</span><br><span class="line-number">3970</span><br><span class="line-number">3971</span><br><span class="line-number">3972</span><br><span class="line-number">3973</span><br><span class="line-number">3974</span><br><span class="line-number">3975</span><br><span class="line-number">3976</span><br><span class="line-number">3977</span><br><span class="line-number">3978</span><br><span class="line-number">3979</span><br><span class="line-number">3980</span><br><span class="line-number">3981</span><br><span class="line-number">3982</span><br><span class="line-number">3983</span><br><span class="line-number">3984</span><br><span class="line-number">3985</span><br><span class="line-number">3986</span><br><span class="line-number">3987</span><br><span class="line-number">3988</span><br><span class="line-number">3989</span><br><span class="line-number">3990</span><br><span class="line-number">3991</span><br><span class="line-number">3992</span><br><span class="line-number">3993</span><br><span class="line-number">3994</span><br><span class="line-number">3995</span><br><span class="line-number">3996</span><br><span class="line-number">3997</span><br><span class="line-number">3998</span><br><span class="line-number">3999</span><br><span class="line-number">4000</span><br><span class="line-number">4001</span><br><span class="line-number">4002</span><br><span class="line-number">4003</span><br><span class="line-number">4004</span><br><span class="line-number">4005</span><br><span class="line-number">4006</span><br><span class="line-number">4007</span><br><span class="line-number">4008</span><br><span class="line-number">4009</span><br><span class="line-number">4010</span><br><span class="line-number">4011</span><br><span class="line-number">4012</span><br><span class="line-number">4013</span><br><span class="line-number">4014</span><br><span class="line-number">4015</span><br><span class="line-number">4016</span><br><span class="line-number">4017</span><br><span class="line-number">4018</span><br><span class="line-number">4019</span><br><span class="line-number">4020</span><br><span class="line-number">4021</span><br><span class="line-number">4022</span><br><span class="line-number">4023</span><br><span class="line-number">4024</span><br><span class="line-number">4025</span><br><span class="line-number">4026</span><br><span class="line-number">4027</span><br><span class="line-number">4028</span><br><span class="line-number">4029</span><br><span class="line-number">4030</span><br><span class="line-number">4031</span><br><span class="line-number">4032</span><br><span class="line-number">4033</span><br><span class="line-number">4034</span><br><span class="line-number">4035</span><br><span class="line-number">4036</span><br><span class="line-number">4037</span><br><span class="line-number">4038</span><br><span class="line-number">4039</span><br><span class="line-number">4040</span><br><span class="line-number">4041</span><br><span class="line-number">4042</span><br><span class="line-number">4043</span><br><span class="line-number">4044</span><br><span class="line-number">4045</span><br><span class="line-number">4046</span><br><span class="line-number">4047</span><br><span class="line-number">4048</span><br><span class="line-number">4049</span><br><span class="line-number">4050</span><br><span class="line-number">4051</span><br><span class="line-number">4052</span><br><span class="line-number">4053</span><br><span class="line-number">4054</span><br><span class="line-number">4055</span><br><span class="line-number">4056</span><br><span class="line-number">4057</span><br><span class="line-number">4058</span><br><span class="line-number">4059</span><br><span class="line-number">4060</span><br><span class="line-number">4061</span><br><span class="line-number">4062</span><br><span class="line-number">4063</span><br><span class="line-number">4064</span><br><span class="line-number">4065</span><br><span class="line-number">4066</span><br><span class="line-number">4067</span><br><span class="line-number">4068</span><br><span class="line-number">4069</span><br><span class="line-number">4070</span><br><span class="line-number">4071</span><br><span class="line-number">4072</span><br><span class="line-number">4073</span><br><span class="line-number">4074</span><br><span class="line-number">4075</span><br><span class="line-number">4076</span><br><span class="line-number">4077</span><br><span class="line-number">4078</span><br><span class="line-number">4079</span><br><span class="line-number">4080</span><br><span class="line-number">4081</span><br><span class="line-number">4082</span><br><span class="line-number">4083</span><br><span class="line-number">4084</span><br><span class="line-number">4085</span><br><span class="line-number">4086</span><br><span class="line-number">4087</span><br><span class="line-number">4088</span><br><span class="line-number">4089</span><br><span class="line-number">4090</span><br><span class="line-number">4091</span><br><span class="line-number">4092</span><br><span class="line-number">4093</span><br><span class="line-number">4094</span><br><span class="line-number">4095</span><br><span class="line-number">4096</span><br><span class="line-number">4097</span><br><span class="line-number">4098</span><br><span class="line-number">4099</span><br><span class="line-number">4100</span><br><span class="line-number">4101</span><br><span class="line-number">4102</span><br><span class="line-number">4103</span><br><span class="line-number">4104</span><br><span class="line-number">4105</span><br><span class="line-number">4106</span><br><span class="line-number">4107</span><br><span class="line-number">4108</span><br><span class="line-number">4109</span><br><span class="line-number">4110</span><br><span class="line-number">4111</span><br><span class="line-number">4112</span><br><span class="line-number">4113</span><br><span class="line-number">4114</span><br><span class="line-number">4115</span><br><span class="line-number">4116</span><br><span class="line-number">4117</span><br><span class="line-number">4118</span><br><span class="line-number">4119</span><br><span class="line-number">4120</span><br><span class="line-number">4121</span><br><span class="line-number">4122</span><br><span class="line-number">4123</span><br><span class="line-number">4124</span><br><span class="line-number">4125</span><br><span class="line-number">4126</span><br><span class="line-number">4127</span><br><span class="line-number">4128</span><br><span class="line-number">4129</span><br><span class="line-number">4130</span><br><span class="line-number">4131</span><br><span class="line-number">4132</span><br><span class="line-number">4133</span><br><span class="line-number">4134</span><br><span class="line-number">4135</span><br><span class="line-number">4136</span><br><span class="line-number">4137</span><br><span class="line-number">4138</span><br><span class="line-number">4139</span><br><span class="line-number">4140</span><br><span class="line-number">4141</span><br><span class="line-number">4142</span><br><span class="line-number">4143</span><br><span class="line-number">4144</span><br><span class="line-number">4145</span><br><span class="line-number">4146</span><br><span class="line-number">4147</span><br><span class="line-number">4148</span><br><span class="line-number">4149</span><br><span class="line-number">4150</span><br><span class="line-number">4151</span><br><span class="line-number">4152</span><br><span class="line-number">4153</span><br><span class="line-number">4154</span><br><span class="line-number">4155</span><br><span class="line-number">4156</span><br><span class="line-number">4157</span><br><span class="line-number">4158</span><br><span class="line-number">4159</span><br><span class="line-number">4160</span><br><span class="line-number">4161</span><br><span class="line-number">4162</span><br><span class="line-number">4163</span><br><span class="line-number">4164</span><br><span class="line-number">4165</span><br><span class="line-number">4166</span><br><span class="line-number">4167</span><br><span class="line-number">4168</span><br><span class="line-number">4169</span><br><span class="line-number">4170</span><br><span class="line-number">4171</span><br><span class="line-number">4172</span><br><span class="line-number">4173</span><br><span class="line-number">4174</span><br><span class="line-number">4175</span><br><span class="line-number">4176</span><br><span class="line-number">4177</span><br><span class="line-number">4178</span><br><span class="line-number">4179</span><br><span class="line-number">4180</span><br><span class="line-number">4181</span><br><span class="line-number">4182</span><br><span class="line-number">4183</span><br><span class="line-number">4184</span><br><span class="line-number">4185</span><br><span class="line-number">4186</span><br><span class="line-number">4187</span><br><span class="line-number">4188</span><br><span class="line-number">4189</span><br><span class="line-number">4190</span><br><span class="line-number">4191</span><br><span class="line-number">4192</span><br><span class="line-number">4193</span><br><span class="line-number">4194</span><br><span class="line-number">4195</span><br><span class="line-number">4196</span><br><span class="line-number">4197</span><br><span class="line-number">4198</span><br><span class="line-number">4199</span><br><span class="line-number">4200</span><br><span class="line-number">4201</span><br><span class="line-number">4202</span><br><span class="line-number">4203</span><br><span class="line-number">4204</span><br><span class="line-number">4205</span><br><span class="line-number">4206</span><br><span class="line-number">4207</span><br><span class="line-number">4208</span><br><span class="line-number">4209</span><br><span class="line-number">4210</span><br><span class="line-number">4211</span><br><span class="line-number">4212</span><br><span class="line-number">4213</span><br><span class="line-number">4214</span><br><span class="line-number">4215</span><br><span class="line-number">4216</span><br><span class="line-number">4217</span><br><span class="line-number">4218</span><br><span class="line-number">4219</span><br><span class="line-number">4220</span><br><span class="line-number">4221</span><br><span class="line-number">4222</span><br><span class="line-number">4223</span><br><span class="line-number">4224</span><br><span class="line-number">4225</span><br><span class="line-number">4226</span><br><span class="line-number">4227</span><br><span class="line-number">4228</span><br><span class="line-number">4229</span><br><span class="line-number">4230</span><br><span class="line-number">4231</span><br><span class="line-number">4232</span><br><span class="line-number">4233</span><br><span class="line-number">4234</span><br><span class="line-number">4235</span><br><span class="line-number">4236</span><br><span class="line-number">4237</span><br><span class="line-number">4238</span><br><span class="line-number">4239</span><br><span class="line-number">4240</span><br><span class="line-number">4241</span><br><span class="line-number">4242</span><br><span class="line-number">4243</span><br><span class="line-number">4244</span><br><span class="line-number">4245</span><br><span class="line-number">4246</span><br><span class="line-number">4247</span><br><span class="line-number">4248</span><br><span class="line-number">4249</span><br><span class="line-number">4250</span><br><span class="line-number">4251</span><br><span class="line-number">4252</span><br><span class="line-number">4253</span><br><span class="line-number">4254</span><br><span class="line-number">4255</span><br><span class="line-number">4256</span><br><span class="line-number">4257</span><br><span class="line-number">4258</span><br><span class="line-number">4259</span><br><span class="line-number">4260</span><br><span class="line-number">4261</span><br><span class="line-number">4262</span><br><span class="line-number">4263</span><br><span class="line-number">4264</span><br><span class="line-number">4265</span><br><span class="line-number">4266</span><br><span class="line-number">4267</span><br><span class="line-number">4268</span><br><span class="line-number">4269</span><br><span class="line-number">4270</span><br><span class="line-number">4271</span><br><span class="line-number">4272</span><br><span class="line-number">4273</span><br><span class="line-number">4274</span><br><span class="line-number">4275</span><br><span class="line-number">4276</span><br><span class="line-number">4277</span><br><span class="line-number">4278</span><br><span class="line-number">4279</span><br><span class="line-number">4280</span><br><span class="line-number">4281</span><br><span class="line-number">4282</span><br><span class="line-number">4283</span><br><span class="line-number">4284</span><br><span class="line-number">4285</span><br><span class="line-number">4286</span><br><span class="line-number">4287</span><br><span class="line-number">4288</span><br><span class="line-number">4289</span><br><span class="line-number">4290</span><br><span class="line-number">4291</span><br><span class="line-number">4292</span><br><span class="line-number">4293</span><br><span class="line-number">4294</span><br><span class="line-number">4295</span><br><span class="line-number">4296</span><br><span class="line-number">4297</span><br><span class="line-number">4298</span><br><span class="line-number">4299</span><br><span class="line-number">4300</span><br><span class="line-number">4301</span><br><span class="line-number">4302</span><br><span class="line-number">4303</span><br><span class="line-number">4304</span><br><span class="line-number">4305</span><br><span class="line-number">4306</span><br><span class="line-number">4307</span><br><span class="line-number">4308</span><br><span class="line-number">4309</span><br><span class="line-number">4310</span><br><span class="line-number">4311</span><br><span class="line-number">4312</span><br><span class="line-number">4313</span><br><span class="line-number">4314</span><br><span class="line-number">4315</span><br><span class="line-number">4316</span><br><span class="line-number">4317</span><br><span class="line-number">4318</span><br><span class="line-number">4319</span><br><span class="line-number">4320</span><br><span class="line-number">4321</span><br><span class="line-number">4322</span><br><span class="line-number">4323</span><br><span class="line-number">4324</span><br><span class="line-number">4325</span><br><span class="line-number">4326</span><br><span class="line-number">4327</span><br><span class="line-number">4328</span><br><span class="line-number">4329</span><br><span class="line-number">4330</span><br><span class="line-number">4331</span><br><span class="line-number">4332</span><br><span class="line-number">4333</span><br><span class="line-number">4334</span><br><span class="line-number">4335</span><br><span class="line-number">4336</span><br><span class="line-number">4337</span><br><span class="line-number">4338</span><br><span class="line-number">4339</span><br><span class="line-number">4340</span><br><span class="line-number">4341</span><br><span class="line-number">4342</span><br><span class="line-number">4343</span><br><span class="line-number">4344</span><br><span class="line-number">4345</span><br><span class="line-number">4346</span><br><span class="line-number">4347</span><br><span class="line-number">4348</span><br><span class="line-number">4349</span><br><span class="line-number">4350</span><br><span class="line-number">4351</span><br><span class="line-number">4352</span><br><span class="line-number">4353</span><br><span class="line-number">4354</span><br><span class="line-number">4355</span><br><span class="line-number">4356</span><br><span class="line-number">4357</span><br><span class="line-number">4358</span><br><span class="line-number">4359</span><br><span class="line-number">4360</span><br><span class="line-number">4361</span><br><span class="line-number">4362</span><br><span class="line-number">4363</span><br><span class="line-number">4364</span><br><span class="line-number">4365</span><br><span class="line-number">4366</span><br><span class="line-number">4367</span><br><span class="line-number">4368</span><br><span class="line-number">4369</span><br><span class="line-number">4370</span><br><span class="line-number">4371</span><br><span class="line-number">4372</span><br><span class="line-number">4373</span><br><span class="line-number">4374</span><br><span class="line-number">4375</span><br><span class="line-number">4376</span><br><span class="line-number">4377</span><br><span class="line-number">4378</span><br><span class="line-number">4379</span><br><span class="line-number">4380</span><br></div></div><h2 id="高德地图搜索"><a href="#高德地图搜索" class="header-anchor">#</a> 高德地图搜索</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 根据地点名搜索相关</span>
geocoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>AMap<span class="token punctuation">.</span>Geocoder</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;010&quot;</span><span class="token punctuation">,</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 根据地点名获取坐标轴</span>
<span class="token keyword">const</span> <span class="token function-variable function">getCoordinateByName</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    geocoder<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>inputValue<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">'complete'</span> <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>geocodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> lnglat <span class="token operator">=</span> result<span class="token punctuation">.</span>geocodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>location<span class="token punctuation">;</span>
        data<span class="token punctuation">.</span>longitude <span class="token operator">=</span> lnglat<span class="token punctuation">.</span>lng<span class="token punctuation">;</span>
        data<span class="token punctuation">.</span>latitude <span class="token operator">=</span> lnglat<span class="token punctuation">.</span>lat<span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">longitude</span><span class="token operator">:</span> data<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> <span class="token literal-property property">latitude</span><span class="token operator">:</span> data<span class="token punctuation">.</span>latitude <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 给个默认坐标</span>
        data<span class="token punctuation">.</span>longitude <span class="token operator">=</span> <span class="token string">&quot;113.338552&quot;</span><span class="token punctuation">;</span>
        data<span class="token punctuation">.</span>latitude <span class="token operator">=</span> <span class="token string">&quot;23.076839&quot;</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">longitude</span><span class="token operator">:</span> data<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> <span class="token literal-property property">latitude</span><span class="token operator">:</span> data<span class="token punctuation">.</span>latitude <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 点击地图后地点查询</span>
geocoder<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span>lnglat<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">'complete'</span> <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>info <span class="token operator">===</span> <span class="token string">'OK'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// result为对应的地理位置详细信息</span>
      data<span class="token punctuation">.</span>inputValue <span class="token operator">=</span> result<span class="token punctuation">.</span>regeocodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>formattedAddress
      <span class="token function">searchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="封装外部链接组件"><a href="#封装外部链接组件" class="header-anchor">#</a> 封装外部链接组件</h2> <blockquote><p>注意：设置外链带token的话需要遵循的格式token=${token}</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// router.js</span>
<span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/scheduling-page/iframePageContent'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'IframePageContent'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/layouts/IframePageView.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// IframePageView.vue</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 跳转外部链接页面 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>iframe <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;routeUrl&quot;</span> frameborder<span class="token operator">=</span><span class="token string">&quot;0&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%; height: 99%; border: medium none;border-radius: 6px;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> getCurrentInstance<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;@/store/store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'IframePageContent'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> proxy <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> routeUrl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>iframeUrl<span class="token punctuation">)</span>

        <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 跳转外部链接</span>
            <span class="token keyword">let</span> tokenStr <span class="token operator">=</span> <span class="token string">'${token}'</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>routeUrl<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>tokenStr<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                routeUrl<span class="token punctuation">.</span>value <span class="token operator">=</span> routeUrl<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>tokenStr<span class="token punctuation">,</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'accessToken'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'iframeUrl'</span><span class="token punctuation">,</span> routeUrl<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            routeUrl<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// GlobalHeader.vue </span>
<span class="token comment">// 如果是是跳外部链接，则设置internalOrExternal为true(点击的时候触发)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>meta <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>internalOrExternal <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>internalOrExternal <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>component <span class="token operator">===</span> <span class="token string">'layouts/lframePageView'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> query <span class="token operator">=</span> <span class="token function">queryURLParams</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/scheduling-page/iframePageContent'</span><span class="token punctuation">,</span>
      query
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_IFRAME_URL'</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 如果关闭当前tab前一个tab为iframe外链则需要进行处理(关闭的时候触发)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>panes<span class="token punctuation">.</span>value<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>meta <span class="token operator">&amp;&amp;</span> panes<span class="token punctuation">.</span>value<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> panes<span class="token punctuation">.</span>value<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url
    <span class="token keyword">let</span> path <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'token'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    path <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'token=${token}'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    path <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'&amp;token=${token}'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    path <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/scheduling-page/iframePageContent?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
 	router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>panes<span class="token punctuation">.</span>value<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="轮询接口"><a href="#轮询接口" class="header-anchor">#</a> 轮询接口</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 5分钟刷新一次路况接口及右侧统计接口</span>
<span class="token keyword">let</span> facilitiesAndEventInfoTimer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">circulateEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  facilitiesAndEventInfoTimer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> parameter <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">sysOrgCode</span><span class="token operator">:</span> sysOrgCode<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token function">getHighwaySectionApi</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>facilitiesAndEventInfoTimer<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token comment">//console.log('getHighwaySectionApiFn-data:', data)</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span>result
        <span class="token keyword">let</span> sectionIdArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              sectionIdArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sectionId<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            mapObj<span class="token punctuation">.</span>sectionIdArr <span class="token operator">=</span> sectionIdArr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
            mapObj<span class="token punctuation">.</span>eventList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            eventPageNo<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token function">queryEventInfoApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">queryConfirmedEventApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token function">circulateEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">//console.log(data.message)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="分段渲染多数据"><a href="#分段渲染多数据" class="header-anchor">#</a> 分段渲染多数据</h2> <ul><li>通过定时器分段渲染数据，最后循环清除所有定时器</li></ul> <blockquote><p>注意：做不到通过判断每次渲染条数再去渲染下一段数据，最后等全部数据拿到再渲染到页面上</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//根据路段画线路</span>
<span class="token keyword">const</span> <span class="token function-variable function">_drawPolylineFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tmcs<span class="token punctuation">,</span>type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tmcsLength <span class="token operator">=</span> <span class="token number">0</span>
        tmcsLength <span class="token operator">=</span> tmcs<span class="token punctuation">.</span>length
    <span class="token keyword">let</span> colorArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'#04D099'</span><span class="token punctuation">,</span><span class="token string">'#FFCC00'</span><span class="token punctuation">,</span><span class="token string">'#FF0033'</span><span class="token punctuation">,</span><span class="token string">'#660033'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>pathArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>tmcs<span class="token punctuation">.</span>length<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> polylineColor <span class="token operator">=</span> <span class="token string">''</span>
        <span class="token keyword">let</span> polyline <span class="token operator">=</span> <span class="token string">''</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>tmcsLength<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            polylineColor <span class="token operator">=</span> 
                tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'畅通'</span>
                <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'缓行'</span>
                <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'拥堵'</span>
                <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_status <span class="token operator">==</span> <span class="token string">'严重拥堵'</span>
                <span class="token operator">?</span> colorArr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
                <span class="token operator">:</span> colorArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_polyline_arr<span class="token punctuation">.</span>length<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                polyline <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Polyline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> tmcs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tmc_polyline_arr<span class="token punctuation">,</span>
                <span class="token literal-property property">borderWeight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 描边的宽度，默认为1</span>
                <span class="token literal-property property">strokeWeight</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 线条宽度</span>
                <span class="token literal-property property">strokeColor</span><span class="token operator">:</span> polylineColor<span class="token punctuation">,</span> <span class="token comment">// 线条颜色</span>
                <span class="token literal-property property">lineJoin</span><span class="token operator">:</span> <span class="token string">'round'</span><span class="token punctuation">,</span> <span class="token comment">// 折线拐点连接处样式</span>
                <span class="token literal-property property">lineCap</span><span class="token operator">:</span><span class="token string">'round'</span><span class="token punctuation">,</span><span class="token comment">//圆头</span>
                <span class="token literal-property property">isOutline</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 线条是否带描边</span>
                <span class="token literal-property property">outlineColor</span><span class="token operator">:</span>polylineColor<span class="token punctuation">,</span> <span class="token comment">//线条描边颜色</span>
                <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
              	<span class="token literal-property property">strokeOpacity</span><span class="token operator">:</span> <span class="token number">0.3</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>polyline<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mapDetailObj<span class="token punctuation">.</span>polylineArr<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    type<span class="token operator">++</span>
    <span class="token keyword">let</span> loopFnTimer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">_loopFn</span><span class="token punctuation">(</span>eventDetailsObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> eventDetailsObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            loopFnTimerArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">clearTimeout</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            loopFnTimerArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    loopFnTimerArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>loopFnTimer<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">_loopFn</span><span class="token punctuation">(</span><span class="token parameter">lineRoadData<span class="token punctuation">,</span>type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">&lt;</span>eventDetailsObj<span class="token punctuation">.</span>mapLineData<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">_drawPolylineFn</span><span class="token punctuation">(</span>lineRoadData<span class="token punctuation">,</span>type<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h2 id="动态路由"><a href="#动态路由" class="header-anchor">#</a> 动态路由</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">addRoutes</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">menuDatas</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    menuDatas<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> name <span class="token operator">=</span> item<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>item<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">''</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            item<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> names <span class="token operator">=</span> v<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>v<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">''</span>
                <span class="token comment">// console.log(&quot;打印看看：&quot;, names, v.component)</span>
                router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">path</span><span class="token operator">:</span> v<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> names<span class="token punctuation">,</span>
                    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/views/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>v<span class="token punctuation">.</span>component<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">title</span><span class="token operator">:</span> v<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
                        <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> v<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>keepAlive
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">!==</span> <span class="token string">'首页'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> item<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> name<span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/views/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>component<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="上传单个图片"><a href="#上传单个图片" class="header-anchor">#</a> 上传单个图片</h2> <ul><li>不支持上传视频格式、上传音频格式</li> <li>文件超过2M, 请重新上传</li> <li>图片尺寸超过18px*18px，请重新上传！</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 事件图标 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;12&quot;</span> <span class="token operator">:</span>offset<span class="token operator">=</span><span class="token string">&quot;1&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;avatarItem&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>a<span class="token operator">-</span>form<span class="token operator">-</span>item
    label<span class="token operator">=</span><span class="token string">&quot;事件图标&quot;</span>
    name<span class="token operator">=</span><span class="token string">&quot;icon&quot;</span>
  <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>upload
        name<span class="token operator">=</span><span class="token string">&quot;file&quot;</span>
        <span class="token operator">:</span>file<span class="token operator">-</span>list<span class="token operator">=</span><span class="token string">&quot;iconList&quot;</span>
        <span class="token operator">:</span>beforeUpload<span class="token operator">=</span><span class="token string">&quot;iconBeforeUpload&quot;</span>
        @change<span class="token operator">=</span><span class="token string">&quot;iconHandleChange&quot;</span>
        <span class="token operator">:</span>max<span class="token operator">-</span>count<span class="token operator">=</span><span class="token string">&quot;1&quot;</span>
        <span class="token operator">:</span>show<span class="token operator">-</span>upload<span class="token operator">-</span>list<span class="token operator">=</span><span class="token string">&quot;false&quot;</span>
    <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;formState.icon&quot;</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;formState.icon&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;avatar&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;avatar&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button<span class="token operator">&gt;</span>上传文件<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>upload<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;warning-container&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;warning&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;@/assets/images/roadOverview/warning_icon.png&quot;</span> alt<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>支持上传<span class="token constant">JPG</span><span class="token punctuation">,</span><span class="token constant">JPEG</span><span class="token punctuation">,</span><span class="token constant">PNG</span><span class="token punctuation">,</span><span class="token constant">BMP</span>格式文件大小不大于2MB<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>col<span class="token operator">&gt;</span>
  
<span class="token comment">// 图标上传</span>
<span class="token keyword">const</span> iconList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">iconHandleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">!=</span> <span class="token string">'uploading'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> file <span class="token operator">=</span> iconList<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;image&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;biz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;video&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">'不支持上传视频格式'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span>
      <span class="token comment">// formData.append(&quot;biz&quot;, &quot;video&quot;);</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;audio&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">'不支持上传音频格式'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span>
      <span class="token comment">// formData.append(&quot;biz&quot;, &quot;voice&quot;);</span>
    <span class="token punctuation">}</span>
    <span class="token function">uploadApi</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;上传成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        formState<span class="token punctuation">.</span>icon <span class="token operator">=</span> data<span class="token punctuation">.</span>message
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;上传失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 图标上传前</span>
<span class="token keyword">const</span> <span class="token function-variable function">iconBeforeUpload</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isJpgOrPng <span class="token operator">=</span> file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;bmp&quot;</span><span class="token punctuation">)</span><span class="token operator">||</span> file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;jpg&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;jpeg&quot;</span><span class="token punctuation">)</span> 
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isJpgOrPng<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'该文件类型暂不支持上传，请重新上传！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> isLt2M <span class="token operator">=</span> file<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isLt2M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'文件超过2M, 请重新上传'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  image<span class="token punctuation">.</span>src <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    image<span class="token punctuation">.</span>onload <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
    image<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> isSize <span class="token operator">=</span> image<span class="token punctuation">.</span>width <span class="token operator">&lt;=</span> <span class="token number">18</span> <span class="token operator">&amp;&amp;</span> image<span class="token punctuation">.</span>height <span class="token operator">&lt;=</span> <span class="token number">18</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;图片尺寸超过18px*18px，请重新上传！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  iconList<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>
  <span class="token keyword">return</span> isJpgOrPng <span class="token operator">&amp;&amp;</span> isLt2M <span class="token operator">&amp;&amp;</span> isSize<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token punctuation">.</span>avatarItem<span class="token punctuation">{</span>
  <span class="token punctuation">.</span>avatar<span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>875rem<span class="token punctuation">;</span>
    <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span> 10px<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #cbcbcb<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>ant<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">-</span>control<span class="token operator">-</span>input<span class="token operator">-</span>content<span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>warning<span class="token operator">-</span>container<span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #34A2FB<span class="token punctuation">;</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">.</span>75rem<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token punctuation">.</span>625rem<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">.</span>warning<span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>25rem<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>25rem<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br></div></div><h2 id="聊天功能"><a href="#聊天功能" class="header-anchor">#</a> 聊天功能</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*******获取群聊websocket推送消息*/</span>
<span class="token keyword">function</span> <span class="token function">initWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// WebSocket与普通的请求所用协议有所不同，ws等同于http，wss等同于https</span>
  <span class="token comment">//type固定值 pc userId当前登录人id  eventId 当前事件id</span>
  <span class="token keyword">var</span> userId <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
  <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_API_HOST4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;https://&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;wss://&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;http://&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ws://&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;websocket/pc/&quot;</span><span class="token operator">+</span>userId<span class="token operator">+</span><span class="token string">'/'</span> <span class="token operator">+</span> globalData<span class="token punctuation">.</span>eventDetailsObj<span class="token punctuation">.</span>id
  <span class="token comment">// +'/'+new Date().getTime();</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;globalData.websockSign&quot;</span><span class="token punctuation">,</span>globalData<span class="token punctuation">.</span>websockSign<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>globalData<span class="token punctuation">.</span>websockSign <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> globalData<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//避免重复链接</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;websocket 连接已存在...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    globalData<span class="token punctuation">.</span>websockSign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    globalData<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnopen</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    globalData<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnerror</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    globalData<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnmessage</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    globalData<span class="token punctuation">.</span>websockSign<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">websocketOnclose</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">websocketOnopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;WebSocket连接成功&quot;</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'长连接已连上'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">websocketOnerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket连接发生错误: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>code <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>reason <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>wasClean<span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'长连接已断开'</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;websocket 非正常断开重连...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">reconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> chatHistoryTimer2 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">websocketOnmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  videoTotal<span class="token punctuation">.</span>value <span class="token operator">=</span> scenVideoTotal<span class="token punctuation">.</span>value
  <span class="token keyword">let</span> msgCon <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>data <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> msgList <span class="token operator">=</span> msgCon<span class="token punctuation">.</span>msgList<span class="token punctuation">;</span> <span class="token comment">//解析对象</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'websocketOnmessage接收内容'</span><span class="token punctuation">,</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>data <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  globalData<span class="token punctuation">.</span>groupChatArr <span class="token operator">=</span> msgList
  globalData<span class="token punctuation">.</span>groupChatArr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    item<span class="token punctuation">.</span>msg<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      ele<span class="token punctuation">.</span>showDurationSeconds <span class="token operator">=</span> ele<span class="token punctuation">.</span>videoTime <span class="token operator">*</span> <span class="token number">1</span>
      ele<span class="token punctuation">.</span>isPlay <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>ele<span class="token punctuation">.</span>videoUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        videoTotal<span class="token punctuation">.</span>value <span class="token operator">=</span> videoTotal<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span>
        ele<span class="token punctuation">.</span>videoTotal <span class="token operator">=</span> videoTotal<span class="token punctuation">.</span>value
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//刷新流程跟踪节点树(判断是否为app传过来的消息 是则刷新)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>msgCon<span class="token punctuation">.</span>channelId <span class="token operator">&amp;&amp;</span> msgCon<span class="token punctuation">.</span>eventId <span class="token operator">&amp;&amp;</span> msgCon<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    globalData<span class="token punctuation">.</span>taskNodeList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>status <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>status <span class="token operator">!=</span> <span class="token string">'-1'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">getTaskNodeApiFn</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>channelId<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//如果app发送消息的类型是eventInfo，重新刷新事件详情内容</span>
  <span class="token comment">// pc发送消息,重新刷新事件详情内容</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>msgCon<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;eventInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">findByEventIdApi</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">eventId</span><span class="token operator">:</span>router<span class="token punctuation">.</span>currentRoute<span class="token punctuation">.</span>_value<span class="token punctuation">.</span>query<span class="token punctuation">.</span>eventId <span class="token operator">||</span> props<span class="token punctuation">.</span>eventDetailData<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> tmpResult <span class="token operator">=</span> res<span class="token punctuation">.</span>result <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>records<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        tmpResult<span class="token punctuation">.</span>startTime <span class="token operator">=</span> tmpResult<span class="token punctuation">.</span>startTime <span class="token operator">?</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>tmpResult<span class="token punctuation">.</span>startTime<span class="token punctuation">,</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
        tmpResult<span class="token punctuation">.</span>endTime <span class="token operator">=</span> tmpResult<span class="token punctuation">.</span>endTime<span class="token operator">?</span><span class="token function">dayjs</span><span class="token punctuation">(</span>tmpResult<span class="token punctuation">.</span>endTime<span class="token punctuation">,</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
        tmpResult<span class="token punctuation">.</span>levelId <span class="token operator">=</span> tmpResult<span class="token punctuation">.</span>levelId <span class="token operator">?</span> tmpResult<span class="token punctuation">.</span>levelId <span class="token operator">+</span><span class="token string">''</span><span class="token operator">:</span><span class="token keyword">null</span>
        tmpResult<span class="token punctuation">.</span>relVehicleInfoJson <span class="token operator">=</span> tmpResult<span class="token punctuation">.</span>relVehicleInfoJson <span class="token operator">?</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>tmpResult<span class="token punctuation">.</span>relVehicleInfoJson<span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        globalData<span class="token punctuation">.</span>eventDetailsObj <span class="token operator">=</span> tmpResult
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//设置滚动条到最底部</span>
  <span class="token keyword">let</span> chatHistory <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;chatBox&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>chatHistory<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// if (chatHistory.scrollHeight &gt; chatHistory.clientHeight) {</span>
      chatHistoryTimer2<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chatHistory<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> chatHistory<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>eventDynamicsRef<span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> msgCon<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    eventDynamicsRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">queryTimelineByIdFn</span><span class="token punctuation">(</span>globalData<span class="token punctuation">.</span>eventDetailsObj<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">//获取时间轴信息</span>
  <span class="token punctuation">}</span>
  <span class="token function">eventAddApiFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">websocketOnclose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'websocket 断开: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>code <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>reason <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>wasClean<span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;websocket 非正常断开重连...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">reconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br></div></div><h2 id="按钮权限控制"><a href="#按钮权限控制" class="header-anchor">#</a> 按钮权限控制</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//permission.js</span>
<span class="token comment">//请求菜单、用户信息</span>
<span class="token function">getUserPermisson</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">token</span><span class="token operator">:</span> res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>token <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res2</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res2<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> res2<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">,</span> res2<span class="token punctuation">.</span>result<span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'auth'</span><span class="token punctuation">,</span> res2<span class="token punctuation">.</span>result<span class="token punctuation">.</span>auth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//动态处理路由</span>
        <span class="token function">addRoutes</span><span class="token punctuation">(</span>res2<span class="token punctuation">.</span>result<span class="token punctuation">.</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//储存菜单数据</span>
        <span class="token function">setStorage</span><span class="token punctuation">(</span><span class="token string">'menuDatas'</span><span class="token punctuation">,</span> res2<span class="token punctuation">.</span>result<span class="token punctuation">.</span>menu<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//默认跳转首页</span>
    <span class="token keyword">let</span> goUrl <span class="token operator">=</span> <span class="token string">'/scheduling-page/index'</span>
  <span class="token comment">//如果是大屏</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>query<span class="token punctuation">.</span>redirectParam <span class="token operator">&amp;&amp;</span> to<span class="token punctuation">.</span>query<span class="token punctuation">.</span>redirectParam <span class="token operator">===</span> <span class="token string">&quot;lsdPage&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    goUrl <span class="token operator">=</span> <span class="token string">'/scheduling-page/lsd/visualization'</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> goUrl <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//接口请求失败，提示然后跳转到一体化</span>
    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">removeStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_API_HOST2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;'一体化平台'&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// buttonPermissions.js</span>
<span class="token comment">// 按钮权限</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store/store'</span>

<span class="token keyword">const</span> <span class="token function-variable function">buttonPermissions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;buttonCode&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// 渲染完毕</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 获取权限</span>
      <span class="token keyword">let</span> auth <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>auth
      <span class="token comment">// 对比已有权限和按钮的权限字符</span>
      <span class="token keyword">let</span> res <span class="token operator">=</span> auth<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> binding<span class="token punctuation">.</span>value <span class="token operator">==</span> item<span class="token punctuation">.</span>action
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">)</span> el<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> buttonPermissions

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> buttonPermissions <span class="token keyword">from</span> <span class="token string">&quot;./utils/directive/buttonPermissions&quot;</span><span class="token punctuation">;</span> <span class="token comment">//按钮权限</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>buttonPermissions<span class="token punctuation">)</span> <span class="token comment">//按钮权限 指令型 v-buttonCode</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h2 id="卫星地图"><a href="#卫星地图" class="header-anchor">#</a> 卫星地图</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 切换卫星地图</span>
 <span class="token keyword">const</span> isSatelliteLayer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
 <span class="token keyword">let</span> satellite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>TileLayer<span class="token punctuation">.</span>Satellite</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">let</span> roadNet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>TileLayer<span class="token punctuation">.</span>RoadNet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">const</span> <span class="token function-variable function">toggleMapLayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token comment">// 切换地图图层</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>isSatelliteLayer<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         GDMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">[</span>satellite<span class="token punctuation">,</span> roadNet<span class="token punctuation">]</span><span class="token punctuation">)</span>
         GDMap<span class="token punctuation">.</span><span class="token function">setMapStyle</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">amap://styles/02fd07714a3aac53f6cdf9b02998f192</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
     <span class="token comment">// 切换卫星地图</span>
     <span class="token keyword">else</span> <span class="token punctuation">{</span>
         GDMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span>satellite<span class="token punctuation">,</span> roadNet<span class="token punctuation">]</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
     isSatelliteLayer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isSatelliteLayer<span class="token punctuation">.</span>value
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="腾讯地图"><a href="#腾讯地图" class="header-anchor">#</a> 腾讯地图</h2> <ul><li><code>uniapp</code>不支持高德地图，所以选择了腾讯地图</li> <li>需要生产key关联<code>appid</code></li> <li>设置request合法域名，添加<code>https://apis.map.qq.com</code></li> <li>路线规划功能仅适用于 <a href="https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview" target="_blank" rel="noopener noreferrer">jssdkv1.2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，下载完后放在项目根目录下面的<code>static</code>文件夹下面</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 救援定位组件 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box&quot;</span> <span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>map <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__map&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;mapDom&quot;</span> <span class="token operator">:</span>latitude<span class="token operator">=</span><span class="token string">&quot;dataSource.markers[0].latitude&quot;</span> <span class="token operator">:</span>longitude<span class="token operator">=</span><span class="token string">&quot;dataSource.markers[0].longitude&quot;</span>
			<span class="token operator">:</span>markers<span class="token operator">=</span><span class="token string">&quot;dataSource.markers&quot;</span> <span class="token operator">:</span>polyline<span class="token operator">=</span><span class="token string">&quot;dataSource.polyline&quot;</span> show<span class="token operator">-</span>location<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>map<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>view v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;rescueType === 1&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span>secure<span class="token operator">-</span>position<span class="token operator">-</span>box__wrap<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 定位信息 <span class="token operator">--</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__content&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__info&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__info--title&quot;</span><span class="token operator">&gt;</span>定位信息<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__info--position&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;resetPosition&quot;</span><span class="token operator">&gt;</span>重新定位<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__detail&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__detail--icon&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/static/images/resuce/marker-icon.png&quot;</span>
						mode<span class="token operator">=</span><span class="token string">&quot;aspectFill&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__detail--location&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> dataSource<span class="token punctuation">.</span>roadData<span class="token punctuation">.</span>roadName <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 一键救援 <span class="token operator">--</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue--operate&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue-team&quot;</span><span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue-team--name&quot;</span><span class="token operator">&gt;</span>救援队<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue-team--phone&quot;</span><span class="token operator">&gt;</span><span class="token number">02080808080</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue--icon&quot;</span><span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue--icon-video&quot;</span>  @click<span class="token operator">=</span><span class="token string">&quot;toPhone()&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;@/static/images/resuce/rescue-phone-green.png&quot;</span>
							mode<span class="token operator">=</span><span class="token string">&quot;aspectFill&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue--icon-phone&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/static/images/resuce/rescue-video.png&quot;</span>
							mode<span class="token operator">=</span><span class="token string">&quot;aspectFill&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;secure-position-box__rescue--btn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toRescueInformation&quot;</span><span class="token operator">&gt;</span>一键救援<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;topTip&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;rescueType === 2&quot;</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;topTipFlex&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;topTipLeft&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;@/static/images/resuce/rescue-loding.png&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;time&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> minute <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> second <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;topTipRight&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;topBox&quot;</span><span class="token operator">&gt;</span>等待救援队响应<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;botBox&quot;</span><span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;@/static/images/resuce/rescue-video-grey.png&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>view<span class="token operator">&gt;</span>视频电话<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toPhone()&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;@/static/images/resuce/rescue-phone-green.png&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>view<span class="token operator">&gt;</span>语音电话<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;topTipBtn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;cancellation&quot;</span><span class="token operator">&gt;</span>取消<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;botTip&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;rescueType === 3&quot;</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;botTipTitle&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;titleLeft&quot;</span><span class="token operator">&gt;</span>救援队正努力赶来<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;titleRight&quot;</span><span class="token operator">&gt;</span>预计<span class="token operator">&lt;</span>text<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> dataSource<span class="token punctuation">.</span>reachTime <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>到达<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;botTipList&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span><span class="token operator">&gt;</span>救援人员<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> dataSource<span class="token punctuation">.</span>rescueTeamData<span class="token punctuation">.</span>rescueName <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;phone&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> dataSource<span class="token punctuation">.</span>rescueTeamData<span class="token punctuation">.</span>rescueMobile <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;toPhone(dataSource.rescueTeamData.rescueMobile)&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;@/static/images/resuce/rescue-phone-green.png&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;botTipList&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span><span class="token operator">&gt;</span>救援类型<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;dataSource.rescueTeamData.rescueType === 1&quot;</span><span class="token operator">&gt;</span> 拖车 <span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;dataSource.rescueTeamData.rescueType === 2&quot;</span><span class="token operator">&gt;</span> 救护车 <span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;dataSource.rescueTeamData.rescueType === 3&quot;</span><span class="token operator">&gt;</span> 交通事故 <span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;dataSource.rescueTeamData.rescueType === 4&quot;</span><span class="token operator">&gt;</span> 补胎 <span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;dataSource.rescueTeamData.rescueType === 5&quot;</span><span class="token operator">&gt;</span> 车辆事故 <span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;botTipList&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span><span class="token operator">&gt;</span>所在高速<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> dataSource<span class="token punctuation">.</span>rescueTeamData<span class="token punctuation">.</span>highwayName <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;botTipList&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span><span class="token operator">&gt;</span>救援车牌<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> dataSource<span class="token punctuation">.</span>rescueTeamData<span class="token punctuation">.</span>rescuePlateNumber <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span>getCurrentInstance <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onLoad<span class="token punctuation">,</span> onShow<span class="token punctuation">,</span> onReady <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dcloudio/uni-app'</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> proxy <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> request <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/request/index.js'</span>
<span class="token comment">// 引入SDK核心类，js文件根据自己业务，位置可自行放置</span>
<span class="token keyword">let</span> QQMapWx <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../static/utils/qqmap-wx-jssdk.min.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 实例化API核心类</span>
<span class="token keyword">const</span> qqmapsdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QQMapWx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;SWWBZ-YPGCC-3JU2Y-AQZXX-QD2CF-SLB2Z&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 数据源</span>
<span class="token keyword">const</span> dataSource <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token comment">// 通过经纬度获取路段信息</span>
	<span class="token literal-property property">roadData</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 救援车预计到达时间</span>
	<span class="token literal-property property">reachTime</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
	<span class="token comment">// 救援队信息</span>
	<span class="token literal-property property">rescueTeamData</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 标记点(起点，终点)</span>
	<span class="token literal-property property">markers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token literal-property property">latitude</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">longitude</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token comment">//宽</span>
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//高</span>
			<span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">&quot;../../static/images/resuce/marker-icon-red.png&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token comment">// 线路</span>
	<span class="token literal-property property">polyline</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
		<span class="token literal-property property">points</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#5977ff&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
		<span class="token comment">// dottedLine: true,//是否虚线</span>
		<span class="token literal-property property">arrowLine</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否带箭头</span>
	<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token comment">// 地图实例</span>
	<span class="token literal-property property">mapDom</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 根据经纬度计算两点的方向（动态控制救援车图标方向）</span>
<span class="token keyword">const</span> <span class="token function-variable function">bearing</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">let</span> rad <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">,</span>
	lat1 <span class="token operator">=</span> start<span class="token punctuation">.</span>latitude <span class="token operator">*</span> rad<span class="token punctuation">,</span>
	lat2 <span class="token operator">=</span> end<span class="token punctuation">.</span>latitude <span class="token operator">*</span> rad<span class="token punctuation">,</span>
	lon1 <span class="token operator">=</span> start<span class="token punctuation">.</span>longitude <span class="token operator">*</span> rad<span class="token punctuation">,</span>
	lon2 <span class="token operator">=</span> end<span class="token punctuation">.</span>longitude <span class="token operator">*</span> rad<span class="token punctuation">;</span>
    <span class="token keyword">const</span> a <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>lon2 <span class="token operator">-</span> lon1<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>lat2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> b <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>lat1<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>lat2<span class="token punctuation">)</span> <span class="token operator">-</span>
	Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>lat1<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>lat2<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>lon2 <span class="token operator">-</span> lon1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> degrees <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> degrees <span class="token operator">*</span> <span class="token number">180</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通过经纬度获取详细地址接口</span>
<span class="token keyword">const</span> <span class="token function-variable function">getAdress</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">lon<span class="token punctuation">,</span>lat</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> res<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/highway-applet/api/rescue/getHighwayByLngLat?longitude=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lon<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;latitude=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lat<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		dataSource<span class="token punctuation">.</span>roadData <span class="token operator">=</span> res<span class="token punctuation">.</span>result <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取当前定位信息</span>
<span class="token keyword">const</span> <span class="token function-variable function">getLocate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	uni<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;gcj02&quot;</span><span class="token punctuation">,</span>
		<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>longitude <span class="token operator">=</span> res<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span><span class="token comment">//经度</span>
			dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>latitude <span class="token operator">=</span> res<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span><span class="token comment">//维度</span>
			<span class="token comment">// 通过经纬度获取详细地址</span>
			<span class="token function">getAdress</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>res<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span>
			<span class="token comment">// 坐标转详细地址(sdk自带)</span>
			<span class="token comment">// qqmapsdk.reverseGeocoder({</span>
			<span class="token comment">// 	location: {</span>
			<span class="token comment">// 		longitude: res.longitude,</span>
			<span class="token comment">// 		latitude: res.latitude</span>
			<span class="token comment">// 	},</span>
			<span class="token comment">// 	//成功后的回调</span>
			<span class="token comment">// 	success: (r) =&gt; {</span>
			<span class="token comment">// 		console.log('地址信息', r.result);</span>
			<span class="token comment">// 		dataSource.position = r.result.formatted_addresses.recommend</span>
			<span class="token comment">// 	},</span>
			<span class="token comment">// 	fail: function (res) {</span>
			<span class="token comment">// 		console.log(res);</span>
			<span class="token comment">// 	}</span>
			<span class="token comment">// })</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 获取线路规划线路数据</span>
<span class="token comment">// 查询地图路线</span>
<span class="token keyword">const</span> <span class="token function-variable function">getQueryMapRoutine</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">isClear <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	qqmapsdk<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'driving'</span><span class="token punctuation">,</span> <span class="token comment">// 'driving'(驾车路线规划)</span>
    <span class="token comment">// from参数不填默认当前地址</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">latitude</span><span class="token operator">:</span> isClear <span class="token operator">?</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>latitude <span class="token operator">:</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>latitude<span class="token punctuation">,</span>
		<span class="token literal-property property">longitude</span><span class="token operator">:</span> isClear <span class="token operator">?</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>longitude <span class="token operator">:</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">to</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">latitude</span><span class="token operator">:</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>latitude<span class="token punctuation">,</span>
		<span class="token literal-property property">longitude</span><span class="token operator">:</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>isClear<span class="token punctuation">)</span><span class="token punctuation">{</span>
			dataSource<span class="token punctuation">.</span>polyline<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span>
		<span class="token punctuation">}</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'路线规划结果'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> coors <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>routes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>polyline
		<span class="token keyword">let</span> pl <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
		<span class="token comment">//坐标解压（返回的点串坐标，通过前向差分进行压缩）</span>
		<span class="token keyword">let</span> kr <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> coors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			coors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>coors<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>coors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> kr<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//将解压后的坐标放入点串数组pl中</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> coors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			pl<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">latitude</span><span class="token operator">:</span> coors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">longitude</span><span class="token operator">:</span> coors<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		dataSource<span class="token punctuation">.</span>polyline<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>points <span class="token operator">=</span> pl
		<span class="token comment">// 总距离</span>
		<span class="token keyword">let</span> distance <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>routes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>distance <span class="token operator">&gt;</span><span class="token number">1000</span> <span class="token operator">?</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>routes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>distance<span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;Km&quot;</span> <span class="token operator">:</span> res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>routes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>distance <span class="token operator">+</span> <span class="token string">&quot;m&quot;</span>
		dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>callout<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">距您</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>distance<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
		<span class="token comment">// 总时长(res.result.routes[0].duration))</span>
		<span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">let</span> addTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>routes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">let</span> hours <span class="token operator">=</span> addTime<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> addTime<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> addTime<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">let</span> minutes <span class="token operator">=</span> addTime<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> addTime<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> addTime<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		dataSource<span class="token punctuation">.</span>reachTime <span class="token operator">=</span> hours <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> minutes
		<span class="token comment">// 根据经纬度计算两点的方向角度</span>
		dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rotate <span class="token operator">=</span> <span class="token function">bearing</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">latitude</span><span class="token operator">:</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>latitude<span class="token punctuation">,</span>
		<span class="token literal-property property">longitude</span><span class="token operator">:</span> dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>pl<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">180</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 视野回到当前定位</span>
<span class="token keyword">const</span> <span class="token function-variable function">resetView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	uni<span class="token punctuation">.</span><span class="token function">createMapContext</span><span class="token punctuation">(</span><span class="token string">&quot;mapDom&quot;</span><span class="token punctuation">,</span> proxy<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">moveToLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 重新定位</span>
<span class="token keyword">const</span> <span class="token function-variable function">resetPosition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">getLocate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">resetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">const</span> rescueType <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//救援状态</span>
<span class="token keyword">const</span> minute <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'00'</span><span class="token punctuation">)</span><span class="token comment">//分</span>
<span class="token keyword">const</span> second <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'00'</span><span class="token punctuation">)</span><span class="token comment">//秒</span>
<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">//计时器轮询</span>
<span class="token keyword">let</span> orderTimer <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">//订单轮询</span>
<span class="token function">watch</span><span class="token punctuation">(</span>rescueType<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// 等待救援队时间（开启计时器）</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			second<span class="token punctuation">.</span>value<span class="token operator">++</span>
			minute<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>minute<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>second<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				second<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> second<span class="token punctuation">.</span>value
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>second<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">59</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				second<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'00'</span>
				minute<span class="token punctuation">.</span>value<span class="token operator">++</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>minute<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				minute<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> minute<span class="token punctuation">.</span>value
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>val <span class="token operator">!==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// 停止计时器</span>
		<span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
		timer <span class="token operator">=</span> <span class="token keyword">null</span>
		minute<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'00'</span>
		second<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'00'</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 轮询查看救援状态</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>val <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">||</span> val <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// 停止计时器</span>
		<span class="token function">clearInterval</span><span class="token punctuation">(</span>orderTimer<span class="token punctuation">)</span>
		orderTimer <span class="token operator">=</span> <span class="token keyword">null</span>
		orderTimer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token function">getOrderStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 取消救援</span>
<span class="token keyword">const</span> <span class="token function-variable function">cancellation</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// 主动取消救援接口</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/highway-applet/api/rescue/cancelRescue</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;put&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span>uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'informationData'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">,</span>
            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			rescueType<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
			<span class="token comment">//救援状态</span>
			uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabbar'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
			uni<span class="token punctuation">.</span><span class="token function">removeStorageSync</span><span class="token punctuation">(</span><span class="token string">'informationData'</span><span class="token punctuation">)</span> <span class="token comment">// 删除缓存的救援信息、</span>
		<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// 查看当前订单状态</span>
<span class="token keyword">const</span> <span class="token function-variable function">getOrderStatus</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/highway-applet/api/rescue/getListByUserId?cusUserId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">isLoading</span><span class="token operator">:</span><span class="token boolean">true</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token comment">// getRecordByUserId</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">clearInterval</span><span class="token punctuation">(</span>orderTimer<span class="token punctuation">)</span>
			orderTimer <span class="token operator">=</span> <span class="token keyword">null</span>
			rescueType<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
			uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabbar'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token comment">// 订单结束删除线路并删除救援图标</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
				<span class="token function">getQueryMapRoutine</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span>
		
		<span class="token punctuation">}</span>
		<span class="token keyword">let</span> data <span class="token operator">=</span> dataSource<span class="token punctuation">.</span>rescueTeamData <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
		<span class="token comment">// 救援待确认</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			rescueType<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">2</span>
			uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabbar'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
			uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'informationData'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 已确认等待救援</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			rescueType<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">3</span>
			uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabbar'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
			<span class="token comment">// 救援车图标位置</span>
			dataSource<span class="token punctuation">.</span>markers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token literal-property property">latitude</span><span class="token operator">:</span> data<span class="token punctuation">.</span>rescueLatitude<span class="token punctuation">,</span>
				<span class="token literal-property property">longitude</span><span class="token operator">:</span>  data<span class="token punctuation">.</span>rescueLongitude<span class="token punctuation">,</span>
				<span class="token literal-property property">callout</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ccc&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">&quot;16&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">borderRadius</span><span class="token operator">:</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">bgColor</span><span class="token operator">:</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">&quot;ALWAYS&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">anchorY</span><span class="token operator">:</span><span class="token number">15</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
				<span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">&quot;../../static/images/resuce/marker-icon-end.png&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">rotate</span><span class="token operator">:</span><span class="token number">0</span><span class="token comment">//旋转角度</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// 画线路</span>
			<span class="token function">getQueryMapRoutine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 救援结束|主动取消</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">||</span> data<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">// 停止计时器</span>
			<span class="token function">clearInterval</span><span class="token punctuation">(</span>orderTimer<span class="token punctuation">)</span>
			orderTimer <span class="token operator">=</span> <span class="token keyword">null</span>
			rescueType<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
			uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabbar'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

		<span class="token punctuation">}</span>
		<span class="token comment">// 救援结束清掉路线</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
			uni<span class="token punctuation">.</span><span class="token function">switchTab</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/pages/rescue/rescue'</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 点击一键救援</span>
<span class="token keyword">const</span> <span class="token function-variable function">toRescueInformation</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	uni<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/pages/preparation/preparation?params='</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">.</span>roadData<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 唤起拨号页面</span>
<span class="token keyword">const</span> <span class="token function-variable function">toPhone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">let</span> phone <span class="token operator">=</span> data <span class="token operator">||</span> <span class="token string">'02080808080'</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> res <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getSystemInfoSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// ios系统默认有个模态框</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>platform <span class="token operator">==</span> <span class="token string">'ios'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		uni<span class="token punctuation">.</span><span class="token function">makePhoneCall</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">phoneNumber</span><span class="token operator">:</span> phone<span class="token punctuation">,</span>
			<span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'拨打成功了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'拨打失败了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment">//安卓手机手动设置一个showActionSheet</span>
		uni<span class="token punctuation">.</span><span class="token function">showActionSheet</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">itemList</span><span class="token operator">:</span> <span class="token punctuation">[</span>phone<span class="token punctuation">,</span> <span class="token string">'呼叫'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>tapIndex <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					uni<span class="token punctuation">.</span><span class="token function">makePhoneCall</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
						<span class="token literal-property property">phoneNumber</span><span class="token operator">:</span> phone<span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// 从存储里获取当前状态</span>
	rescueType<span class="token punctuation">.</span>value <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabbar'</span><span class="token punctuation">)</span> <span class="token operator">||</span> rescueType<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token comment">// 获取定位</span>
	<span class="token function">getLocate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// 获取订单状态</span>
	<span class="token function">getOrderStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>






<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;scss&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>secure<span class="token operator">-</span>position<span class="token operator">-</span>box <span class="token punctuation">{</span>
	box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
	<span class="token comment">/* height: calc(100vh - 395rpx); */</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> 100vh<span class="token punctuation">;</span>

	<span class="token operator">&amp;</span>__map <span class="token punctuation">{</span>
		<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
		<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">&amp;</span>__wrap <span class="token punctuation">{</span>
		<span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
		<span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">height</span><span class="token operator">:</span> 446rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
		border<span class="token operator">-</span>radius<span class="token operator">:</span> 38rpx 38rpx <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/* #ifdef H5 */</span>
	<span class="token operator">&amp;</span>__wrap <span class="token punctuation">{</span>
		<span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
		<span class="token literal-property property">bottom</span><span class="token operator">:</span> 100rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">height</span><span class="token operator">:</span> 446rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
		border<span class="token operator">-</span>radius<span class="token operator">:</span> 38rpx 38rpx <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/* #endif */</span>

	<span class="token operator">&amp;</span>__content <span class="token punctuation">{</span>
		<span class="token literal-property property">padding</span><span class="token operator">:</span> 22rpx 42rpx 38rpx 38rpx<span class="token punctuation">;</span>
		border<span class="token operator">-</span>bottom<span class="token operator">:</span> 2rpx solid #<span class="token constant">D2D2D2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">&amp;</span>__info <span class="token punctuation">{</span>
		<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
		justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
		align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>

		<span class="token operator">&amp;</span><span class="token operator">--</span>title <span class="token punctuation">{</span>
			font<span class="token operator">-</span>size<span class="token operator">:</span> 28rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">252525</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token operator">&amp;</span><span class="token operator">--</span>position <span class="token punctuation">{</span>
			font<span class="token operator">-</span>size<span class="token operator">:</span> 28rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
			<span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token operator">&amp;</span>__detail <span class="token punctuation">{</span>
		<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
		align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
		margin<span class="token operator">-</span>top<span class="token operator">:</span> 20rpx<span class="token punctuation">;</span>

		<span class="token operator">&amp;</span><span class="token operator">--</span>icon <span class="token punctuation">{</span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> 40rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">height</span><span class="token operator">:</span> 40rpx<span class="token punctuation">;</span>
			margin<span class="token operator">-</span>right<span class="token operator">:</span> 8rpx<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token operator">&amp;</span><span class="token operator">--</span>location <span class="token punctuation">{</span>
			font<span class="token operator">-</span>size<span class="token operator">:</span> 32rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">252525</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token operator">&amp;</span>__rescue <span class="token punctuation">{</span>
		<span class="token literal-property property">padding</span><span class="token operator">:</span> 28rpx 30rpx 0rpx 30rpx<span class="token punctuation">;</span>

		<span class="token operator">&amp;</span><span class="token operator">--</span>operate <span class="token punctuation">{</span>
			<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
			justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
			align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token operator">&amp;</span><span class="token operator">-</span>team <span class="token punctuation">{</span>
			<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
			align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>

			<span class="token operator">&amp;</span><span class="token operator">--</span>name <span class="token punctuation">{</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">666666</span><span class="token punctuation">;</span>
				font<span class="token operator">-</span>size<span class="token operator">:</span> 32rpx<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token operator">&amp;</span><span class="token operator">--</span>phone <span class="token punctuation">{</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
				font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
				font<span class="token operator">-</span>size<span class="token operator">:</span> 36rpx<span class="token punctuation">;</span>
				margin<span class="token operator">-</span>left<span class="token operator">:</span> 20rpx<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token operator">&amp;</span><span class="token operator">--</span>icon <span class="token punctuation">{</span>
			<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
			align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>

			<span class="token operator">&amp;</span><span class="token operator">-</span>video <span class="token punctuation">{</span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				margin<span class="token operator">-</span>right<span class="token operator">:</span> 40rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token operator">&amp;</span><span class="token operator">-</span>phone <span class="token punctuation">{</span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				margin<span class="token operator">-</span>right<span class="token operator">:</span> 14rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token operator">&amp;</span><span class="token operator">--</span>btn <span class="token punctuation">{</span>
			<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
			justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
			align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
			margin<span class="token operator">-</span>top<span class="token operator">:</span> 52rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">background</span><span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
			border<span class="token operator">-</span>radius<span class="token operator">:</span> 46rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">height</span><span class="token operator">:</span> 92rpx<span class="token punctuation">;</span>
			font<span class="token operator">-</span>size<span class="token operator">:</span> 32rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token punctuation">.</span>topTip <span class="token punctuation">{</span>
		box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
		<span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
		<span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">background</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
		<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
		<span class="token literal-property property">margin</span><span class="token operator">:</span> 20rpx 16rpx<span class="token punctuation">;</span>

		<span class="token punctuation">.</span>topTipFlex <span class="token punctuation">{</span>
			<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
			padding<span class="token operator">-</span>top<span class="token operator">:</span> 18rpx<span class="token punctuation">;</span>
			border<span class="token operator">-</span>bottom<span class="token operator">:</span> 2rpx solid #<span class="token constant">F1F1F1</span><span class="token punctuation">;</span>

			<span class="token punctuation">.</span>topTipLeft <span class="token punctuation">{</span>
				<span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span> 26rpx 22rpx 34rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> 180rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> 180rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;@/static/images/resuce/rescue-loding-background.png&quot;</span><span class="token punctuation">)</span> no<span class="token operator">-</span>repeat<span class="token punctuation">;</span>
				background<span class="token operator">-</span>size<span class="token operator">:</span> cover<span class="token punctuation">;</span>
				<span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>

				<span class="token punctuation">.</span>icon <span class="token punctuation">{</span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> 160rpx<span class="token punctuation">;</span>
					<span class="token literal-property property">height</span><span class="token operator">:</span> 160rpx<span class="token punctuation">;</span>
					<span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
					<span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token literal-property property">margin</span><span class="token operator">:</span> auto<span class="token punctuation">;</span>
					<span class="token literal-property property">animation</span><span class="token operator">:</span> rotation 2s linear infinite<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				@keyframes rotation <span class="token punctuation">{</span>
					<span class="token number">0</span><span class="token operator">%</span> <span class="token punctuation">{</span>
						<span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token number">100</span><span class="token operator">%</span> <span class="token punctuation">{</span>
						<span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token punctuation">.</span>time <span class="token punctuation">{</span>
					<span class="token literal-property property">display</span><span class="token operator">:</span> inline<span class="token operator">-</span>block<span class="token punctuation">;</span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> 180rpx<span class="token punctuation">;</span>
					<span class="token literal-property property">height</span><span class="token operator">:</span> 180rpx<span class="token punctuation">;</span>
					text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
					line<span class="token operator">-</span>height<span class="token operator">:</span> 180rpx<span class="token punctuation">;</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">93</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					font<span class="token operator">-</span>size<span class="token operator">:</span> 32rpx<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token punctuation">.</span>topTipRight <span class="token punctuation">{</span>
				<span class="token punctuation">.</span>topBox <span class="token punctuation">{</span>
					<span class="token literal-property property">height</span><span class="token operator">:</span> 58rpx<span class="token punctuation">;</span>
					line<span class="token operator">-</span>height<span class="token operator">:</span> 58rpx<span class="token punctuation">;</span>
					font<span class="token operator">-</span>size<span class="token operator">:</span> 40rpx<span class="token punctuation">;</span>
					font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">252525</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token punctuation">.</span>botBox <span class="token punctuation">{</span>
					<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
					margin<span class="token operator">-</span>top<span class="token operator">:</span> 30rpx<span class="token punctuation">;</span>

					<span class="token punctuation">.</span>icon <span class="token punctuation">{</span>
						<span class="token literal-property property">width</span><span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
						<span class="token literal-property property">height</span><span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
						margin<span class="token operator">-</span>right<span class="token operator">:</span> 12rpx<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					view <span class="token punctuation">{</span>
						<span class="token literal-property property">height</span><span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
						line<span class="token operator">-</span>height<span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
						<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">666666</span><span class="token punctuation">;</span>
						font<span class="token operator">-</span>size<span class="token operator">:</span> 28rpx<span class="token punctuation">;</span>
						margin<span class="token operator">-</span>right<span class="token operator">:</span> 52rpx<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token punctuation">.</span>topTipBtn <span class="token punctuation">{</span>
			<span class="token literal-property property">height</span><span class="token operator">:</span> 88rpx<span class="token punctuation">;</span>
			line<span class="token operator">-</span>height<span class="token operator">:</span> 88rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
			font<span class="token operator">-</span>size<span class="token operator">:</span> 32rpx<span class="token punctuation">;</span>
			text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	<span class="token punctuation">.</span>botTip <span class="token punctuation">{</span>
		box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
		<span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
		<span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
		<span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
		box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0rpx 0rpx 16rpx 2rpx <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">253</span><span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		border<span class="token operator">-</span>radius<span class="token operator">:</span> 32rpx 32rpx 0rpx 0rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">padding</span><span class="token operator">:</span> 42rpx 34rpx 25rpx 38rpx<span class="token punctuation">;</span>

		<span class="token comment">/* #ifdef H5 */</span>
		<span class="token punctuation">.</span>botTip <span class="token punctuation">{</span>
			box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
			<span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
			<span class="token literal-property property">bottom</span><span class="token operator">:</span> 100rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
			<span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFFFFF</span><span class="token punctuation">;</span>
			box<span class="token operator">-</span>shadow<span class="token operator">:</span> 0rpx 0rpx 16rpx 2rpx <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">253</span><span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			border<span class="token operator">-</span>radius<span class="token operator">:</span> 32rpx 32rpx 0rpx 0rpx<span class="token punctuation">;</span>
			<span class="token literal-property property">padding</span><span class="token operator">:</span> 42rpx 34rpx 25rpx 38rpx<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">/* #endif */</span>
		<span class="token punctuation">.</span>botTipTitle <span class="token punctuation">{</span>
			<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
			justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
			align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>

			<span class="token punctuation">.</span>titleLeft <span class="token punctuation">{</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
				line<span class="token operator">-</span>height<span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
				font<span class="token operator">-</span>size<span class="token operator">:</span> 40rpx<span class="token punctuation">;</span>
				font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">252525</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token punctuation">.</span>titleRight <span class="token punctuation">{</span>
				font<span class="token operator">-</span>size<span class="token operator">:</span> 36rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">666666</span><span class="token punctuation">;</span>

				text <span class="token punctuation">{</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token punctuation">.</span>botTipList <span class="token punctuation">{</span>
			<span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>

			<span class="token punctuation">.</span>label <span class="token punctuation">{</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				line<span class="token operator">-</span>height<span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				font<span class="token operator">-</span>size<span class="token operator">:</span> 32rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">666666</span><span class="token punctuation">;</span>
				margin<span class="token operator">-</span>right<span class="token operator">:</span> 32rpx<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token punctuation">.</span>name <span class="token punctuation">{</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				line<span class="token operator">-</span>height<span class="token operator">:</span> 66rpx<span class="token punctuation">;</span>
				font<span class="token operator">-</span>size<span class="token operator">:</span> 36rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">111111</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token punctuation">.</span>phone <span class="token punctuation">{</span>
				margin<span class="token operator">-</span>left<span class="token operator">:</span> 16rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
				font<span class="token operator">-</span>size<span class="token operator">:</span> 36rpx<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token punctuation">.</span>icon <span class="token punctuation">{</span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> 60rpx<span class="token punctuation">;</span>
				vertical<span class="token operator">-</span>align<span class="token operator">:</span> middle<span class="token punctuation">;</span>
				<span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
				<span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br><span class="line-number">538</span><br><span class="line-number">539</span><br><span class="line-number">540</span><br><span class="line-number">541</span><br><span class="line-number">542</span><br><span class="line-number">543</span><br><span class="line-number">544</span><br><span class="line-number">545</span><br><span class="line-number">546</span><br><span class="line-number">547</span><br><span class="line-number">548</span><br><span class="line-number">549</span><br><span class="line-number">550</span><br><span class="line-number">551</span><br><span class="line-number">552</span><br><span class="line-number">553</span><br><span class="line-number">554</span><br><span class="line-number">555</span><br><span class="line-number">556</span><br><span class="line-number">557</span><br><span class="line-number">558</span><br><span class="line-number">559</span><br><span class="line-number">560</span><br><span class="line-number">561</span><br><span class="line-number">562</span><br><span class="line-number">563</span><br><span class="line-number">564</span><br><span class="line-number">565</span><br><span class="line-number">566</span><br><span class="line-number">567</span><br><span class="line-number">568</span><br><span class="line-number">569</span><br><span class="line-number">570</span><br><span class="line-number">571</span><br><span class="line-number">572</span><br><span class="line-number">573</span><br><span class="line-number">574</span><br><span class="line-number">575</span><br><span class="line-number">576</span><br><span class="line-number">577</span><br><span class="line-number">578</span><br><span class="line-number">579</span><br><span class="line-number">580</span><br><span class="line-number">581</span><br><span class="line-number">582</span><br><span class="line-number">583</span><br><span class="line-number">584</span><br><span class="line-number">585</span><br><span class="line-number">586</span><br><span class="line-number">587</span><br><span class="line-number">588</span><br><span class="line-number">589</span><br><span class="line-number">590</span><br><span class="line-number">591</span><br><span class="line-number">592</span><br><span class="line-number">593</span><br><span class="line-number">594</span><br><span class="line-number">595</span><br><span class="line-number">596</span><br><span class="line-number">597</span><br><span class="line-number">598</span><br><span class="line-number">599</span><br><span class="line-number">600</span><br><span class="line-number">601</span><br><span class="line-number">602</span><br><span class="line-number">603</span><br><span class="line-number">604</span><br><span class="line-number">605</span><br><span class="line-number">606</span><br><span class="line-number">607</span><br><span class="line-number">608</span><br><span class="line-number">609</span><br><span class="line-number">610</span><br><span class="line-number">611</span><br><span class="line-number">612</span><br><span class="line-number">613</span><br><span class="line-number">614</span><br><span class="line-number">615</span><br><span class="line-number">616</span><br><span class="line-number">617</span><br><span class="line-number">618</span><br><span class="line-number">619</span><br><span class="line-number">620</span><br><span class="line-number">621</span><br><span class="line-number">622</span><br><span class="line-number">623</span><br><span class="line-number">624</span><br><span class="line-number">625</span><br><span class="line-number">626</span><br><span class="line-number">627</span><br><span class="line-number">628</span><br><span class="line-number">629</span><br><span class="line-number">630</span><br><span class="line-number">631</span><br><span class="line-number">632</span><br><span class="line-number">633</span><br><span class="line-number">634</span><br><span class="line-number">635</span><br><span class="line-number">636</span><br><span class="line-number">637</span><br><span class="line-number">638</span><br><span class="line-number">639</span><br><span class="line-number">640</span><br><span class="line-number">641</span><br><span class="line-number">642</span><br><span class="line-number">643</span><br><span class="line-number">644</span><br><span class="line-number">645</span><br><span class="line-number">646</span><br><span class="line-number">647</span><br><span class="line-number">648</span><br><span class="line-number">649</span><br><span class="line-number">650</span><br><span class="line-number">651</span><br><span class="line-number">652</span><br><span class="line-number">653</span><br><span class="line-number">654</span><br><span class="line-number">655</span><br><span class="line-number">656</span><br><span class="line-number">657</span><br><span class="line-number">658</span><br><span class="line-number">659</span><br><span class="line-number">660</span><br><span class="line-number">661</span><br><span class="line-number">662</span><br><span class="line-number">663</span><br><span class="line-number">664</span><br><span class="line-number">665</span><br><span class="line-number">666</span><br><span class="line-number">667</span><br><span class="line-number">668</span><br><span class="line-number">669</span><br><span class="line-number">670</span><br><span class="line-number">671</span><br><span class="line-number">672</span><br><span class="line-number">673</span><br><span class="line-number">674</span><br><span class="line-number">675</span><br><span class="line-number">676</span><br><span class="line-number">677</span><br><span class="line-number">678</span><br><span class="line-number">679</span><br><span class="line-number">680</span><br><span class="line-number">681</span><br><span class="line-number">682</span><br><span class="line-number">683</span><br><span class="line-number">684</span><br><span class="line-number">685</span><br><span class="line-number">686</span><br><span class="line-number">687</span><br><span class="line-number">688</span><br><span class="line-number">689</span><br><span class="line-number">690</span><br><span class="line-number">691</span><br><span class="line-number">692</span><br><span class="line-number">693</span><br><span class="line-number">694</span><br><span class="line-number">695</span><br><span class="line-number">696</span><br><span class="line-number">697</span><br><span class="line-number">698</span><br><span class="line-number">699</span><br><span class="line-number">700</span><br><span class="line-number">701</span><br><span class="line-number">702</span><br><span class="line-number">703</span><br><span class="line-number">704</span><br><span class="line-number">705</span><br><span class="line-number">706</span><br><span class="line-number">707</span><br><span class="line-number">708</span><br><span class="line-number">709</span><br><span class="line-number">710</span><br><span class="line-number">711</span><br><span class="line-number">712</span><br><span class="line-number">713</span><br><span class="line-number">714</span><br><span class="line-number">715</span><br><span class="line-number">716</span><br><span class="line-number">717</span><br><span class="line-number">718</span><br><span class="line-number">719</span><br><span class="line-number">720</span><br><span class="line-number">721</span><br><span class="line-number">722</span><br><span class="line-number">723</span><br><span class="line-number">724</span><br><span class="line-number">725</span><br><span class="line-number">726</span><br><span class="line-number">727</span><br><span class="line-number">728</span><br><span class="line-number">729</span><br><span class="line-number">730</span><br><span class="line-number">731</span><br><span class="line-number">732</span><br><span class="line-number">733</span><br><span class="line-number">734</span><br><span class="line-number">735</span><br><span class="line-number">736</span><br><span class="line-number">737</span><br><span class="line-number">738</span><br><span class="line-number">739</span><br><span class="line-number">740</span><br><span class="line-number">741</span><br><span class="line-number">742</span><br><span class="line-number">743</span><br><span class="line-number">744</span><br><span class="line-number">745</span><br><span class="line-number">746</span><br><span class="line-number">747</span><br><span class="line-number">748</span><br><span class="line-number">749</span><br><span class="line-number">750</span><br><span class="line-number">751</span><br><span class="line-number">752</span><br><span class="line-number">753</span><br><span class="line-number">754</span><br></div></div><h2 id="请求头签名"><a href="#请求头签名" class="header-anchor">#</a> 请求头签名</h2> <ul><li><code>npm i -S CryptoJS</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// utils.js</span>
<span class="token keyword">import</span> CryptoJS <span class="token keyword">from</span> <span class="token string">&quot;crypto-js&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 获取签名</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">generateSignature</span><span class="token punctuation">(</span><span class="token parameter">method<span class="token punctuation">,</span> uri<span class="token punctuation">,</span> query<span class="token punctuation">,</span> secretKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// uri = uri.replace('/highway-applet/api','/highway-applet//api')//暂时</span>
    <span class="token keyword">const</span> message <span class="token operator">=</span> method <span class="token operator">+</span> uri <span class="token operator">+</span> <span class="token punctuation">(</span>query <span class="token operator">?</span> <span class="token string">'?'</span> <span class="token operator">+</span> query <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">+</span> secretKey<span class="token punctuation">;</span>
    <span class="token keyword">const</span> hash <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">SHA256</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> signature <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Base64<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> signature<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// https://gaosudanao.gci-china.com</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getBaseUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> baseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span> <span class="token operator">?</span> <span class="token string">'https://gongludanaoyitihuapingtaiwxapp.gzydzf.com'</span> <span class="token operator">:</span> <span class="token string">'https://gongludanaoyitihuapingtaiwxapp.gzydzf.com'</span>
  <span class="token keyword">return</span> baseUrl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 提示信息</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">showToastFn</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> message<span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> showToastFn
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="uniapp封装请求"><a href="#uniapp封装请求" class="header-anchor">#</a> uniapp封装请求</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// request/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> generateSignature<span class="token punctuation">,</span> getBaseUrl<span class="token punctuation">,</span> showToastFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../common/utils.js'</span>

<span class="token keyword">let</span> ajaxNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">request</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// if (params.method.toUpperCase() === 'PUT') {</span>
    <span class="token comment">//     uni.showToast({</span>
    <span class="token comment">//         title: '保存成功',</span>
    <span class="token comment">//         icon: 'success',</span>
    <span class="token comment">//         mask: true,</span>
    <span class="token comment">//     });</span>
    <span class="token comment">// } else if(params.method.toUpperCase() !== 'PUT' &amp;&amp; !params.isLoading) {</span>
    <span class="token comment">//     uni.showLoading({</span>
    <span class="token comment">//         title: '加载中',</span>
    <span class="token comment">//         mask: true,</span>
    <span class="token comment">//     });</span>
    <span class="token comment">// }</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>params<span class="token punctuation">.</span>isLoading<span class="token punctuation">)</span><span class="token punctuation">{</span>
        uni<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'加载中'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


	<span class="token comment">// 设置请求头签名</span>
	<span class="token keyword">let</span> header <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">'/highway-applet/api/login/wxLogin'</span> <span class="token operator">||</span> params<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">'/highway-applet/api/login/getAuthorization'</span> <span class="token operator">||</span> params<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'/highway-applet/api/login/getCusInfoByMinaId'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		header <span class="token operator">=</span> <span class="token keyword">undefined</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取接口对应的签名</span>
        <span class="token keyword">let</span> signature <span class="token operator">=</span> <span class="token string">''</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            signature <span class="token operator">=</span> <span class="token function">generateSignature</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Gsgl@2023-!'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            signature <span class="token operator">=</span> <span class="token function">generateSignature</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'Gsgl@2023-!'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
		header <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token string-property property">'X-Signature'</span><span class="token operator">:</span> signature
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

    ajaxNum<span class="token operator">++</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token operator">...</span>params<span class="token punctuation">,</span>
			header<span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token function">getBaseUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// if(!params.isLoading){</span>
                <span class="token comment">//     uni.hideLoading()</span>
                <span class="token comment">// }</span>
                ajaxNum<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">showToastFn</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'接口出错'</span><span class="token punctuation">)</span>
                    <span class="token keyword">return</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">showToastFn</span><span class="token punctuation">(</span><span class="token string">'网络不给力,请稍后重试!'</span><span class="token punctuation">)</span>
                <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">complete</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>ajaxNum <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
                uni<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h2 id="小程序登录流程"><a href="#小程序登录流程" class="header-anchor">#</a> 小程序登录流程</h2> <ul><li><code>@getphonenumber</code>查看用户是否授权成功，没成功拒绝访问</li> <li>用户授权则调用<code>uin.login</code>的<code>code</code>去获取用户的<code>openid</code>和<code>sessionkey</code></li> <li>获取用户的个人信息，调用<code>uni.getUserInfo</code>（需要传递<code>openid、sessionkey、encryptedData、iv、avatarUrl、nickName</code>）</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> request <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/request/index.js'</span>
<span class="token comment">//解决  体验版|正式版 手机授权第一次解密失败</span>
uni<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">provider</span><span class="token operator">:</span> <span class="token string">'weixin'</span><span class="token punctuation">,</span> 
	  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">loginRes</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 字典项</span>
<span class="token keyword">let</span> dictionaryList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'rescue_type'</span><span class="token punctuation">,</span> <span class="token string">'rescue_occupy_lane'</span><span class="token punctuation">,</span><span class="token string">'schedule_vehicle_type'</span> <span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">decryptPhoneNumber</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">phoneData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>phoneData<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token comment">//拒绝授权</span>
	uni<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">provider</span><span class="token operator">:</span> <span class="token string">'weixin'</span><span class="token punctuation">,</span> <span class="token comment">//使用微信登录</span>
	  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">loginRes</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/highway-applet/api/login/getAuthorization</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
				<span class="token literal-property property">code</span><span class="token operator">:</span> loginRes<span class="token punctuation">.</span>code
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">const</span> sessionKey <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>sessionKey<span class="token punctuation">;</span>
			<span class="token keyword">const</span> openid <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>openid<span class="token punctuation">;</span>
			uni<span class="token punctuation">.</span><span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token parameter">headData</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
					<span class="token keyword">const</span> encryptedData <span class="token operator">=</span> phoneData<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>encryptedData<span class="token punctuation">;</span>
					<span class="token keyword">const</span> iv <span class="token operator">=</span> phoneData<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>iv<span class="token punctuation">;</span>
					<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
						<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/highway-applet/api/login/wxLogin</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
						<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
							<span class="token literal-property property">openid</span><span class="token operator">:</span> openid<span class="token punctuation">,</span> <span class="token comment">//授权用户唯一标识</span>
							<span class="token literal-property property">sessionKey</span><span class="token operator">:</span> sessionKey<span class="token punctuation">,</span><span class="token comment">//会话秘钥</span>
							<span class="token literal-property property">encryptedData</span><span class="token operator">:</span> encryptedData<span class="token punctuation">,</span><span class="token comment">//手机号加密字段</span>
							<span class="token literal-property property">iv</span><span class="token operator">:</span> iv<span class="token punctuation">,</span><span class="token comment">//初始化向量</span>
							<span class="token literal-property property">avatarUrl</span><span class="token operator">:</span> headData<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>avatarUrl<span class="token punctuation">,</span><span class="token comment">//头像地址</span>
							<span class="token literal-property property">nickName</span><span class="token operator">:</span> headData<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>nickName<span class="token punctuation">,</span><span class="token comment">//昵称</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
					<span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">{</span>
						<span class="token comment">// 首次登录将个人信息存入缓存</span>
						uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
						uni<span class="token punctuation">.</span><span class="token function">switchTab</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
							<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/pages/rescue/rescue'</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> dictionaryList<span class="token punctuation">)</span><span class="token punctuation">{</span>
							<span class="token function">getDictionaryData</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 通过字典编号获取字典数据</span>
<span class="token keyword">const</span> <span class="token function-variable function">getDictionaryData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> res<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/highway-applet/api/plate/getDictByCode?dictCode=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">switch</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token string">'rescue_type'</span><span class="token operator">:</span>
			dictionary<span class="token punctuation">.</span>rescueData <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token comment">//救援类型</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'rescue_occupy_lane'</span><span class="token operator">:</span>
			dictionary<span class="token punctuation">.</span>laneData <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token comment">//占用车道</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'schedule_vehicle_type'</span><span class="token operator">:</span>
			dictionary<span class="token punctuation">.</span>accidentCar <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token comment">//事故车辆</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'dictionary'</span><span class="token punctuation">,</span> dictionary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><h2 id="xm-keyboard"><a href="#xm-keyboard" class="header-anchor">#</a> xm-keyboard</h2> <p>支持Vue3的车牌键盘</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;xm-box&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;showKeyBoard ? 'show':''&quot;</span> @tap<span class="token operator">=</span><span class="token string">&quot;toShow&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;xm-input&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;plateNumber.length === index ? 'cur':''&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in 8&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">{</span> plateNumber<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>xm<span class="token operator">-</span>keyboard v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;showKeyBoard&quot;</span> <span class="token literal-property property">maxAutoClose</span> <span class="token operator">:</span>show<span class="token operator">=</span><span class="token string">&quot;showKeyBoard&quot;</span> <span class="token operator">:</span>mask<span class="token operator">=</span><span class="token string">&quot;false&quot;</span> @change<span class="token operator">=</span><span class="token string">&quot;data =&gt; changeValue(data)&quot;</span> <span class="token operator">:</span>maxLength<span class="token operator">=</span><span class="token string">&quot;8&quot;</span> <span class="token operator">:</span>defaultValue<span class="token operator">=</span><span class="token string">&quot;plateNumber&quot;</span> <span class="token operator">:</span>mode<span class="token operator">=</span><span class="token string">&quot;keyMode&quot;</span> @close<span class="token operator">=</span><span class="token string">&quot;e =&gt; closeShow(e)&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>xm<span class="token operator">-</span>keyboard<span class="token operator">&gt;</span>

<span class="token keyword">let</span> showKeyBoard <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> keyMode <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> length <span class="token operator">=</span> plateNumber<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">toShow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	showKeyBoard<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
	isFocus<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	plateNumber<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">.</span>text 
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>xm<span class="token operator">-</span>box<span class="token punctuation">{</span>
	<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
	justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
	margin<span class="token operator">-</span>left<span class="token operator">:</span> 52rpx<span class="token punctuation">;</span>
	
	<span class="token operator">&amp;</span><span class="token punctuation">.</span>show<span class="token punctuation">{</span>
		<span class="token punctuation">.</span>cur <span class="token punctuation">{</span>
			border<span class="token operator">-</span>color<span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
			
			@keyframes blink<span class="token punctuation">{</span>
				<span class="token number">0</span><span class="token operator">%</span><span class="token punctuation">{</span>
					<span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">{</span>
					<span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">{</span>
					<span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>after<span class="token punctuation">{</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> #4367FD<span class="token punctuation">;</span>
				<span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'|'</span><span class="token punctuation">;</span>
				<span class="token literal-property property">animation</span><span class="token operator">:</span> blink 1s infinite<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token punctuation">.</span>xm<span class="token operator">-</span>input<span class="token punctuation">{</span>
		margin<span class="token operator">-</span>right<span class="token operator">:</span> 20rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">border</span><span class="token operator">:</span> 2rpx solid #<span class="token constant">ADADAD</span><span class="token punctuation">;</span>
		border<span class="token operator">-</span>radius<span class="token operator">:</span> 5rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">width</span><span class="token operator">:</span> 48rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">height</span><span class="token operator">:</span> 48rpx<span class="token punctuation">;</span>
		<span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
		align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
		justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
		font<span class="token operator">-</span>size<span class="token operator">:</span> 36rpx<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><h2 id="代码格式化"><a href="#代码格式化" class="header-anchor">#</a> 代码格式化</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// .prettierrc</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// .eslintrc.js</span>
<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'no-console.log'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'warn'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'warn'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'indent'</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">'space-before-function-paren'</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="antd-vue样式"><a href="#antd-vue样式" class="header-anchor">#</a> Antd vue样式</h2> <h3 id="radio"><a href="#radio" class="header-anchor">#</a> radio</h3> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">:deep(.ant-radio-group)</span> <span class="token punctuation">{</span>
	<span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:deep(.ant-radio-wrapper)</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #CCD1DC<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:deep(.ant-radio-inner)</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #294680<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #409EFF<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:deep(.ant-radio-inner)::after</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> #409EFF<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:deep(.ant-radio-wrapper.ant-radio-wrapper-checked .ant-radio-inner)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 取消选中瞬间的白色样式 */</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="滚动条"><a href="#滚动条" class="header-anchor">#</a> 滚动条</h3> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.organ-box::-webkit-scrollbar</span> <span class="token punctuation">{</span>
  <span class="token comment">/*滚动条整体样式*/</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token comment">/*高宽分别对应横竖滚动条的尺寸*/</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.organ-box::-webkit-scrollbar-thumb</span> <span class="token punctuation">{</span>
  <span class="token comment">/*滚动条里面小方块*/</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #0180FF<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.organ-box::-webkit-scrollbar-track</span> <span class="token punctuation">{</span>
  <span class="token comment">/*滚动条里面轨道*/</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #083D8E<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="处理页面空白chunk-load-failed"><a href="#处理页面空白chunk-load-failed" class="header-anchor">#</a> 处理页面空白chunk load failed</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 处理页面空白chunk load failed</span>
router<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Loading chunk (\d)+ failed</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> isChunkLoadFailed <span class="token operator">=</span> error<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>isChunkLoadFailed<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 用路由的replace方法，并没有相当于F5刷新页面，失败的js文件并没有从新请求，会导致一直尝试replace页面导致死循环，而用 location.reload 方法，相当于触发F5刷新页面，虽然用户体验上来说会有刷新加载察觉，但不会导致页面卡死及死循环，从而曲线救国解决该问题</span>
        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// const targetPath = router.history.pending.fullPath;</span>
        <span class="token comment">// router.replace(targetPath);</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="页面只弹出一个接口请求报错提示"><a href="#页面只弹出一个接口请求报错提示" class="header-anchor">#</a> 页面只弹出一个接口请求报错提示</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//token是否超过有效期</span>
    <span class="token keyword">let</span> tokens <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'tokenTimes'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>tokens<span class="token operator">&amp;&amp;</span>tokens<span class="token punctuation">.</span>termOfValidity<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// console.log(&quot;得很好：&quot;,parseInt(nowTime-new Date(tokens.currentTime))/1000/60)</span>
        <span class="token comment">// console.log(&quot;得很好：&quot;,new Date(tokens.currentTime))</span>
        <span class="token keyword">let</span> timeDiff <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>nowTime<span class="token operator">-</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>tokens<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span><span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>timeDiff<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// console.log(&quot;需要刷新token了&quot;)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 获取文件名</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>res<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span>
    <span class="token comment">// 响应拦截处理</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> err <span class="token operator">=</span> error<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//按照实际的响应包进行解析，通过关键字匹配的方式</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token operator">?.</span>message <span class="token operator">===</span> <span class="token string">'Token失效，请重新登录'</span><span class="token operator">||</span>error<span class="token punctuation">.</span>response<span class="token operator">?.</span>data<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token string">'Token失效，请重新登录'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 页面只弹出一个接口请求报错提示</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>errIndex <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'很抱歉，登录已过期，请重新登录'</span><span class="token punctuation">)</span>
            store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_ERR_INDEX'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">removeStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>_CONFIG<span class="token punctuation">[</span><span class="token string">'goBackUrl'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;'一体化平台'&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// switch (true) {</span>
    <span class="token comment">//     case err.indexOf('Network') !== -1:</span>
    <span class="token comment">//         console.log('后端服务器无响应或者URL错误', err);</span>
    <span class="token comment">//         message.error('后端服务器无响应或者URL错误');</span>
    <span class="token comment">//         break;</span>
    <span class="token comment">//     case err.indexOf('timeout') !== -1:</span>
    <span class="token comment">//         console.log('请求后端服务器超时！', err);</span>
    <span class="token comment">//         message.error('请求后端服务器超时！');</span>
    <span class="token comment">//         break;</span>
    <span class="token comment">//     default:</span>
    <span class="token comment">//         message.error(error.response.data.message||'接口请求出错！');</span>
    <span class="token comment">//         break</span>
    <span class="token comment">// }</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Network'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后端服务器无响应或者URL错误'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'后端服务器无响应或者URL错误'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'timeout'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'请求后端服务器超时！'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'请求后端服务器超时！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token operator">?.</span>data<span class="token punctuation">.</span>message<span class="token operator">||</span><span class="token string">'接口请求出错！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Aiden124578/my_blog/edit/master/docs/03.技术/20.Vue3实战/05.Vue3实战难点.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/my_blog/tags/?tag=Vue3%E5%AE%9E%E6%88%98" title="标签">#Vue3实战</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/08/14, 09:24:32</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/my_blog/pages/leetcode/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">LeetCode算法</div></a> <a href="/my_blog/pages/fcb539/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">小程序WebSocket打印文字兼自动滚动（chatgpt）</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/my_blog/pages/leetcode/" class="prev">LeetCode算法</a></span> <span class="next"><a href="/my_blog/pages/fcb539/">小程序WebSocket打印文字兼自动滚动（chatgpt）</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/my_blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/my_blog/pages/d9915d/"><div>
            大文件分片上传
            <!----></div></a> <span class="date">08-05</span></dt></dl><dl><dd>02</dd> <dt><a href="/my_blog/pages/8deb1d/"><div>
            Vue3实现OSS存储
            <!----></div></a> <span class="date">08-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/my_blog/pages/66e106/"><div>
            H5 TTS
            <!----></div></a> <span class="date">08-05</span></dt></dl> <dl><dd></dd> <dt><a href="/my_blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1047929038@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Aiden124578" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>Aiden Wu | <a href="https://github.com/Aiden124578/my_blog/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/my_blog/assets/js/app.2b316682.js" defer></script><script src="/my_blog/assets/js/2.f62b317f.js" defer></script><script src="/my_blog/assets/js/89.6b6ecc70.js" defer></script>
  </body>
</html>
